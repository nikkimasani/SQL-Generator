<!DOCTYPE html>

<html lang="en">
<!--Header-->
<head>
<meta charset="utf-8"/>
<title>SQL Generator Tool</title>
<!-- Body (Styling Elements/CSS)-->
<style>
.compact-banner {
  margin: 12px auto 18px auto;
  padding: 6px 12px;
  font-size: 12.5px;
  background-color: #fff9db;
  color: #5a4400;
  border-left: 4px solid #ffd43b;
  border-radius: 6px;
  max-width: 720px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.08);
  text-align: center;
  animation: fadeInSlideDown 0.6s ease-in-out;
  line-height: 1.4;
}
.compact-banner a {
  color: #007acc;
  font-weight: 600;
  text-decoration: none;
}
.compact-banner a:hover {
  text-decoration: underline;
}
@keyframes fadeInSlideDown {
  from {
    opacity: 0;
    transform: translateY(-6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
textarea[id^="sqlOutput"] {
  height: 400px;
  width: 100%;
  font-family: Consolas, monospace;
  font-size: 14px;
  resize: vertical;
  padding: 10px;
  box-sizing: border-box;
}

        body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
    }

    


    .accordion-btn {
      display: block;
      width: 100%;
      text-align: left;
      padding: 12px;
      margin: 5px 0;
      background: #eee;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      font-weight: bold;
      transition: background 0.2s ease;
    }

    .accordion-btn:hover,
    .accordion-btn.active {
      background: #ddd;
    }

    .tab-content {
      display: none;
      margin-bottom: 10px;
      background: #fafafa;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .tab-content.active {
      display: block;
    }

    label {
      display: block;
      margin: 10px 0 4px;
      font-weight: 600;
    }

    input,
    textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    textarea {
      font-family: Consolas, monospace;
      background: #f0f0f0;
    }

    .btn {
      padding: 10px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 8px;
    }

    .btn.generate {
      background: #4CAF50;
      color: white;
    }

    .btn.copy {
      background: #2196F3;
      color: white;
    }

    .btn.reset {
      background: #FF9800;
      color: white;
    }

    .btn.export {
      background: #9C27B0;
      color: white;
    }

    .copy-success {
      display: none;
      margin-top: 8px;
      color: #16a34a;
      font-weight: bold;
    }
  
/* üåô Dark Mode */
body.dark-mode {
  background: #1e1e1e;
  color: #00aaff; /* üí° Bright blue font color */
}

body.dark-mode 

body.dark-mode input,
body.dark-mode textarea {
  background: #333;
  color: white;
  border-color: #555;
}

body.dark-mode .accordion-btn {
  background: #444;
  color: #f0f0f0;
}

body.dark-mode .accordion-btn.active {
  background: #555;
}

/* ‚ú® Gradient Buttons */
.btn.generate {
  background: linear-gradient(135deg, #42e695, #3bb2b8);
  color: white;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.btn.generate:hover {
  background: linear-gradient(135deg, #34d58c, #309aa8);
}
.btn.copy {
  background: linear-gradient(135deg, #36d1dc, #5b86e5);
  color: white;
}
.btn.copy:hover {
  background: linear-gradient(135deg, #2bbec7, #4f75cd);
}
.btn.reset {
  background: linear-gradient(135deg, #f7971e, #ffd200);
  color: black;
}
.btn.reset:hover {
  background: linear-gradient(135deg, #f5a623, #ffda44);
}
.btn.export {
  background: linear-gradient(135deg, #9b59b6, #8e44ad);
  color: white;
}
.btn.export:hover {
  background: linear-gradient(135deg, #a970d6, #7e35a2);
}

/* Sticky header */
.sticky-toolbar {
  position: sticky;
  top: 0;
  z-index: 100;
  background: white;
  padding: 10px 0;
  margin-bottom: 15px;
  text-align: center;
}
body.dark-mode .sticky-toolbar {
  background: #2c2c2c;
}

/* Smooth Accordion Animation */
.tab-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.3s ease;
}
.tab-content.active {
  max-height: 5000px; /* large enough */
  padding: 15px;
}

.nav-bar {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 0.75rem;
  margin: 10px auto 20px;
  padding: 6px 0;
  background: linear-gradient(to right, #f0f0f0, #e0e0e0);
  border-radius: 8px;
  width: 100%;
  max-width: 1000px; /* Match your .container max-width */
  box-sizing: border-box;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}


.nav-btn {
  background-color: #007acc;
  color: white;
  padding: 6px 12px;
  font-size: 13px;
  border-radius: 5px;
  font-weight: 500;
  text-decoration: none;
  transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
}

.nav-btn:hover {
  background-color: #005fa3;
  transform: translateY(-1px);
}


/* üéØ Dark mode for nav-bar and buttons */
body.dark-mode .nav-bar {
  background: linear-gradient(to right, #2c2c2c, #1e1e1e);
  box-shadow: 0 2px 5px rgba(255,255,255,0.1);
}

body.dark-mode .nav-btn {
  background-color: #444;
  color: #f0f0f0;
}

body.dark-mode .nav-btn:hover {
  background-color: #666;
  color: #fff;
}

.nav-btn {
  transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
}

.nav-btn:hover {
  transform: translateY(-1px);
}


/* üîç Search Bar Styling */
.search-container {
  position: relative;
  width: 50%;
}
#searchInput {
  width: 100%;
  padding: 10px 30px 10px 15px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 8px;
}
.clear-btn {
  position: absolute;
  right: 10px;
  top: 6px;
  font-size: 20px;
  color: #999;
  cursor: pointer;
  user-select: none;
}


/* üé® Stylized SQL Generator Header */
.stylish-header {
  text-align: center;
  font-size: 2.5em;
  font-weight: bold;
  margin-top: 20px;
  margin-bottom: 10px;
  color: #2c3e50;
  text-shadow: 1px 1px 2px #ccc;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  animation: fadeIn 1.2s ease-in-out;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}


/* Expand SQL output textareas */



/* Fully expanded SQL output textareas */


.footnote { font-size: 13px; color: #555; font-style: italic; margin-top: 4px; }

/* Fix input/textarea cutoff and overflow */
input,
textarea {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  overflow-x: auto;
}




.btn.default {
  background: linear-gradient(135deg, #607d8b, #455a64);
  color: white;
}
.btn.default:hover {
  background: linear-gradient(135deg, #546e7a, #37474f);
}


.container-wrapper {
  max-width: 1100px;
  margin: 30px auto;
  padding: 20px 30px;
  background-color: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}



.collapsible-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease;
}

.collapsible-content.show {
  max-height: 3000px; /* Adjust as needed to fit your content */
}
.toast-message {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #323232;
  color: #fff;
  padding: 12px 24px;
  border-radius: 6px;
  font-size: 14px;
  opacity: 0;
  z-index: 1000;
  transition: opacity 0.5s ease, transform 0.5s ease;
}
.toast-message.show {
  opacity: 1;
  transform: translateX(-50%) translateY(-10px);
}


.sidebar-nav {
  position: fixed;
  top: 80px;
  left: 0;
  width: 220px;
  background: linear-gradient(to bottom, #f0f0f0, #e0e0e0);
  padding: 20px 10px;
  border-right: 1px solid #ccc;
  height: 100%;
  box-shadow: 2px 0 5px rgba(0,0,0,0.05);
  z-index: 99;
  transition: width 0.3s ease;
}

.sidebar-nav.collapsed {
  width: 50px;
  overflow: hidden;
}

.sidebar-nav.collapsed .sidebar-title,
.sidebar-nav.collapsed .nav-btn {
  display: none;
}

.sidebar-title {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 20px;
  color: #1a237e;
  text-align: center;
}

.sidebar-nav .nav-btn {
  display: block;
  margin: 10px 0;
  padding: 10px 14px;
  background-color: #007acc;
  color: white;
  text-align: center;
  border-radius: 6px;
  text-decoration: none;
}

.sidebar-nav .nav-btn:hover {
  background-color: #005fa3;
}

body.dark-mode .sidebar-nav {
  background: linear-gradient(to bottom, #2c2c2c, #1e1e1e);
  border-color: #444;
}

body.dark-mode .sidebar-title {
  color: #fff;
}

body.dark-mode .sidebar-nav .nav-btn {
  background-color: #444;
  color: #f0f0f0;
}

body.dark-mode .sidebar-nav .nav-btn:hover {
  background-color: #666;
}


.floating-banner {
  display: inline-block;
  background-color: #fff7c4;
  color: #444;
  font-size: 14px;
  padding: 10px 18px;
  margin: 10px auto 20px auto;
  border-left: 4px solid #fbc02d;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  animation: slideInFade 1s ease-out;
  text-align: center;
  max-width: 800px;
}

.floating-banner a {
  color: #007acc;
  text-decoration: none;
  font-weight: bold;
}
.floating-banner a:hover {
  text-decoration: underline;
}

@keyframes slideInFade {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
<style>
body {
  font-family: "Segoe UI", Roboto, Inter, sans-serif;
  background-color: #f9fbfd;
  color: #333;
  line-height: 1.6;
  margin: 0;
  padding: 0;
}
input, textarea {
  border-radius: 6px;
  border: 1px solid #ccc;
  padding: 6px 10px;
  font-size: 14px;
  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
input:focus, textarea:focus {
  border-color: #3f8efc;
  box-shadow: 0 0 4px rgba(63, 142, 252, 0.6);
  outline: none;
}
button.btn {
  border-radius: 6px;
  background-color: #3f8efc;
  color: white;
  border: none;
  padding: 6px 14px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}
button.btn:hover {
  background-color: #3378d5;
}
textarea.output {
  font-family: "Courier New", monospace;
  background-color: #f5f8fa;
  padding: 10px;
  border: 1px solid #ccc;
  width: 100%;
  min-height: 120px;
  margin-top: 5px;
  border-radius: 6px;
}
.accordion-btn {
  font-size: 15px;
  padding: 10px 14px;
  border-radius: 6px;
  margin-top: 6px;
}
.tab-content {
  background: white;
  padding: 16px;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
  margin-bottom: 16px;
}
h2 {
  margin-top: 0;
  font-weight: 500;
  color: #2b2b2b;
}
.sticky-toolbar {
  background-color: #ffffffdd;
  backdrop-filter: blur(4px);
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}
</style>
<style>
/* Accordion open/close animation */
.tab-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.3s ease;
}
.accordion-btn.active + .tab-content {
  max-height: 5000px;
  padding: 16px;
}

/* Highlight matches */
.highlight {
  background-color: yellow;
  font-weight: bold;
}

/* Button and input hover/active transitions */
button.btn, input, textarea {
  transition: all 0.25s ease-in-out;
}

/* Sticky Group Header */
.scenario-group {
  position: relative;
}
.group-btn {
  position: sticky;
  top: 50px;
  background-color: #eaf2ff;
  z-index: 1;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

/* Floating scroll-to-top button */
#scrollTopBtn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background-color: #3f8efc;
  color: white;
  border: none;
  padding: 10px 12px;
  font-size: 16px;
  border-radius: 50%;
  cursor: pointer;
  display: none;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  z-index: 999;
}
#scrollTopBtn:hover {
  background-color: #2c6edb;
}
</style>
<script>
// Accordion logic
function toggleAccordion(el, id) {
  el.classList.toggle("active");
  const content = document.getElementById(id);
  content.style.display = content.style.display === "block" ? "none" : "block";
}

// Smooth scroll-to-top
window.onscroll = function () {
  const btn = document.getElementById("scrollTopBtn");
  btn.style.display = document.documentElement.scrollTop > 200 ? "block" : "none";
};

function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Enhance search with match highlight
function searchScenarios() {
  const query = document.getElementById("searchInput").value.toLowerCase();
  const accordionButtons = document.querySelectorAll(".accordion-btn:not(.group-btn)");
  const scenarioContents = document.querySelectorAll(".tab-content");

  accordionButtons.forEach((btn, idx) => {
    const content = scenarioContents[idx];
    const labels = Array.from(content.querySelectorAll("label"));
    const textareas = Array.from(content.querySelectorAll("textarea.output"));

    // Remove previous highlights
    labels.forEach(label => label.innerHTML = label.innerText);
    textareas.forEach(t => t.innerHTML = t.innerText);

    const labelText = labels.map(l => l.innerText.toLowerCase()).join(" ");
    const textareaText = textareas.map(t => t.value.toLowerCase()).join(" ");
    const staticText = content.innerText.toLowerCase();
    const combinedText = btn.innerText.toLowerCase() + " " + labelText + " " + textareaText + " " + staticText;

    const match = combinedText.includes(query);
    btn.style.display = match ? "block" : "none";
    content.style.display = match ? "block" : "none";

    if (match && query !== "") {
      labels.forEach(label => {
        const original = label.innerText;
        label.innerHTML = original.replace(new RegExp(query, "gi"), match => `<span class='highlight'>${match}</span>`);
      });
    }
  });

  document.querySelectorAll(".scenario-group").forEach(group => {
    const visibleScenarios = group.querySelectorAll(".accordion-btn:not([style*='display: none'])");
    group.style.display = visibleScenarios.length > 0 ? "block" : "none";
  });
}
</script>
<button id="scrollTopBtn" onclick="scrollToTop()">‚Üë</button>
<style>
.instructions-box {
  background: #e8f0fe;
  border-left: 5px solid #2196F3;
  border-radius: 8px;
  padding: 18px 20px;
  margin: 20px auto;
  max-width: 900px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  font-size: 15px;
  color: #222;
}
.instructions-header {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.instructions-body p {
  margin: 6px 0;
  line-height: 1.6;
}
</style>
<style>
.instructions-card {
  background: #fdfdfd;
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 24px;
  margin: 25px auto 20px auto;
  max-width: 750px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.04);
  color: #333;
}
.instructions-title {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 14px;
  color: #1a237e;
  text-align: center;
}
.instructions-body p {
  margin: 10px 0;
  font-size: 15px;
  line-height: 1.6;
}
</style>
<style>
.instructions-card {
  background: #fdfdfd;
  border: 1px solid #ddd;
  border-radius: 10px;
  margin: 25px auto 20px auto;
  max-width: 750px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.04);
  color: #333;
  overflow: hidden;
}

.instructions-toggle {
  background: none;
  border: none;
  font-size: 18px;
  font-weight: 600;
  color: #1a237e;
  width: 100%;
  text-align: center;
  padding: 16px;
  cursor: pointer;
  outline: none;
  transition: background 0.3s ease;
}

.instructions-toggle:hover {
  background-color: #f0f0f0;
}

.instructions-body {
  padding: 0 24px 18px 24px;
  font-size: 15px;
  display: block;
  animation: fadeIn 0.6s ease;
}

.instructions-body p {
  margin: 12px 0;
  line-height: 1.6;
}

@keyframes fadeIn {
  from {opacity: 0; transform: translateY(-10px);}
  to {opacity: 1; transform: translateY(0);}
}

.fade-in {
  animation: fadeIn 0.5s ease-out;
}
</style>
<script>
function toggleInstructions() {
  const body = document.getElementById("instructionsContent");
  const toggle = document.querySelector(".instructions-toggle");
  if (body.style.display === "none") {
    body.style.display = "block";
    toggle.innerHTML = "üìò How to Use This Tool ‚ñæ";
  } else {
    body.style.display = "none";
    toggle.innerHTML = "üìò How to Use This Tool ‚ñ∏";
  }
}
</script>
<style>
:root {
  --primary: #1976d2;
  --text-main: #222;
  --radius: 8px;
}

button.btn, .btn {
  background: var(--primary);
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: var(--radius);
  cursor: pointer;
  font-weight: 600;
  transition: background 0.2s ease-in-out;
}

button.btn:hover, .btn:hover {
  background: #1565c0;
}

button.btn-secondary, .btn-secondary {
  background: #f0f0f0;
  color: #333;
}
</style>
<style>
textarea.output, textarea[class^="sqlOutput"] {
  background: #f9f9f9;
  border: 1px solid #ccc;
  font-family: monospace;
  font-size: 14px;
  line-height: 1.5;
  padding: 12px;
  border-radius: var(--radius);
  width: 100%;
  transition: box-shadow 0.2s ease-in-out;
  resize: vertical;
  color: #222;
}

textarea.output:focus, textarea[class^="sqlOutput"]:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
  outline: none;
}
</style>
</head>
<body>
<button onclick="toggleSidebar()" style="position: fixed; top: 20px; left: 10px; z-index: 100; padding: 6px 10px; font-size: 14px; border-radius: 4px; background-color: #007acc; color: white; border: none; cursor: pointer;">
‚ò∞
</button>
<div class="container">
<h1 class="stylish-header" style="font-size: 38px; font-weight: 800; margin-bottom: 14px; color: #1a237e; text-align: center;">üõ† SQL Generator Tool</h1><div class="compact-banner">üí° Looking to expand! If there are any Scenarios you‚Äôd like to see added, please send your suggestions to <a href="mailto:nikki.masani@quorumsoftware.com?subject=SQL%20Generator%20Tool%3A%20Suggestions&amp;body=Here%20is%20what%20I%27d%20like%20to%20see%20added%20as%20a%20Scenario%20to%20the%20SQL%20Generator%20Tool%3A%0AScenario%20Title%3A%0AQuery%20Comment%20%28What%20the%20query%20does%29%3A%0ARaw%20Query%3A%0AWhat%20inputs%20the%20the%20query%20requires.%20If%20none%2C%20please%20state%20%22none%22%3A%0AModule%3A%0AAny%20other%20notes%3F%20%28ex%3A%20This%20query%20REQUIRES%20multiple%20inputs%20for%20it%20to%20generate.%20Here%20are%20the%20required%20inputs.%29%3A%0A%0A%2A%2APlease%20repeat%20the%20above%20template%20for%20each%20query%20you%20would%20like%20to%20add.%2A%2A">nikki.masani@quorumsoftware.com</a></div>
<!--Navigation Bar-->
<div class="sidebar-nav">
<h3 class="sidebar-title">üß∞ Support Toolbox</h3>
<a class="nav-btn" href="custom.html">‚ú® Custom Scenario Builder</a>
<a class="nav-btn" href="client-lookup.html">üîç Client Lookup Tool</a>
<a class="nav-btn" href="KB Generator.html">üìò KB Generator (BETA)</a>
</div>
<!--Instructions-->
<div class="instructions-card fade-in">
<button class="instructions-toggle" onclick="toggleInstructions()">üìò How to Use This Tool ‚ñ∏</button>
<div class="instructions-body" id="instructionsContent" style="display: none;">
<p>üìù Use this tool to generate predefined SQL queries across various business scenarios.</p>
<p>üìÇ Select a scenario group and click a scenario to expand it. Input any values that you have and click <strong>Generate SQL</strong>.</p>
<p>üìã You can <strong>Copy</strong>, <strong>Reset</strong>, or <strong>Export</strong> the SQL output after generation.</p>
<p>üîç Use the search bar to find scenarios by keywords across titles, inputs, or SQL content.</p>
<p>üì§ Click <strong>Show All Queries</strong> to reveal every SQL query for that scenario, even without inputs.</p>
</div>
</div>
<div class="container-wrapper">
<!-- Begin HTML Blocks -->
<!-- Search Bar -->
<div class="search-container" style="text-align:center; margin: 20px auto;">
<input id="searchInput" oninput="filterScenarios()" placeholder="üîç Search scenarios..." type="text"/>
<span class="clear-btn" onclick="clearSearch()">√ó</span>
</div>
<div class="sticky-toolbar">
<button class="btn generate" onclick="expandAll()">Expand All</button>
<button class="btn reset" onclick="collapseAll()">Collapse All</button>
<button class="btn export" onclick="toggleTheme()">üåì Toggle Theme</button>
<button class="btn reset" onclick="resetAllFields()">üßπ Reset All</button>
<!--GUI Buttons-->
<!-- Group 1: ESUITE, QCA, QCFS -->
</div><button class="accordion-btn group-btn" onclick="toggleGroup('group1')" style="background: linear-gradient(to right, #007BFF, #0056b3); color: #fff; font-weight: bold; border-radius: 6px; padding: 10px 15px; box-shadow: 0 3px 6px rgba(0,0,0,0.3);">üìÇ Group 1: ESuite, QCA, QCFS</button>
<div class="scenario-group" id="group1" style="display: none;">
<!-- Scenario 1 Starts-->
<button class="accordion-btn" data-keywords="step process queue message log trace lock" onclick="toggleAccordion(this,'scenario1')">‚ûï Scenario 1.1: Triage Failing Process</button><div class="tab-content" id="scenario1">
<template class="sql-index">
---Query the Process Queue table to view the status and other relevant details about the process:
SELECT START_DT,PROCESS_QUEUE_ID,PROCESS_ID,STATUS_CD,USER_ID, PARENT_PROCESS_QUEUE_ID, MASTER_PROCESS_QUEUE_ID,DATEDIFF (MINUTE, START_DT, END_DT) as TIMEDIFF_IN_MIN,USER_ID,* 
FROM QARCH_QUEU_PROCESS 
WHERE PROCESS_QUEUE_ID IN ('') 
ORDER BY QUEUE_DT DESC;

----Query the Message Log table to view any errors that were logged for the process.
SELECT LOG_MSG, LOG_DATE, PROCESS_QUEUE_ID, PROCESS_STEP_QUEUE_ID, LOG_MSG_TYPE_CD, * 
FROM QARCH_PROCESS_MSG_LOG 
WHERE PROCESS_QUEUE_ID IN ('') 
ORDER BY PROCESS_LOG_ID ASC;

----Query the Process Step table to see what steps were successful.
SELECT * 
FROM QARCH_QUEU_PROCESS_STEP 
WHERE PROCESS_STEP_QUEUE_ID = ' ' 
ORDER BY SEQ_NO ASC;

----Query the SQL Trace to see if any sql was logged for any of the process steps.
SELECT REGISTERED_SQL_NAME, SQL_STATEMENT_PART1, * 
FROM QARCH_QFCBATCH_SQL_TRACE 
WHERE PROCESS_QUEUE_ID in ('') 
ORDER BY SQL_SUCCESS_IND ASC;

----Query the Process Queue table for a breakdown of any child processes.
SELECT PROCESS_QUEUE_ID, PROCESS_ID, STATUS_CD, START_DT, END_DT, DATEDIFF(MINUTE, START_DT, END_DT) AS "TIME TO COMPLETE"
FROM QARCH_QUEU_PROCESS
WHERE MASTER_PROCESS_QUEUE_ID = ''
GROUP BY PROCESS_QUEUE_ID, PROCESS_ID, STATUS_CD, START_DT, END_DT
ORDER BY STATUS_CD;

----Query the lock table to verify if there are any active locks related to the process
SELECT * 
FROM QARCH_LOCK 
WHERE PROCESS_QUEUE_ID = ' ' 
ORDER BY UPDT_DT DESC;
</template>
<h2>Scenario 1.1: Triage Failing Process</h2>
<label>PROCESS_QUEUE_ID(If multiple values, please separate with commas.)</label>
<input id="processQueueId" placeholder="e.g., 1371670,1371671 "/>
<label>PROCESS_ID(Optional, used for additional filtering.)</label>
<input id="processId" placeholder="e.g., POSTWKFL,ADPUPLOAD"/>
<label>MASTER_PROCESS_QUEUE_ID</label>
<input id="masterProcessQueueId" placeholder="e.g., 1371680"/>
<label>REGISTERED_SQL_NAME</label>
<input id="registeredSqlName" placeholder="e.g. UPDBATCH_CALLINTERFACE"/>
<button class="btn generate" onclick="generateSQL1()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries1()">üóÉ Show All Queries</button>
<textarea id="output1" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output1')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output1')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('processQueueId','processId','masterProcessQueueId','registeredSqlName','output1')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output1')">üíæ Export</button>
<!-- Scenario 1 Ends -->
<!-- Scenario 2 Starts-->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario2')">‚ûï Scenario 1.2: AFE Workflow Triage</button><div class="tab-content" id="scenario2">
<template class="sql-index">
--View AFE Details : 
SELECT AFE_NO, ORIG_DESKID_NO, APRV_DESKID_NO, ENGR_DESKID_NO,WF_ROUTE_NM_SELECTED,WF_ROUTE_NM_OVERRIDE, * 
FROM dbo.QCTRL_AFE_HDR 
WHERE AFE_NO IN ('');

--View the AFE Workflow for a specific AFE:
SELECT * 
FROM QWF_TRAN_INBOX_AFE QW 
JOIN QARCH_WF_TRAN_INBOX_BASE QA ON QW.ID_WF_INBOX = QA.ID_WF_INBOX 
WHERE AFE_NO IN ('');

--Using the RESULT of the ID_WF_INBOX populated from the last query, retreive the WF Inbox Details :
SELECT QUEUE_DT, ACTION_DT, ASSIGNED_DESK_NM, ASSIGNED_USER_ID,APRV_LIMIT, INBOX_ACTION_CD, INBOX_TYPE_CD, INBOX_ACTION_CD,* 
FROM QARCH_WF_TRAN_INBOX_BASE 
WHERE ID_WF_INBOX IN (' ');

--View the audit steps taken for the AFE Approval:
SELECT AFE.AFE_NO, WF_AUDIT.SYSTEM_COMMENT, WF_AUDIT.WF_INSTANCE_ID, WF_AUDIT.ACTION_DT, WF_AUDIT.ACTION_USER_ID, WF_AUDIT.*
FROM QCTRL_AFE_HDR AS AFE
JOIN QWF_TRAN_AUDIT_AFE AS WF
  ON WF.AFE_NO = AFE.AFE_NO
JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE AS WF_AUDIT
WHERE AFE.AFE_NO = ' '
ORDER BY WF_AUDIT.ACTION_DT ASC;

--View the AFE Route Steps
SELECT DESK_NM, * 
FROM QARCH_WF_ROUTE_SMPL_STEP AS A
LEFT JOIN QARCH_WF_ROUTE_SMPL_STEP_DESK AS B
  ON A.ID_WF_ROUTE_SMPL_STEP = B.ID_WF_ROUTE_SMPL_STEP
WHERE WF_ROUTE_NM = '  '
ORDER BY A.ROUTE_STEP_SEQ_NO;

--View the DESK Details for those on an AFE Route:
SELECT * FROM QARCH_WF_DESK WHERE DESK_NM IN ('');
SELECT * FROM QARCH_WF_DESK_DELEGATE WHERE DESK_NM IN ('');

--View the AFE Desks and Approvals on an AFE
SELECT AFE.AFE_NO, WF_AUDIT.SYSTEM_COMMENT, WF_AUDIT.WF_INSTANCE_ID, WF_AUDIT.ACTION_DT, WF_AUDIT.ACTION_USER_ID,  WF_AUDIT.*
FROM QCTRL_AFE_HDR AS AFE
JOIN QWF_TRAN_AUDIT_AFE AS WF
  ON WF.AFE_NO = AFE.AFE_NO
JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE AS WF_AUDIT
  ON WF.ID_WF_AUDIT = WF_AUDIT.ID_WF_AUDIT
WHERE AFE.AFE_NO ='' 
ORDER BY WF_AUDIT.ACTION_DT ASC;

--View the AFE Affiliates for any AFE:
SELECT *  
FROM QXREF_AFE_AFFILIATES 
WHERE PRIMARY_AFE_NO = ' ';
</template>
<h2>Scenario 1.2: AFE Workflow Triage</h2>
<label>AFE_NO (If multiple values, please separate with commas.)</label>
<input id="afe2" placeholder="e.g., 180777,R15025"/>
<label>ID_WF_INBOX (If multiple values, please separate with commas.)</label>
<input id="inbox2" placeholder="e.g., 2,20"/>
<label>WF_ROUTE_NM (If multiple values, please separate with commas.)</label>
<input id="route2" placeholder="e.g., AFE_APPROVAL_ROUTE, NON-OPERATED ROUTE TEMPLATE"/>
<label>ID_WF_ROUTE_SMPL_STEP (If multiple values, please separate with commas.)</label>
<input id="step2" placeholder="e.g., 111,222"/>
<label>DESK_NM (If multiple values, please separate with commas.)</label>
<input id="desk2" placeholder="e.g., SR VP DRILLING, IT SECURITY"/>
<button class="btn generate" onclick="generateSQL2()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries2()">üóÉ Show All Queries</button>
<textarea id="output2" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output2')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output2')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('afe2','inbox2','route2','step2','desk2','output2')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output2')">üíæ Export</button>
<!-- Scenario 2 Ends -->
<!-- Scenario 3 Starts-->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario3')">‚ûï Scenario 1.3: User Management Triage</button><div class="tab-content" id="scenario3">
<template class="sql-index">
SELECT
QSGM.UPDT_DT,
QSGM.SEC_USER_ID,
QSU.SEC_USER_EMAIL_ADDR,
QSU.SEC_USER_NM,
QSG.GRP_DESCR,
QSG.GRP_ID,
QSGM.USER_ID,
QSGM.APP_LAYER_CD
FROM QARCH_SEC_GRP_MEMBER QSGM, QARCH_SEC_GRP QSG, QARCH_SEC_USER QSU
WHERE QSGM.GRP_ID = QSG.GRP_ID
AND QSGM.SEC_USER_ID = QSU.SEC_USER_ID
AND QSGM.SEC_USER_ID = '';
</template>
<h2>Scenario 1.3: User Management Triage</h2>
<label>SEC_USER_ID</label>
<input id="secuserid3" placeholder="e.g., JIM_BEAN"/>
<button class="btn generate" onclick="generateSQL3()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries3()">üóÉ Show All Queries</button>
<textarea id="output3" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output3')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output3')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('secuserid3','output3')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output3')">üíæ Export</button>
<!-- Scenario 3 Ends -->
<!-- Scenario 4 Starts -->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario4')">‚ûï Scenario 1.4: GL025 Batch Triage</button><div class="tab-content" id="scenario4">
<template class="sql-index">
--Query the BATCHINVOICEMASTER tables to view INVOICE details: 
SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,
* FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL
--WHERE USERKEY IN ('') 
WHERE BD.VOUNUM IN ('')
</template>
<h2>Scenario 1.4: GL025 Batch Triage</h2>
<label>ACCTG_MTH (YYYY-MM-DD)</label>
<input id="acctgMth4" placeholder="e.g., 2025-07-01"/>
<label>USERKEY (If multiple values, please separate with commas.)</label>
<input id="userkey4" placeholder="e.g.,BJE0000001, BJE0000002 "/>
<label>IDBEOWNER (optional)</label>
<input id="idbeowner4" placeholder="e.g., 17"/>
<label>Batch NAME (Queried as a %like% value)</label>
<input id="batchname4" placeholder="e.g., GLCONV Import on 12/28/2020"/>
<label>DATE Range: From (YYYY-MM-DD)Both "From" AND "To" Dates are required</label>
<input id="dateFrom4" placeholder="e.g., 2025-07-01"/>
<label>DATE Range: To (YYYY-MM-DD)Both "From" AND "To" Dates are required</label>
<input id="dateTo4" placeholder="e.g., 2025-07-31"/>
<button class="btn generate" onclick="generateSQL4()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries4()">üóÉ Show All Queries</button>
<textarea id="output4" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output4')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output4')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('acctgMth4','userkey4','idbeowner4','batchname4','dateFrom4','dateTo4','output4')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output4')">üíæ Export</button>
<!-- Scenario 4 Ends -->
<!-- Scenario 5 Starts-->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario5')">‚ûï Scenario 1.5: AP055 and AP076 Batch Triage</button><div class="tab-content" id="scenario5">
<template class="sql-index">
--Query the BATCHINVOICEMASTER tables to view INVOICE details: 
SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,
* FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL
--WHERE USERKEY IN ('') 
WHERE BD.VOUNUM IN ('')
</template>
<h2>Scenario 1.5: AP055 and AP076 Batch Triage</h2>
<label>ACCTG_MTH (YYYY-MM-DD)</label>
<input id="acctgMth5" placeholder="e.g., 2025-07-01"/>
<label>USERKEY (If multiple values, please separate with commas.)</label>
<input id="userkey5" placeholder="e.g., BI00000089,BI00000090"/>
<label>IDBEOWNER (optional)</label>
<input id="idbeowner5" placeholder="e.g., 103"/>
<label>Batch NAME (Queried as a %like% value)</label>
<input id="batchname5" placeholder="e.g., ARCONV Import on 12/30/2020"/>
<label>DATE Range: From (YYYY-MM-DD)Both "From" AND "To" Dates are required</label>
<input id="dateFrom5" placeholder="e.g., 2025-07-01"/>
<label>DATE Range: To (YYYY-MM-DD)Both "From" AND "To" Dates are required</label>
<input id="dateTo5" placeholder="e.g., 2025-07-31"/>
<button class="btn generate" onclick="generateSQL5()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries5()">üóÉ Show All Queries</button>
<textarea id="output5" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output5')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output5')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('acctgMth5','userkey5','idbeowner5','batchname5','dateFrom5','dateTo5','output5')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output5')">üíæ Export</button>
<!-- Scenario 5 Ends -->
<!-- Scenario 6 Starts -->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario6')">‚ûï Scenario 1.6: BR005 Bank Reconcilation</button><div class="tab-content" id="scenario6">
<template class="sql-index">
--Query the BATCHINVOICEMASTER tables to view INVOICE details: 
SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,
* FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL
--WHERE USERKEY IN ('') 
WHERE BD.VOUNUM IN ('')
</template>
<h2>Scenario 1.6: BR005 Bank Reconcilation</h2>
<label>USERKEY (If multiple values, please separate with commas.)</label>
<input id="userkey6" placeholder="e.g., BR00000006,BR00000007"/>
<button class="btn generate" onclick="generateSQL6()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries6()">üóÉ Show All Queries</button>
<textarea id="output6" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output6')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output6')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('userkey6','output6')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output6')">üíæ Export</button>
<!-- Scenario 6 Ends -->
<!-- Scenario 7 Starts -->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario7')">‚ûï Scenario 1.7: Check Run (AP061) Batches</button><div class="tab-content" id="scenario7">
<template class="sql-index">
--Query the BATCHINVOICEMASTER tables to view INVOICE details: 
SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,
* FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL
--WHERE USERKEY IN ('') 
WHERE BD.VOUNUM IN ('')
</template>
<h2>Scenario 1.7: Check Run (AP061) Batches</h2>
<label>USERKEY (If multiple values, please separate with commas.):</label>
<input id="input7_userkey" placeholder="e.g., BCK0000001,BCK0000002"/>
<label>IDBATCHECKRUNMASTER:</label>
<input id="input7_idbatcheckrunmaster" placeholder="e.g., 106"/>
<label>CHECKNUM ((Queried as a %like% value), required with IDBATCHECKRUNMASTER):</label>
<input id="input7_checknum" placeholder="e.g., ACH0000001"/>
<label>PAYAMT (required with IDBATCHECKRUNMASTER):</label>
<input id="input7_payamt" placeholder="e.g., 500.00"/>
<button class="btn generate" onclick="generateSQL7()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries7()">üóÉ Show All Queries</button>
<textarea id="output7" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output7')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output7')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input7_userkey','input7_idbatcheckrunmaster','input7_checknum','input7_payamt','output7')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output7')">üíæ Export</button>
<!-- Scenario 7 Ends -->
<!-- Scenario 8 Starts-->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario8')">‚ûï Scenario 1.8: QCFS Imports</button><div class="tab-content" id="scenario8">
<template class="sql-index">
--Query the BATCHINVOICEMASTER tables to view INVOICE details: 
SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,
* FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL
--WHERE USERKEY IN ('') 
WHERE BD.VOUNUM IN ('')
</template>
<h2>Scenario 1.8: QCFS Imports</h2>
<div class="footnote">All three inputs (JOURNAL_ID, TRANS_TYPE, and ACCTG_MTH) are required to generate the SQL.</div>
<label>JOURNAL_ID (If multiple values, please separate with commas.):</label>
<input id="input8_journal_id" placeholder="e.g., QCFS, QRAREV"/>
<label>TRANS_TYPE (If multiple values, please separate with commas.):</label>
<input id="input8_trans_type" placeholder="e.g., GL, AP"/>
<label>ACCTG_MTH (YYYY-MM-DD) (If multiple values, please separate with commas.):</label>
<input id="input8_acctg_mth" placeholder="e.g., 2024-01-01, 2024-02-01"/>
<button class="btn generate" onclick="generateSQL8()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries8()">üóÉ Show All Queries</button>
<textarea id="output8" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output8')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output8')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input8_journal_id','input8_trans_type','input8_acctg_mth','output8')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output8')">üíæ Export</button>
<!-- Scenario 8 Ends -->
<!-- Scenario 9 Starts-->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario9')">‚ûï Scenario 1.9: Maintenance Application</button><div class="tab-content" id="scenario9">
<template class="sql-index">
--Query the BATCHINVOICEMASTER tables to view INVOICE details: 
SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,
* FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL
--WHERE USERKEY IN ('') 
WHERE BD.VOUNUM IN ('')
</template>
<h2>Scenario 1.9: Maintenance Application</h2>
<label>PROCESS_ID:</label>
<input id="input9_process_id" placeholder="e.g., ADPUPLOAD"/>
<label>IMPEXP_ID :</label>
<input id="input9_impexp_id" placeholder="e.g., JIBLINKEXP"/>
<label>FTP_ID:</label>
<input id="input9_ftp_id" placeholder="e.g., AFEXMLIMP"/>
<label>FTP_HOST_ID:</label>
<input id="input9_ftp_host_id" placeholder="e.g., QCLOUD"/>
<label>EVENT_TYPE_CD:</label>
<input id="input9_event_type_cd" placeholder="e.g., AFE_ONLEML"/>
<label>METADATA_PROFILE:</label>
<input id="input9_metadata_profile" placeholder="e.g., EQC"/>
<button class="btn generate" onclick="generateSQL9()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries9()">üóÉ Show All Queries</button>
<textarea id="output9" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output9')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output9')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input9_process_id','input9_impexp_id','input9_ftp_id','input9_ftp_host_id','input9_event_type_cd','input9_metadata_profile','output9')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output9')">üíæ Export</button>
<!-- Scenario 9 Ends -->
<!-- Scenario 10 Starts-->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario10')">‚ûï Scenario 1.10: Batch Vouchers</button><div class="tab-content" id="scenario10">
<template class="sql-index">
--Query the BATCHINVOICEMASTER tables to view INVOICE details: 
SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,
* FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL
--WHERE USERKEY IN ('') 
WHERE BD.VOUNUM IN ('')
</template>
<h2>Scenario 1.10: Batch Vouchers</h2>
<label>VOUNUM (If multiple values, please separate with commas.):</label>
<input id="input10_vounum" placeholder="e.g., VM00000030, VM00000041"/>
<label>USERKEY (optional for extra filters):</label>
<input id="input10_userkey" placeholder="e.g., BV00000001"/>
<label>IDBATINVMASTER (If multiple values, please separate with commas.):</label>
<input id="input10_idbatinv" placeholder="e.g. 4567, 8910"/>
<label>ASSIGNED_USER_ID (Queried as a %like% value):</label>
<input id="input10_assigneduser" placeholder="e.g. EQC_VJENNINGS"/>
<label>DOC_CONTENT_TYPE_CD:</label>
<input id="input10_doctype" placeholder="e.g. AP_INV"/>
<label>DOC_NM (Queried as a %like% value):</label>
<input id="input10_docnm" placeholder="e.g. 0genPdf272704965202508011202340.pdf"/>
<label>WFSTATUSCD:</label>
<input id="input10_wfstatus" placeholder="e.g. Approved"/>
<label>REFNUMDOC:</label>
<input id="input10_refnumdoc" placeholder="e.g. CM207039"/>
<label>DOC_PROP_VAL:</label>
<input id="input10_docpropval" placeholder="e.g. 10936"/>
<label>DOC_ID:</label>
<input id="input10_docid" placeholder="e.g. 0genPdf272704965202508011202340"/>
<label>REFNUM (for Audit Workflow Log):</label>
<input id="input10_refnum" placeholder="e.g. 21561"/>
<label>Batch Name (Queried as a %like% value)</label>
<input id="input10_batchname" placeholder="e.g. AP Import 2025-08"/>
<label>BATCHUSERKEY (Used for GL096):</label>
<input id="input10_batchuserkey" placeholder="e.g. BV00000001"/>
<label>JECUSTOMCODEBLOCK__NOTES (optional):</label>
<input id="input10_notes" placeholder="e.g. APCONV-"/>
<button class="btn generate" onclick="generateSQL10()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries10()">üóÉ Show All Queries</button>
<textarea id="output10" placeholder="SQL will appear here." readonly=""></textarea><button class="btn" onclick="toggleEditable('output10')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output10')">üìã Copy</button>
<button class="btn reset" onclick="resetFields(
        'input10_vounum','input10_userkey','input10_idbatinv','input10_assigneduser',
        'input10_doctype','input10_docnm','input10_wfstatus','input10_refnumdoc',
        'input10_docpropval','input10_docid','input10_refnum','input10_batchname',
        'input10_batchuserkey','input10_notes','output10'
      )">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output10')">üíæ Export</button>
<!-- Scenario 10 Ends -->
<!-- Scenario 11 Starts-->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario11')">‚ûï Scenario 1.11: Deposit Batches (AR308)</button><div class="tab-content" id="scenario11">
<template class="sql-index">
--Query the Batch Deposit tables to view Deposit Batch details:
SELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW, * 
FROM BATCHDEPOSITWITHMATCHMASTER A
JOIN BATCHDWMCUSTOMERS B ON A.ID = B.IDBATDWMMASTER
JOIN BATCHDWMRECEIPTS D ON B.ID = D.IDBATDWMCUSTOMER
JOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID
WHERE A.USERKEY= '';

--Query the Batch Deposit tables to retrieve the total number of columns in Deposit Batches in Post Pending Status:
SELECT A.USERKEY, A.NAME, count(*) 
FROM BATCHDEPOSITWITHMATCHMASTER A
JOIN BATCHDWMCUSTOMERS B ON A.ID = B.IDBATDWMMASTER
JOIN BATCHDWMINVOICES C ON B.ID = C.IDBATDWMCUSTOMER
JOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID
WHERE A.USERKEY IN (
  SELECT USERKEY FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90
)
GROUP BY A.USERKEY, A.NAME;

--Match the USERKEY to Deposit Journal batches:
SELECT * FROM AUDITTRANSACTIONLOG 
WHERE BATCHUSERKEY IN ('');

--Join to Deposit Journal to review the Deposits:
SELECT * FROM DEPOSITJOURNAL 
WHERE DEPOSITNUMBER IN (
  SELECT REFNUM 
  FROM AUDITTRANSACTIONLOG 
  WHERE BATCHUSERKEY IN ('')
);

--Link to Workflow Inbox to review the approval or rejection:
SELECT * FROM UVW_WORKFLOWINBOX 
WHERE IDBATCHMASTER IN (
  SELECT IDBATCHMASTER 
  FROM AUDITTRANSACTIONLOG 
  WHERE BATCHUSERKEY IN ('')
);
</template>
<h2>Scenario 1.11: Deposit Batches (AR308)</h2>
<label>USERKEY (If multiple values, please separate with commas.):</label>
<input id="input11_userkey" placeholder="e.g., BD00000018, BD00000019"/>
<button class="btn generate" onclick="generateSQL11()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries11()">üóÉ Show All Queries</button>
<textarea id="output11" placeholder="SQL will appear here..." readonly=""></textarea>
<button class="btn" onclick="toggleEditable('output11')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output11')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input11_userkey','output11')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output11')">üíæ Export</button>
<!-- Scenario 11 Ends -->
<!-- Scenario 12 Starts -->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario12')">‚ûï Scenario 1.12: JIB</button><div class="tab-content" id="scenario12">
<template class="sql-index">
--Review the processes tied to the JB005 for an accounting month:
SELECT MASTER_PROCESS_QUEUE_ID, PROCESS_QUEUE_ID, PROCESS_ID,STATUS_CD, START_DT, END_DT, DATEDIFF (MINUTE, START_DT, END_DT) as TIMEDIFF_IN_MIN,USER_ID,
* FROM QARCH_QUEU_PROCESS A WHERE PROCESS_ID IN ('JBLDWCVOL','JBCALCCOMP','JBMISCOH','JBOPENBILL','JBPRODOH','JBVEHCALC',
'JBGLIMPORT','JBLOADCSL','JBPROPALLC','JBREBILL','JBOWNALLOC','JBRBINVMN','JBINVMNPRC','JBJOURNAL','JBLDJE2CAS','JBROLLDATE')
AND START_DT &gt;= '' ORDER BY QUEUE_DT DESC

--Review the JIB journal tables in QCA:
SELECT * FROM JBTRN_JIB_JOURNAL WHERE PROCESS_QUEUE_ID = ' '
SELECT SUM (JOURNAL_AMOUNT)  FROM JBTRN_JIB_JOURNAL WHERE PROCESS_QUEUE_ID = ' '
SELECT * FROM JBSTG_CORE_INTFC_EXP WHERE PROCESS_QUEUE_ID = ' '

--JIB Batches pending to post from Batch Journal Entry
select A.ID, A.USERKEY, A.NAME, count(*) 
FROM BATCHJOURNALENTRYMASTER A
join BATCHJOURNALENTRYDETAIL B
on A.ID = B.IDBATJE
join BATCHJOURNALENTRYLINE C
on B.ID = C.IDBATJEDETAIL
join BATCHJECUSTOMCODEBLOCKUPSTREAM D
on C.ID = D.IDBATJELINE
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.NAME like 'JIB%'
group by A.USERKEY, A.NAME, A.ID
order by A.ID desc

--JIB Batches pending to post from Batch Invoice Master
select A.ID, A.USERKEY, A.NAME, count(*) 
FROM BATCHINVOICEMASTER A
join BATCHINVOICEDETAIL B
on A.ID = B.IDBATINVMASTER
join BATCHINVOICELINEITEM C
on B.ID = C.IDBATINVDETAIL
join BATCHINVOICECUSTOMCODEBLOCKUPSTREAM D
on C.ID = D.IDBATINVLINEITEM
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.NAME like 'JIB%'
group by A.USERKEY, A.NAME, A.ID
order by A.ID desc

--Trace JIB Accounting Entries in the STRAN Tables. These entries will post after running QCFSIMPCYC and POSTWKFL:
select * 
from STRAN_CORE_INTFC A
join SEXTN_CORE_INTFC_JIB B
on A.ID = B.IDCOREINTFC
where JOURNAL_ID = 'QCFS'
and TRANS_TYPE = 'PP'
AND UPDT_DT &gt;= ''

--Review the path and count data of the JIBLINK Export
select EXPORTED_ROWS, UPDT_DT, * 
from CEN_PRD16UPS_QFC..QARCH_TRAN_IMPEXP_STATUS A 
where IMPEXP_ID = 'JIBLINKEXP'
order by A.EXPORTED_ROWS desc

--Number of records for Owner Allocation (OA) and rebillings (REB) that are processed from the tables JBTRN_INVOICE_DETAIL and JBTRN_INVOICE_HEADER
select SYSTEM_SOURCE, PROCESS_PERIOD,  count(*)
from JBTRN_INVOICE_DETAIL
GROUP BY SYSTEM_SOURCE, PROCESS_PERIOD
order by PROCESS_PERIOD DESC

SELECT SYSTEM_SOURCE, PROCESS_PERIOD, count(*)
from JBTRN_INVOICE_HEADER
GROUP BY SYSTEM_SOURCE, PROCESS_PERIOD
ORDER BY PROCESS_PERIOD DESC

--Review JB080 to review CTF transactions
SELECT COUNT (*)   from JBTRN_CTF 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBTRN_COST_SUBLEDGER 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT(1) from JBTRN_JIB_JOURNAL 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBTRN_COST_SUBLEDGER 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBTRN_JIB_JOURNAL 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBADT_JIB_JOURNAL_HISTORY 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBADT_JIB_JOURNAL_HISTORY 
WHERE PROCESS_PERIOD = ' '
</template>
<h2>Scenario 1.12: JIB</h2>
<label>START_DT ‚â• (YYYY-MM-DD):</label>
<input id="input12_start_dt" placeholder="e.g., 2025-06-01"/>
<label>PROCESS_QUEUE_ID (If multiple values, please separate with commas.):</label>
<input id="input12_proc_queue_id" placeholder="e.g., 6825175,6825176"/>
<label>UPDT_DT ‚â• (YYYY-MM-DD):</label>
<input id="input12_updt_dt" placeholder="e.g., 2025-06-01"/>
<label>PROCESS_PERIOD (YYYY-MM-DD):</label>
<input id="input12_process_period" placeholder="e.g., 2025-06-30"/>
<button class="btn generate" onclick="generateSQL12()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries12()">üóÉ Show All Queries</button>
<textarea id="output12" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output12')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output12')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input12_start_dt','input12_proc_queue_id','input12_updt_dt','input12_process_period','output12')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output12')">üíæ Export</button>
<!-- Scenario 12 Ends -->
<!-- Scenario 13 Starts -->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario13')">‚ûï Scenario 1.13: General Batch, QCFS Export/Import, Open Item</button>
<div class="tab-content" id="scenario13">
<template class="sql-index">
--Query to retreive details for any Invoice Adjustments: 
SELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW,  *
FROM BATCHPAYMENTAPPLICATIONMASTER A
join BATCHPAYMENTAPPLICATIONCUSTOMER  B
on A.ID = B.IDBATAPPLMASTER
join BATCHPAYMENTAPPLICATIONOPENITEM C
on B.ID = C.IDBATAPPLCUSTOMER
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.USERKEY= ''
--Input is USERKEY
</template>
<h2>Scenario 1.13: General Batch, QCFS Export/Import, Open Item</h2>
<label>USERKEY (If multiple values, please separate with commas.):</label>
<input id="input13_userkey" placeholder="e.g., BPA00000015, BPA00000017"/>
<div style="font-size: 0.9em; color: gray; margin-bottom: 10px;">
   The USERKEY input is used to retrieve Payment Application Batches.
</div>
<label>IDBEOWNER:</label>
<input id="input13_idbeowner" placeholder="e.g., 17"/>
<label>IDCUSTOMER (If multiple values, please separate with commas.):</label>
<input id="input13_idcustomer" placeholder="e.g., 101,102"/>
<label>BA_NO:</label>
<input id="input13_ba_no" placeholder="e.g., 100"/>
<label>SET_ID:</label>
<input id="input13_set_id" placeholder="e.g., 53f4aee1-05c5-43e8-bbda-1e9b78b67022"/>
<label>Customer Open Item ID (If multiple values, please separate with commas.):</label>
<input id="input13_open_item_id" placeholder="e.g. 21,22"/>
<label>UPDT_DT &gt; (YYYY-MM-DD):</label>
<input id="input13_updt_dt" placeholder="e.g. 2025-08-01"/>
<label>BUS_UNIT_CD:</label>
<input id="input13_bus_unit_cd" placeholder="e.g. BU01"/>
<label>OWNER_BA_NO:</label>
<input id="input13_owner_ba_no" placeholder="e.g. 100"/>
<label>OPENITEM_PROP_NO:</label>
<input id="input13_openitem_prop_no" placeholder="e.g. 77001"/>
<label>ORIG_BUS_UNIT_CD:</label>
<input id="input13_orig_bus_unit_cd" placeholder="e.g. BU01"/>
<label>OWNER_BA_NO (JTRN_GL_MTD):</label>
<input id="input13_owner_ba_no_jtrn" placeholder="e.g. 100"/>
<label>PROP_NO:</label>
<input id="input13_prop_no" placeholder="e.g. 55001"/>
<label>ACCTG_MTH (YYYY-MM-DD):</label>
<input id="input13_acctg_mth" placeholder="e.g. 2025-07-31"/>
<label>PROCESS_PERIOD (YYYY-MM-DD):</label>
<input id="input13_process_period" placeholder="e.g. 2025-07-31"/>
<button class="btn generate" onclick="generateSQL13()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries13()">üóÉ Show All Queries</button>
<textarea id="output13" placeholder="SQL will appear here." readonly=""></textarea><button class="btn" onclick="toggleEditable('output13')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output13')">üìã Copy</button>
<button class="btn reset" onclick="resetFields(
  'input13_userkey','input13_idbeowner','input13_idcustomer','input13_ba_no','input13_set_id',
  'input13_open_item_id','input13_updt_dt','input13_bus_unit_cd','input13_owner_ba_no','input13_openitem_prop_no',
  'input13_orig_bus_unit_cd','input13_owner_ba_no_jtrn','input13_prop_no','input13_acctg_mth','input13_process_period',
  'output13'
)">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output13')">üíæ Export</button>
<!-- Scenario 13 Ends -->
</div><!-- closes <div class="tab-content" id="scenario13">
<template class="sql-index">
--Query to retreive details for any Invoice Adjustments: 
SELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW,  *
FROM BATCHPAYMENTAPPLICATIONMASTER A
join BATCHPAYMENTAPPLICATIONCUSTOMER  B
on A.ID = B.IDBATAPPLMASTER
join BATCHPAYMENTAPPLICATIONOPENITEM C
on B.ID = C.IDBATAPPLCUSTOMER
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.USERKEY= ''
--Input is USERKEY
</template>
 -->
<!-- Scenario 14 Starts-->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario14')">‚ûï Scenario 1.14: Business Associate (BA005 or BA WEB)</button>
<div class="tab-content" id="scenario14">
<!-- Replace Scenario 14's template with this -->
<template class="sql-index">
--Review Business Entities in BA005/BA Web:
SELECT * FROM SCTRL_BA_ENTITY WHERE BA_NO IN ('');

--Review Business Associate Address Tab in BA005/BA Web:
SELECT * FROM SCTRL_BA_ADDRESS WHERE BA_NO IN ('');

--Review Business Associate Contacts Tab in BA005/BA Web:
SELECT * FROM SCTRL_CONTACT WHERE PRIMARY_BP_NO IN ('');

--Review Business Associate Contacts Address Tab in BA005/BA Web:
SELECT * FROM SCTRL_CONTACT_ADDRESS WHERE PRIMARY_BP_NO IN ('');

--BA History / History of Changes:
BA_HISTORY, HISTORY, HISTORICAL, HIST
</template>
<h2>Scenario 1.14: Business Associate (BA005 or BA WEB)</h2>
<label>BA_NO (If multiple values, please separate with commas.):</label>
<input id="input14_bano" placeholder="e.g., 12345, 67890"/>
<label>PRIMARY_BP_NO (If multiple values, please separate with commas.):</label>
<input id="input14_primarybpno" placeholder="e.g., 12345, 67890"/>
<div class="footnote">
  ‚ö†Ô∏è Only queries matching provided input fields will generate. Queries with no required input will always show.
</div>
<button class="btn generate" onclick="generateSQL14()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries14()">üóÉ Show All Queries</button>
<textarea id="output14" placeholder="SQL will appear here..." readonly=""></textarea>
<button class="btn" onclick="toggleEditable('output14')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output14')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input14_bano','input14_primarybpno','output14')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output14')">üíæ Export</button>
<!-- Scenario 14 Ends -->
</div>
<!-- Scenario 15 Starts -->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario15')">‚ûï Scenario 1.15: ADPUPLOAD</button>
<div class="tab-content" id="scenario15">
<template class="sql-index">
--Query details for ADP Import using an update date:
select * from QARCH_TRAN_IMPEXP_STATUS 
where IMPEXP_ID = 'ADPQSTAGCOREIMP' 
and UPDT_DT BETWEEN '' AND ''
--Input will be UPDT_DT - Provide both a starting and ending update date (in YYYY-MM-DD format). Both are required.
</template>
<h2>Scenario 1.15: ADPUPLOAD</h2>
<label>Start UPDT_DT (YYYY-MM-DD):</label>
<input id="input15_start" placeholder="e.g., 2025-01-01"/>
<label>End UPDT_DT (YYYY-MM-DD):</label>
<input id="input15_end" placeholder="e.g., 2025-01-31"/>
<button class="btn generate" onclick="generateSQL15()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showQueries15()">üóÉ Show All Queries</button>
<textarea id="output15" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output15')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output15')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input15_start','input15_end','output15')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output15')">üíæ Export</button>
</div>
<!-- Scenario 15 Ends -->
<!-- Scenario 16 Starts -->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario16')">‚ûï Scenario 1.16: Account Set Up (GL095) &amp; Chart of Accounts (GL013)</button>
<div class="tab-content" id="scenario16">
<template class="sql-index">
--Query existing account details on GL095:
SELECT TOP 100 * 
FROM GENERALJOURNAL GJ 
JOIN BUSINESSENTITY BE ON GJ.IDBEOWNER = BE.ID
JOIN GENERALJOURNALLINE GJL ON GJ.ID = GJL.IDGENERALJOURNAL
JOIN ACCOUNT ACC ON ACC.ID = GJL.IDACCOUNT
WHERE GJ.IDBEOWNER IN ('') AND ACC.KEYFULL=''

--Query additional account details from Account table:
SELECT B.* FROM ACCOUNT A
JOIN UPS_ACCOUNT B ON A.ID = B.ID
WHERE KEYFULL = ''

--Query Chart of Accounts by Business Unit:
select A.* from ACCOUNT A (NOLOCK) 
JOIN UPS_ACCOUNT UA ON UA.IDACCOUNT = A.ID 
WHERE A.IDBEOWNER = 

--Query changes to a Business Unit(BA_NO):
SELECT * from SHIST_BA_ENTITY WHERE BA_NO = ' '

--Query changes to an Account setup:
SELECT * FROM ACCOUNTHISTORY WHERE KEYFULL = ' '

--Query Details on GL095 by Account Number:
SELECT ... 
-- (omitted for brevity, full long SQL query from your input goes here exactly as is, ending in:)
WHERE KEYFULL = ''
</template>
<h2>Scenario 1.16: Account Set Up (GL095) &amp; Chart of Accounts (GL013)</h2>
<label>KEYFULL (Format: xxxx-xxxx):</label>
<input id="input16_keyfull" placeholder="e.g., 1200-2234"/>
<label>IDBEOWNER (Business Unit ID):</label>
<input id="input16_idbeowner" placeholder="e.g., 13"/>
<label>BA_NO (Business Associate Number):</label>
<input id="input16_ba_no" placeholder="e.g., 12345"/>
<button class="btn generate" onclick="generateSQL16()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showQueries16()">üóÉ Show All Queries</button>
<textarea id="output16" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output16')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output16')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input16_keyfull','input16_idbeowner','input16_ba_no','output16')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output16')">üíæ Export</button>
</div>
<!-- Scenario 16 Ends -->
<!-- Scenario 17 Starts-->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario17')">‚ûï Scenario 1.17: Cross Reference(MT100) / Journal Definitions (SM021)/Workflow Definitions (SM093)/Voucher Payment Term Definition (AP047)</button>
<div class="tab-content" id="scenario17">
<template class="sql-index">
--MT100 &gt; ${label}\n
</template>
<h2>Scenario 1.17: Cross Reference(MT100) / Journal Definitions (SM021)/Workflow Definitions (SM093)/Voucher Payment Term Definition (AP047)</h2>
<label>TRANS_TYPE (If multiple values, please separate with commas.):</label>
<input id="input17_transtype" placeholder="e.g., GL, AP, AR"/>
<label>JOURNAL_ID (If multiple values, please separate with commas.):</label>
<input id="input17_journalid" placeholder="e.g., AFE, JIB"/>
<label>IDBEOWNER (Required with USERKEY):</label>
<input id="input17_idbeowner" placeholder="e.g., 11, 13"/>
<label>USERKEY (For SM021/SM093/AP100- IDBEOWNER is required):</label>
<input id="input17_userkey1" placeholder="e.g., APVOU, INVOICE"/>
<label>USERKEY (For AP047-IDBEOWNER is required):</label>
<input id="input17_userkey2" placeholder="e.g., NET15, DUEONREC"/>
<div class="footnote">
  ‚ö†Ô∏è To generate queries for SM021, SM093, AP100, or AP047, both <strong>IDBEOWNER</strong> and the appropriate <strong>USERKEY</strong> must be provided. Queries will not appear if one is missing.
</div>
<button class="btn generate" onclick="generateSQL17()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries17()">üóÉ Show All Queries</button>
<textarea id="output17" placeholder="SQL will appear here..." readonly=""></textarea>
<button class="btn" onclick="toggleEditable('output17')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output17')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input17_transtype','input17_journalid','input17_idbeowner','input17_userkey1','input17_userkey2','output17')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output17')">üíæ Export</button>
<!-- Scenario 17 Ends -->
</div>
<!-- Scenario 18 Starts-->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario18')">‚ûï Scenario 1.18: Resolve BU Information</button>
<div class="tab-content" id="scenario18">
<template class="sql-index">
--Audit of batches posted during a POSTWKFLOW Run\n
</template>
<h2>Scenario 1.18: Resolve BU Information</h2>
<label>USERKEY (BU Number):</label>
<input id="input18_bu_userkey" placeholder="e.g., 001"/>
<label>USERKEY (BA Number):</label>
<input id="input18_ba_userkey" placeholder="e.g., 23546"/>
<div class="footnote">
    USERKEY (BU Number) is used to retrieve BUSINESSENTITY.ID, which is matched in the nested query.<br/>
    USERKEY (BA Number) is used in the CUSTOMER table lookup.
  </div>
<button class="btn generate" onclick="generateSQL18()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries18()">üóÉ Show All Queries</button>
<textarea id="output18" placeholder="SQL will appear here..." readonly=""></textarea>
<button class="btn" onclick="toggleEditable('output18')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output18')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input18_bu_userkey','input18_ba_userkey','output18')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output18')">üíæ Export</button>
</div>
<!-- Scenario 18 Ends -->
<!-- Scenario 19 Starts -->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario19')">‚ûï Scenario 1.19: POSTWKFL</button>
<div class="tab-content" id="scenario19">
<template class="sql-index">
--Query the Process Tables to identify any jobs that are running an Archive step: \n
</template>
<h2>Scenario 1.19: POSTWKFL</h2>
<label>Created Start Date (YYYY-MM-DD)Both "From" AND "To" Dates are required</label>
<input id="input19_createdStart" placeholder="e.g., 2025-08-01"/>
<label>Created End Date (YYYY-MM-DD)Both "From" AND "To" Dates are required</label>
<input id="input19_createdEnd" placeholder="e.g., 2025-08-13"/>
<label>JE USERKEY (For JEs):</label>
<input id="input19_jeUserKey" placeholder="e.g., BJE0000123"/>
<label>USERKEY (For Vouchers):</label>
<input id="input19_apUserKey" placeholder="e.g., BV00000456"/>
<label>DATETOPOST (YYYY-MM-DD):</label>
<input id="input19_datetoPost" placeholder="e.g., 2025-08-13"/>
<label>PROCESS_QUEUE_ID (POSTWKFL only):</label>
<input id="input19_processQueueId" placeholder="e.g., 8675309"/>
<label>Update Start Date (YYYY-MM-DD)Both "From" AND "To" Dates are required</label>
<input id="input19_updateStart" placeholder="e.g., 2025-08-01"/>
<label>Update End Date (YYYY-MM-DD)Both "From" AND "To" Dates are required</label>
<input id="input19_updateEnd" placeholder="e.g., 2025-08-13"/>
<button class="btn generate" onclick="generateScenario19()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries19()">üóÉ Show All Queries</button>
<textarea id="output19" placeholder="SQL will appear here..." readonly=""></textarea><button class="btn" onclick="toggleEditable('output19')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output19')">üìã Copy</button>
<button class="btn reset" onclick="resetFields(
    'input19_createdStart','input19_createdEnd','input19_jeUserKey','input19_apUserKey',
    'input19_datetoPost','input19_processQueueId','input19_updateStart','input19_updateEnd','output19')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output19')">üíæ Export</button>
</div>
<!-- Scenario 19 Ends -->
<!-- Scenario 20 Starts-->
<!-- Scenario 20 Starts-->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario20')">‚ûï Scenario 1.20: Archive &amp; Purge</button>
<div class="tab-content" id="scenario20">
<template class="sql-index">
--Query the Process Tables to identify any jobs that are running an Archive step: 
select * from QARCH_QUEU_PROCESS A
join QARCH_QUEU_PROCESS_STEP B
on A.PROCESS_QUEUE_ID = B.PROCESS_QUEUE_ID
join QARCH_CTRL_PROCESS_STEP  C
on B.PROCESS_STEP_ID = C.PROCESS_STEP_ID
and B.METADATA_LAYER_CD = C.APP_LAYER_CD
where UPPER(C.CPP_DLL_CLASS_NM) like '%ARCHIVE%'
order by A.PROCESS_QUEUE_ID desc

--No input will be required. This query will auto generate.
</template>
<h2>Scenario 1.20: Archive &amp; Purge</h2>
<label>Update Date (YYYY-MM-DD) ‚Äî must be older than 30 days:</label>
<input id="input20_updatedt" placeholder="e.g., 2025-07-01"/>
<button class="btn generate" onclick="generateSQL20()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries20()">üóÉ Show All Queries</button>
<textarea id="output20" placeholder="SQL will appear here." readonly=""></textarea><button class="btn" onclick="toggleEditable('output20')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output20')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input20_updatedt','output20')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output20')">üíæ Export</button>
<!-- Scenario 20 Ends -->
<!-- Scenario 21 Starts-->
</div><button class="accordion-btn" onclick="toggleAccordion(this,'scenario21')">‚ûï Scenario 1.21: Processing Time Assessments (QCFSIMPCYC, POSTWKFL)</button>
<div class="tab-content" id="scenario21">
<template class="sql-index">
--QUERIES FOR QCFSIMPCYC ELAPSED: 
SELECT DATEACCT, MAX(BATCH_CREATED) QCFSIMPCYC_END_DT
FROM (
  SELECT DATEACCT, MAX(CREATED) BATCH_CREATED
  FROM BATCHJOURNALENTRYMASTER
  WHERE NAME LIKE 'JIB%'
  AND DATEACCT BETWEEN '' AND ''
  GROUP BY DATEACCT
  UNION ALL
  SELECT DATEACCT, MAX(CREATED) BATCH_CREATED
  FROM BATCHINVOICEMASTER
  WHERE NAME LIKE 'JIB%'
  AND DATEACCT BETWEEN '' AND ''
  GROUP BY DATEACCT
) A
GROUP BY A.DATEACCT
ORDER BY A.DATEACCT;

--QUERIES FOR QCFSIMPCYC ELAPSED: 
SELECT A.PROCESS_PERIOD, B.PROCESS_QUEUE_ID, B.PROCESS_ID, B.START_DT, B.END_DT QCFSIMPCYC_START_DT, 
DATEDIFF(minute, B.START_DT, B.END_DT) DATEDIFFMINS 
FROM CEN_DEV16UPS_QCA..JBTRN_PROCESS_ACTIVITY A
JOIN QARCH_QUEU_PROCESS B
ON A.PROCESS_QUEUE_ID = B.PROCESS_QUEUE_ID
WHERE A.PROCESS_PERIOD BETWEEN '' AND ''
AND A.PROCESS_ID IN ('JBLDJE2CAS')
AND A.ACTIVE = 1
ORDER BY A.PROCESS_PERIOD;

--QUERIES FOR QCFSIMPCYC ELAPSED: 
SELECT PROCESS_ID, PROCESS_QUEUE_ID, END_DT, DATEDIFF(minute, START_DT, END_DT) DATEDIFFMINS
FROM QARCH_QUEU_PROCESS
WHERE PROCESS_ID = 'QCFSIMPCYC'
AND START_DT &gt;= '' --QCFSIMPCYC_START_DT
AND START_DT &lt;= '' --QCFSIMPCYC_END_DT
AND STATUS_CD &lt;&gt; 'SXI'
ORDER BY START_DT;

--QUERIES FOR POSTWKFL ELAPSED
SELECT DATEACCT, MAX(BATCH_POSTED) POSTWKFL_END_DT
FROM (
  SELECT DATEACCT, MAX(LASTUPDATE) BATCH_POSTED
  FROM BATCHJOURNALENTRYMASTER
  WHERE NAME LIKE 'JIB%'
  AND DATEACCT BETWEEN '' AND ''
  GROUP BY DATEACCT
  UNION ALL
  SELECT DATEACCT, MAX(LASTUPDATE) BATCH_POSTED
  FROM BATCHINVOICEMASTER
  WHERE NAME LIKE 'JIB%'
  AND DATEACCT BETWEEN '' AND ''
  GROUP BY DATEACCT
) A
GROUP BY A.DATEACCT
ORDER BY A.DATEACCT;

--QUERIES FOR POSTWKFL ELAPSED
SELECT PROCESS_ID, PROCESS_QUEUE_ID, END_DT, DATEDIFF(minute, START_DT, END_DT) DATEDIFFMINS
FROM QARCH_QUEU_PROCESS
WHERE PROCESS_ID = 'POSTWKFL'
AND START_DT &gt;= '' --QCFSIMPCYC_END_DT
AND START_DT &lt;= '' --POSTWKFL_END_DT
AND STATUS_CD NOT IN ('SXI', 'SXL')
ORDER BY START_DT;
</template>
<h2>Scenario 1.21: Processing Time Assessments (QCFSIMPCYC, POSTWKFL)</h2>
<label>DATEACCT Start (YYYY-MM-DD):</label>
<input id="input21_dateacct_start" placeholder="e.g., 2025-07-01"/>
<label>DATEACCT End (YYYY-MM-DD):</label>
<input id="input21_dateacct_end" placeholder="e.g., 2025-07-31"/>
<label>PROCESS_PERIOD Start (YYYY-MM-DD):</label>
<input id="input21_process_period_start" placeholder="e.g., 2025-07-01"/>
<label>PROCESS_PERIOD End (YYYY-MM-DD):</label>
<input id="input21_process_period_end" placeholder="e.g., 2025-07-31"/>
<label>QCFSIMPCYC START_DT (&gt;=) (YYYY-MM-DD):</label>
<input id="input21_qcfsimp_startdt" placeholder="e.g., 2025-07-01"/>
<label>QCFSIMPCYC END_DT (&lt;=) (YYYY-MM-DD):</label>
<input id="input21_qcfsimp_enddt" placeholder="e.g., 2025-07-31"/>
<label>POSTWKFL START_DT (&gt;=) (YYYY-MM-DD):</label>
<input id="input21_postwkfl_startdt" placeholder="e.g., 2025-07-01"/>
<label>POSTWKFL END_DT (&lt;=) (YYYY-MM-DD):</label>
<input id="input21_postwkfl_enddt" placeholder="e.g., 2025-07-31"/>
<button class="btn generate" onclick="generateSQL21()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries21()">üóÉ Show All Queries</button>
<textarea id="output21" placeholder="SQL will appear here." readonly=""></textarea>
<button class="btn" onclick="toggleEditable('output21')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output21')">üìã Copy</button>
<button class="btn reset" onclick="resetFields(
  'input21_dateacct_start','input21_dateacct_end','input21_process_period_start','input21_process_period_end',
  'input21_qcfsimp_startdt','input21_qcfsimp_enddt','input21_postwkfl_startdt','input21_postwkfl_enddt','output21'
)">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output21')">üíæ Export</button>
</div>
<!-- Scenario 21 Ends -->

<!-- Scenario 22 Starts-->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario22')">‚ûï Scenario 1.22: GL Accounts Configuration and Setup</button>
<div class="tab-content" id="scenario22">
<template class="sql-index">
--JB500 Updates: 
--BILLING: 
SELECT DISTINCT 'PRM' BUSINESS_SEGMENT, '27' EVENT, '191' KEYWORD, 'C' ENTRY_TYPE, '*' COMPANY,
UA.JIBGROUP JIB_GROUP_CODE, A.KEYFULL ACCOUNT, '' PICKLIST, '*' AFFILIATE_COMPANY, CONCAT(LEFT(A.KEYFULL, 1), '1', RIGHT(A.KEYFULL, 7)) OFFSET_ACCOUNT,
'' PICKLIST, '' RESOURCE_CATEGORY, A.NAME DESCRIPTION
FROM ACCOUNT A
JOIN UPS_ACCOUNT UA
ON A.ID = UA.IDACCOUNT
LEFT JOIN JBONL_ACCOUNT_DEFAULT J
ON A.KEYFULL = J.ACCOUNT
AND J.KEYWORD_ID = '191'
WHERE UA.JIBGROUP IS NOT NULL
AND J.ACCOUNT IS NULL
AND A.HEADERACCOUNT = 0
AND UA.JIBGROUP &lt;&gt; 'PREPAY'
ORDER BY A.KEYFULL
--No Input is required. This query will auto generate.
</template>
<h2>Scenario 1.22: GL Accounts Configuration and Setup</h2>
<label>ACCOUNT_KEYFULL (xxxx-xxxx format):</label>
<input id="input22_account_keyfull" placeholder="e.g., 1150-100"/>
<div style="font-size: 0.9em; color: gray; margin-bottom: 10px;">
    All queries except Query¬†6 will auto-generate without input. Only provide <strong>ACCOUNT_KEYFULL</strong> if you want Query¬†6 to return filtered results.
  </div>
<button class="btn generate" onclick="generateSQL22()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries22()">üóÉ Show All Queries</button>
<textarea id="output22" placeholder="SQL will appear here." readonly=""></textarea>
<button class="btn" onclick="toggleEditable('output22')" title="Edit Output" type="button">‚úèÔ∏è</button>
<button class="btn copy" onclick="copySQL('output22')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input22_account_keyfull','output22')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output22')">üíæ Export</button>
</div>
<!-- Scenario 22 Ends -->

<!-- Scenario 23 Starts-->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario23')">‚ûï Scenario 1.23: Process Locks</button>
<div class="tab-content" id="scenario23">
  <template class="sql-index">
--Query the Lock Type Code Setup (Each process requies a lock type that it needs to acquire. If there are concurrent or overlapping processes, both of them cannot acquire the lock simultaneously): 
select * from QARCH_LOCK_MASTER_PROCESS where LOCK_TYPE_CD = '';

--Query the LOCK table to query for any active locks:
SELECT * FROM QARCH_LOCK;

--Query the LOCK audit table for Lock History:
select * from QARCH_HIST_LOCK;
  </template>
  <h2>Scenario 1.23: Process Locks</h2>
  <label>LOCK_TYPE_CD</label>
  <input id="input23_locktypecd" placeholder="e.g., GLLOCK, POSTLOCK"/>
  <button class="btn generate" onclick="generateSQL23()">‚öôÔ∏è Generate SQL</button>
  <button class="btn default" onclick="showAllQueries23()">üóÉ Show All Queries</button>
  <textarea id="output23" placeholder="SQL will appear here..." readonly></textarea>
  <button class="btn" onclick="toggleEditable('output23')" title="Edit Output" type="button">‚úèÔ∏è</button>
  <button class="btn copy" onclick="copySQL('output23')">üìã Copy</button>
  <button class="btn reset" onclick="resetFields('input23_locktypecd','output23')">üîÑ Reset</button>
  <button class="btn export" onclick="exportSQL('output23')">üíæ Export</button>
</div>
<!--Scenario 23 Ends-->

</div><!-- closes the Group 1 container -->
<!--End of Group 1-->
<!-- ‚úÖ BEGIN Group 2 -->
<!-- üìÇ Group 2: QDO, QRA -->
<button class="accordion-btn group-btn" onclick="toggleGroup('group2')" style="background: linear-gradient(to right, #8e44ad, #6c3483); color: #fff; font-weight: bold; border-radius: 6px; padding: 10px 15px; box-shadow: 0 3px 6px rgba(0,0,0,0.3);">üìÇ Group 2: QDO, QRA </button>
<div class="scenario-group" id="group2" style="display: none;">
<!-- Scenario 2.1 -->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario201')">‚ûï Scenario 2.1: Max Sequence in QDO Transaction</button>
<div class="tab-content" id="scenario201">
<template class="sql-index">
--Query to find the max sequence number in all related DONL tables:
SELECT Max(TRANS_GRP_SEQ_NO)
FROM (
	SELECT Max(TRANS_GRP_SEQ_NO) AS TRANS_GRP_SEQ_NO FROM DONL_INT_FUNDS_XFER_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_INT_FUNDS_XFER_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_OWNR_EXCPT_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_OWNR_EXCPT_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_PAY_CD_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_PAY_CD_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_DO_HIST
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DO_HIST
) A;

--Query to find TRANS_GRP_SEQ_NO setup:
SELECT * FROM QARCH_TRAN_SEQ WHERE SEQ_NM = 'TRANS_GRP_SEQ_NO';
  </template>
<h2>Scenario 2.1: Max Sequence in QDO Transaction</h2>
<div class="footnote">‚ö†Ô∏è No input required. Click "Generate SQL" or "Show All Queries" to populate queries.</div>
<button class="btn generate" onclick="generateSQL201()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries201()">üóÉ Show All Queries</button>
<textarea id="output201" placeholder="SQL will appear here..." readonly=""></textarea>
<button class="btn copy" onclick="copySQL('output201')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('output201')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output201')">üíæ Export</button>
</div>
<!-- Scenario 2.2 -->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario202')">‚ûï Scenario 2.2: Funds Transfer by Group Number</button>
<div class="tab-content" id="scenario202">
<template class="sql-index">
--Query to find Funds transfer information based on a Group Number:
SELECT H.*, DTL.*
FROM DONL_INT_FUNDS_XFER_HDR H
JOIN DONL_INT_FUNDS_XFER_DTL DTL ON H.TRANS_SEQ_NO = DTL.TRANS_SEQ_NO
WHERE H.GRP_NO = '';
  </template>
<h2>Scenario 2.2: Funds Transfer by Group Number</h2>
<label>GRP_NO</label>
<input id="input202_grpno" placeholder="e.g., 40395"/>
<button class="btn generate" onclick="generateSQL202()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries202()">üóÉ Show All Queries</button>
<textarea id="output202" placeholder="SQL will appear here..." readonly=""></textarea>
<button class="btn copy" onclick="copySQL('output202')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('input202_grpno','output202')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output202')">üíæ Export</button>
</div>
<!-- Scenario 2.3 -->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario203')">‚ûï Scenario 2.3: Maintenance Group Status</button>
<div class="tab-content" id="scenario203">
<template class="sql-index">
--Query to confirm Status Code description:
SELECT * FROM GCDE_GRP_STAT;

--Query to review Maintenance Group information:
SELECT GRP_STAT_CD, * FROM DONL_DVD_GRP ORDER BY UPDT_DT DESC;
  </template>
<h2>Scenario 2.3: Maintenance Group Status</h2>
<div class="footnote">‚ö†Ô∏è No input required. Click "Generate SQL" or "Show All Queries" to populate queries.</div>
<button class="btn generate" onclick="generateSQL203()">‚öôÔ∏è Generate SQL</button>
<button class="btn default" onclick="showAllQueries203()">üóÉ Show All Queries</button>
<textarea id="output203" placeholder="SQL will appear here..." readonly=""></textarea>
<button class="btn copy" onclick="copySQL('output203')">üìã Copy</button>
<button class="btn reset" onclick="resetFields('output203')">üîÑ Reset</button>
<button class="btn export" onclick="exportSQL('output203')">üíæ Export</button>
</div>
</div> <!-- end group2 -->
<!-- üìÇ Group 3: QLS (Placeholder) -->
<button class="accordion-btn group-btn" onclick="toggleGroup('group3')" style="background: linear-gradient(to right, #607d8b, #455a64); color: #fff; font-weight: bold; border-radius: 6px; padding: 10px 15px; box-shadow: 0 3px 6px rgba(0,0,0,0.3);">üìÇ Group 3: QLS</button>
<div class="scenario-group" id="group3" style="display: none;">
<!-- Scenario 3.1 Placeholder -->
<button class="accordion-btn" onclick="toggleAccordion(this,'scenario301')">‚ûï Scenario 3.1: [Coming Soon]</button>
<div class="tab-content" id="scenario301">
<h2>Scenario 3.1: QLS - Under Construction</h2>
<div class="instructions-card" style="text-align:center;">
<div class="instructions-body">
<p>üöß This section is currently under construction.</p>
<p>Future QLS scenarios will appear here when development is complete.</p>
<p>Please check back soon!</p>
</div>
</div>
</div>
</div> <!-- end group3 -->
<!-- Footer -->
<footer style="text-align:center; margin-top:40px; color:#555; font-size:0.9em;">
  Created by Nikki Masani.<br/>
<small style="color:#888;">Version 1.2.0 ‚Äî Last updated: 2025-08-11</small>
</footer>
<!-- Begin JS Blocks for each Scenario -->
<script>
//Accordion Toggle
  
function toggleAccordion(button, contentId) {
  const content = document.getElementById(contentId);
  if (!content) return;

  const isActive = content.classList.contains("active");
  content.classList.toggle("active");
  button.classList.toggle("active");

  // Update button text icon
  button.innerHTML = button.innerHTML.replace(/^‚ûï|‚ûñ/, isActive ? '‚ûï' : '‚ûñ');
}

  

  


function toggleAccordion(button, contentId) {
  const content = document.getElementById(contentId);
  if (!content) return;

  const isActive = content.classList.contains("active");
  content.classList.toggle("active");
  button.classList.toggle("active");

  // Update button text icon
  button.innerHTML = button.innerHTML.replace(/^‚ûï|‚ûñ/, isActive ? '‚ûï' : '‚ûñ');
}







</script>
<script>
// Utility Functions
function copySQL(id) {
  const textarea = document.getElementById(id);
  navigator.clipboard.writeText(textarea.value).then(() => {
    showToast("Copied to clipboard!");
  });
}

function showToast(message) {
  const toast = document.createElement("div");
  toast.className = "toast-message";
  toast.textContent = message;
  document.body.appendChild(toast);
  setTimeout(() => toast.classList.add("show"), 10);
  setTimeout(() => {
    toast.classList.remove("show");
    setTimeout(() => document.body.removeChild(toast), 500);
  }, 2000);
}
function resetAllFields() {
  const inputs = Array.from(document.querySelectorAll("input")).map(el => el.id);
  const textareas = Array.from(document.querySelectorAll("textarea")).map(el => el.id);
  resetFields(...inputs, ...textareas);

  const successMessages = document.querySelectorAll(".copy-success");
  successMessages.forEach(msg => msg.style.display = 'none');
}



function exportSQL(id) {
  const content = document.getElementById(id).value;
  if (!content) return;
  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const url = URL.createObjectURL(blob);
  const link = document.createElement('a');
  link.href = url;
  link.download = `${id}.sql`;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}


function toggleTheme() {
  document.body.classList.toggle('dark-mode');
}


//JS Functions behind each scenario button.
// Scenario 1
function generateSQL1() {
  const pqid = document.getElementById("processQueueId").value.trim();
  const pid = document.getElementById("processId").value.trim();
  const mpqid = document.getElementById("masterProcessQueueId").value.trim();
  
  const registeredSqlName = document.getElementById("registeredSqlName") ? document.getElementById("registeredSqlName").value.trim() : "";let sql = "";
  sql += `---Query the Process Queue table to view the status and other relevant details about the process:\n`;
  if (pqid && pid) {
    sql += `SELECT START_DT,PROCESS_QUEUE_ID,PROCESS_ID,STATUS_CD,USER_ID, PARENT_PROCESS_QUEUE_ID, MASTER_PROCESS_QUEUE_ID,\n`;
    sql += `DATEDIFF (MINUTE, START_DT, END_DT) as TIMEDIFF_IN_MIN,USER_ID,*\n`;
    sql += `FROM QARCH_QUEU_PROCESS\nWHERE PROCESS_QUEUE_ID IN ('${pqid}') OR PROCESS_ID IN ('${pid}')\nORDER BY QUEUE_DT DESC;\n\n`;
  } else if (pqid) {
    sql += `SELECT START_DT,PROCESS_QUEUE_ID,PROCESS_ID,STATUS_CD,USER_ID, PARENT_PROCESS_QUEUE_ID, MASTER_PROCESS_QUEUE_ID,\n`;
    sql += `DATEDIFF (MINUTE, START_DT, END_DT) as TIMEDIFF_IN_MIN,USER_ID,*\n`;
    sql += `FROM QARCH_QUEU_PROCESS\nWHERE PROCESS_QUEUE_ID IN ('${pqid}') -- OR PROCESS_ID IN ('')\nORDER BY QUEUE_DT DESC;\n\n`;
  } else if (pid) {
    sql += `SELECT START_DT,PROCESS_QUEUE_ID,PROCESS_ID,STATUS_CD,USER_ID, PARENT_PROCESS_QUEUE_ID, MASTER_PROCESS_QUEUE_ID,\n`;
    sql += `DATEDIFF (MINUTE, START_DT, END_DT) as TIMEDIFF_IN_MIN,USER_ID,*\n`;
    sql += `FROM QARCH_QUEU_PROCESS\n-- WHERE PROCESS_QUEUE_ID IN ('') OR PROCESS_ID IN ('${pid}')\nORDER BY QUEUE_DT DESC;\n\n`;
  }
  if (pqid) {
    sql += `--Query the Message Log table to view any errors that were logged for the process.:\n`;
    sql += `SELECT LOG_MSG, LOG_DATE, PROCESS_QUEUE_ID, PROCESS_STEP_QUEUE_ID, LOG_MSG_TYPE_CD, *\n`;
    sql += `FROM QARCH_PROCESS_MSG_LOG\nWHERE PROCESS_QUEUE_ID IN ('${pqid}')\nORDER BY PROCESS_LOG_ID ASC;\n\n`;
    sql += `--Query the Process Step table to see what steps were successful.:\n`;
    sql += `SELECT * FROM QARCH_QUEU_PROCESS_STEP\nWHERE PROCESS_QUEUE_ID = ('${pqid}')\nORDER BY SEQ_NO ASC;\n\n`;
    sql += `--Query the SQL Trace to see if any sql was logged for any of the process steps.:\n`;
    sql += `SELECT REGISTERED_SQL_NAME, SQL_STATEMENT_PART1, *\n`;
    sql += `FROM QARCH_QFCBATCH_SQL_TRACE\nWHERE PROCESS_QUEUE_ID in ('${pqid}')\nORDER BY SQL_SUCCESS_IND ASC;\n\n`;
    sql += `--Query the lock table to verify if there are any active locks related to the process:\n`;
    sql += `SELECT * FROM QARCH_LOCK\nWHERE PROCESS_QUEUE_ID = '${pqid}'\nORDER BY UPDT_DT DESC;\n\n`;
  }
  if (mpqid) {
    sql += `--Query the Process Queue table for a breakdown of any child processes.:\n`;
    sql += `SELECT PROCESS_QUEUE_ID, PROCESS_ID, STATUS_CD, START_DT, END_DT,\n`;
    sql += `DATEDIFF(MINUTE, START_DT, END_DT) AS "TIME TO COMPLETE"\n`;
    sql += `FROM QARCH_QUEU_PROCESS\n`;
    sql += `WHERE MASTER_PROCESS_QUEUE_ID IN ('${mpqid}')\n`;
    sql += `GROUP BY PROCESS_QUEUE_ID, PROCESS_ID, STATUS_CD, START_DT, END_DT\n`;
    sql += `ORDER BY STATUS_CD;\n\n`;
  }
  
  // New: Process Step Avg Time (REGISTERED_SQL_NAME + MASTER_PROCESS_QUEUE_ID required)
// New: Process Step Avg Time (REGISTERED_SQL_NAME + MASTER_PROCESS_QUEUE_ID required)
if (registeredSqlName && !mpqid) {
  alert("Both REGISTERED_SQL_NAME and MASTER_PROCESS_QUEUE_ID are required to view the Process Step Average time.");
  sql += `-- Both REGISTERED_SQL_NAME and MASTER_PROCESS_QUEUE_ID are required to view the Process Step Average time.\n\n`;
} else if (registeredSqlName && mpqid) {
  sql += `--Query the SQL Trace Table to view the Process Step Avg Time:\n`;
  sql += `SELECT SUM(DURATION_MSEC)/1000/COUNT(*) AS AVG_DURATION_SEC,\n`;
  sql += `       COUNT(*) AS EXE_COUNT\n`;
  sql += `FROM QARCH_QFCBATCH_SQL_TRACE\n`;
  sql += `WHERE REGISTERED_SQL_NAME = '${registeredSqlName}'\n`;
  sql += `  AND PROCESS_QUEUE_ID IN (\n`;
  sql += `    SELECT PROCESS_QUEUE_ID\n`;
  sql += `    FROM QARCH_QUEU_PROCESS\n`;
  sql += `    WHERE MASTER_PROCESS_QUEUE_ID = '${mpqid}'\n`;
  sql += `  );\n\n`;
}



  document.getElementById("output1").value = sql;
}

// Scenario 2
function generateSQL2() {
  const afeNoRaw   = document.getElementById("afe2").value.trim();
  const inboxRaw   = document.getElementById("inbox2").value.trim();
  const routeRaw   = document.getElementById("route2").value.trim();
  const stepRaw    = document.getElementById("step2").value.trim();
  const deskRaw    = document.getElementById("desk2").value.trim();

  const listify = csv =>
    csv
      .split(",")
      .map(s => s.trim())
      .filter(Boolean)
      .map(s => `'${s.replace(/'/g, "''")}'`)
      .join(", ");

  const afeList   = afeNoRaw ? listify(afeNoRaw) : null;
  const inboxList = inboxRaw ? listify(inboxRaw) : null;
  const routeList = routeRaw ? listify(routeRaw) : null;
  const stepList  = stepRaw ? listify(stepRaw) : null;
  const deskList  = deskRaw ? listify(deskRaw) : null;

  let sql = "";

  // a) View AFE Details (input: AFE_NO)
  if (afeList) {
    sql += `--View AFE Details :\n`;
    sql += `SELECT AFE_NO, ORIG_DESKID_NO, APRV_DESKID_NO, ENGR_DESKID_NO, WF_ROUTE_NM_SELECTED, WF_ROUTE_NM_OVERRIDE, *\n`;
    sql += `FROM dbo.QCTRL_AFE_HDR\nWHERE AFE_NO IN (${afeList});\n\n`;
  }

  // b) View the AFE Workflow for a specific AFE (input: AFE_NO)
  if (afeList) {
    sql += `--View the AFE Workflow for a specific AFE:\n`;
    sql += `SELECT *\nFROM QWF_TRAN_INBOX_AFE QW\nJOIN QARCH_WF_TRAN_INBOX_BASE QA ON QW.ID_WF_INBOX = QA.ID_WF_INBOX\n`;
    sql += `WHERE AFE_NO IN (${afeList});\n\n`;
  }

  // c) WF Inbox Details (input: ID_WF_INBOX)
  if (inboxList) {
    sql += `--Using the RESULT of the ID_WF_INBOX populated from the last query, retreive the WF Inbox Details :\n`;
    sql += `SELECT QUEUE_DT, ACTION_DT, ASSIGNED_DESK_NM, ASSIGNED_USER_ID, APRV_LIMIT, INBOX_ACTION_CD, INBOX_TYPE_CD, INBOX_ACTION_CD, *\n`;
    sql += `FROM QARCH_WF_TRAN_INBOX_BASE\nWHERE ID_WF_INBOX IN (${inboxList});\n\n`;
  }

  // d) Audit steps taken for the AFE Approval (input: AFE_NO)
  if (afeList) {
    sql += `--View the audit steps taken for the AFE Approval:\n`;
    sql += `SELECT AFE.AFE_NO, WF_AUDIT.SYSTEM_COMMENT, WF_AUDIT.WF_INSTANCE_ID, WF_AUDIT.ACTION_DT, WF_AUDIT.ACTION_USER_ID, WF_AUDIT.*\n`;
    sql += `FROM QCTRL_AFE_HDR AS AFE\n`;
    sql += `JOIN QWF_TRAN_AUDIT_AFE AS WF ON WF.AFE_NO = AFE.AFE_NO\n`;
    // Note: keep the join to the audit base explicit (g also has this; d per spec didn‚Äôt show it, but it is correct/expected)
    sql += `JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE AS WF_AUDIT ON WF.ID_WF_AUDIT = WF_AUDIT.ID_WF_AUDIT\n`;
    sql += `WHERE AFE.AFE_NO IN (${afeList})\n`;
    sql += `ORDER BY WF_AUDIT.ACTION_DT ASC;\n\n`;
  }

  // e) AFE Route Steps (input: WF_ROUTE_NM, optional: ID_WF_ROUTE_SMPL_STEP)
  if (routeList) {
    sql += `--View the AFE Route Steps\n`;
    sql += `SELECT DESK_NM, *\nFROM QARCH_WF_ROUTE_SMPL_STEP AS A\n`;
    sql += `LEFT JOIN QARCH_WF_ROUTE_SMPL_STEP_DESK AS B ON A.ID_WF_ROUTE_SMPL_STEP = B.ID_WF_ROUTE_SMPL_STEP\n`;
    sql += `WHERE WF_ROUTE_NM IN (${routeList})\n`;
    if (stepList) sql += `  AND A.ID_WF_ROUTE_SMPL_STEP IN (${stepList})\n`;
    sql += `ORDER BY A.ROUTE_STEP_SEQ_NO;\n\n`;
  }

  // f) DESK Details (input: DESK_NM)
  if (deskList) {
    sql += `--View the DESK Details for those on an AFE Route:\n`;
    sql += `SELECT * FROM QARCH_WF_DESK WHERE DESK_NM IN (${deskList});\n`;
    sql += `SELECT * FROM QARCH_WF_DESK_DELEGATE WHERE DESK_NM IN (${deskList});\n\n`;
  }

  // g) AFE Desks and Approvals ‚Äî AUTOPopulate (no input, no dynamic inserts)
  sql += `--View the AFE Desks and Approvals on an AFE (Autopopulated)\n`;
  sql += `SELECT AFE.AFE_NO, WF_AUDIT.SYSTEM_COMMENT, WF_AUDIT.WF_INSTANCE_ID, WF_AUDIT.ACTION_DT, WF_AUDIT.ACTION_USER_ID, WF_AUDIT.*\n`;
  sql += `FROM QCTRL_AFE_HDR AS AFE\n`;
  sql += `JOIN QWF_TRAN_AUDIT_AFE AS WF ON WF.AFE_NO = AFE.AFE_NO\n`;
  sql += `JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE AS WF_AUDIT ON WF.ID_WF_AUDIT = WF_AUDIT.ID_WF_AUDIT\n`;
  // No WHERE filter here by design
  sql += `ORDER BY WF_AUDIT.ACTION_DT ASC;\n\n`;

  // h) AFE Affiliates (input: AFE_NO)
  if (afeList) {
    sql += `--View the AFE Affiliates for any AFE:\n`;
    sql += `SELECT * FROM QXREF_AFE_AFFILIATES WHERE PRIMARY_AFE_NO IN (${afeList});\n\n`;
  }

  document.getElementById("output2").value = sql.trim();
}


// Scenario 3
function generateSQL3() {
  const secUserId = document.getElementById("secuserid3").value.trim();
  const secUserList = secUserId ? secUserId.split(',').map(x => `'${x.trim()}'`).join(', ') : null;
  let sql = "";
  if (secUserList) {
    sql += `--Retreive Security Groups that a User is in (SC110):\n`;
    sql += `SELECT\nQSGM.UPDT_DT,\nQSGM.SEC_USER_ID,\nQSU.SEC_USER_EMAIL_ADDR,\nQSU.SEC_USER_NM,\nQSG.GRP_DESCR,\nQSG.GRP_ID,\nQSGM.USER_ID,\nQSGM.APP_LAYER_CD\n`;
    sql += `FROM QARCH_SEC_GRP_MEMBER QSGM, QARCH_SEC_GRP QSG, QARCH_SEC_USER QSU\n`;
    sql += `WHERE QSGM.GRP_ID = QSG.GRP_ID\nAND QSGM.SEC_USER_ID = QSU.SEC_USER_ID\nAND QSGM.SEC_USER_ID IN (${secUserList});\n\n`;
    sql += `--User Action Audit:\n`;
    sql += `SELECT * FROM QARCH_SEC_USERACTION_AUDIT WHERE SEC_USER_ID IN (${secUserList}) ORDER BY ACTION_DT DESC;\n\n`;
    sql += `--This query will Unlock a user in DEV enfrionment (both Classic and Web):\n`;
    sql += `UPDATE QARCH_SEC_USER_PASSWORD\nSET LOCKED_IND = 0\nWHERE SEC_USER_ID IN (${secUserList});\n\n`;
  }
  document.getElementById("output3").value = sql;
}

// Scenario 4
function generateSQL4() {
  const acctgMth = document.getElementById("acctgMth4").value.trim();
  const userkey4 = document.getElementById("userkey4").value.trim();
  const idbeowner4 = document.getElementById("idbeowner4").value.trim();
  const batchName4 = document.getElementById("batchname4").value.trim();
  const dateFrom4 = document.getElementById("dateFrom4").value.trim();
  const dateTo4 = document.getElementById("dateTo4").value.trim();
  const userkeyList = userkey4 ? userkey4.split(',').map(x => `'${x.trim()}'`).join(', ') : null;
  let sql = "";
  if (acctgMth) {
    sql += `--Query the STRAN table to ensure that batches were created: \n`;
    sql += `SELECT * FROM STRAN_CORE_INTFC \nWHERE ACCTG_MTH = '${acctgMth}'\nAND TRANS_TYPE = 'GL'\nORDER BY UPDT_DT DESC;\n\n`;
  }
  if (userkeyList && idbeowner4) {
    sql += `--Query the Batch JE tables to retreive batch details: \n`;
    sql += `SELECT M.USERKEY, M. NAME,M.STATUSWORKFLOW,  M.DATEACCT ,* FROM BATCHJOURNALENTRYMASTER M\n`;
    sql += `JOIN BATCHJOURNALENTRYDETAIL D ON M.ID = D.IDBATJE\n`;
    sql += `JOIN BATCHJOURNALENTRYLINE L ON M.ID = L.IDBATJE\n`;
    sql += `WHERE M.USERKEY IN (${userkeyList})\nAND M.IDBEOWNER = ${idbeowner4}\nORDER BY M.DATEACCT DESC;\n\n`;
  }
  sql += `--Query the Batch JE tables to retreive batches uploaded to GL025 that are not POSTED or COULD NOT POST Status: \n`;
  sql += `select A.STATUSWORKFLOW,  A.USERKEY, A.NAME, *\n`;
  sql += `from BATCHJOURNALENTRYMASTER A\njoin BATCHJOURNALENTRYDETAIL B\non A.ID = B.IDBATJE\nwhere A.STATUSWORKFLOW not in (100, 140)\norder by A.ID desc;\n\n`;
  if (batchName4) {
    sql += `--Query the JE Batch tables to see the time between each batch created:\n`;
    sql += `select A.ID, A.NAME, A.USERKEY, A.STATUSWORKFLOW, A.IDBEOWNER, A.CREATED, count(*)\n`;
    sql += `from BATCHJOURNALENTRYMASTER A\njoin BATCHJOURNALENTRYDETAIL B on A.ID = B.IDBATJE\n`;
    sql += `join BATCHJOURNALENTRYLINE C on B.ID = C.IDBATJEDETAIL\nwhere A.NAME like '%${batchName4}%'\nand A.ID > 4\n`;
    sql += `group by A.ID, A.NAME, A.USERKEY, A.STATUSWORKFLOW, A.IDBEOWNER, A.CREATED\norder by A.ID desc;\n\n`;
  }
  if (userkeyList) {
    sql += `--Query the JE Batch tables to find QCFS invoices tied to a Batch ID:\n`;
    sql += `SELECT * FROM BATCHJOURNALENTRYMASTER M\nJOIN BATCHJOURNALENTRYDETAIL D ON M.ID = D.IDBATJE\n`;
    sql += `JOIN BATCHJOURNALENTRYLINE L ON M.ID = L.IDBATJE\nWHERE M.USERKEY IN(${userkeyList});\n\n`;
  }
  if (dateFrom4 && dateTo4) {
    sql += `--Query the JE Batch tables to find JEs for a Specific Accounting Date:\n`;
    sql += `SELECT * FROM BATCHJOURNALENTRYMASTER M\nJOIN BATCHJOURNALENTRYDETAIL D ON M.ID = D.IDBATJE\n`;
    sql += `JOIN BATCHJOURNALENTRYLINE L ON M.ID = L.IDBATJE\n`;
    sql += `WHERE M.DATEACCT BETWEEN '${dateFrom4}' AND '${dateTo4}'\nORDER BY REFNUM;\n\n`;
  }
  sql += `--Query the Batch Journal tables to view the count of columns of Batches that are in Post Pending Status: \n`;
  sql += `select A.USERKEY, A.NAME, count(*) \n`;
  sql += `FROM BATCHJOURNALENTRYMASTER A\njoin BATCHJOURNALENTRYDETAIL B on A.ID = B.IDBATJE\n`;
  sql += `join BATCHJOURNALENTRYLINE C on B.ID = C.IDBATJEDETAIL\njoin BATCHJECUSTOMCODEBLOCKUPSTREAM D on C.ID = D.IDBATJELINE\n`;
  sql += `join BUSINESSENTITY E on A.IDBEOWNER = E.ID\nwhere A.USERKEY in (SELECT USERKEY from UVW_WORKFLOWINBOX where STATUSWORKFLOW = 90)\n`;
  sql += `group by A.USERKEY, A.NAME;\n`;
  document.getElementById("output4").value = sql;
}

// Scenario 5
function generateSQL5() {
  const acctgMth = document.getElementById("acctgMth5").value.trim();
  const userkey5 = document.getElementById("userkey5").value.trim();
  const idbeowner5 = document.getElementById("idbeowner5").value.trim();
  const batchname5 = document.getElementById("batchname5").value.trim();
  const dateFrom5 = document.getElementById("dateFrom5").value.trim();
  const dateTo5 = document.getElementById("dateTo5").value.trim();
  const userkeyList = userkey5 ? userkey5.split(',').map(x => `'${x.trim()}'`).join(', ') : null;
  let sql = "";
  if (acctgMth) {
    sql += `--Query the STRAN table to ensure that batches were created: \n`;
    sql += `SELECT * FROM STRAN_CORE_INTFC \nWHERE ACCTG_MTH = '${acctgMth}'\nAND TRANS_TYPE = 'AP'\nORDER BY UPDT_DT DESC;\n\n`;
  }
  if (userkeyList && idbeowner5) {
    sql += `--Query the Invoice Batch tables to retrieve batch details: \n`;
    sql += `SELECT A.USERKEY, A.NAME, A.STATUSWORKFLOW, A.DATEACCT, * FROM BATCHINVOICEMASTER A\n`;
    sql += `JOIN BATCHINVOICEDETAIL B ON A.ID = B.IDBATINVMASTER\n`;
    sql += `JOIN BATCHINVOICELINEITEM C ON B.ID = C.IDBATINVDETAIL\n`;
    sql += `JOIN BATCHINVOICECUSTOMCODEBLOCKUPSTREAM D ON C.ID = D.IDBATINVLINEITEM\n`;
    sql += `JOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID\n`;
    sql += `WHERE A.USERKEY IN (${userkeyList})\nAND A.IDBEOWNER IN ('${idbeowner5}')\n;\n\n`;
  }
  sql += `--Query the AP Batch tables for batches uploaded to GL025 that are not POSTED or FAILED:\n`;
  sql += `SELECT A.STATUSWORKFLOW, A.USERKEY, A.NAME, * FROM BATCHINVOICEMASTER A\n`;
  sql += `JOIN BATCHINVOICEDETAIL B ON A.ID = B.IDBATINVMASTER\n`;
  sql += `WHERE A.STATUSWORKFLOW NOT IN (100, 140)\nORDER BY A.ID DESC;\n\n`;  
  if (batchname5) {
    sql += `--Query the JE Batch tables to see time between batch creation:\n`;
    sql += `SELECT A.ID, A.NAME, A.USERKEY, A.STATUSWORKFLOW, A.IDBEOWNER, A.CREATED, COUNT(*)\n`;
    sql += `FROM BATCHINVOICEMASTER A\nJOIN BATCHINVOICEDETAIL B ON A.ID = B.IDBATINVMASTER\n`;
    sql += `JOIN BATCHINVOICELINEITEM C ON B.ID = C.IDBATINVDETAIL\n`;
    sql += `WHERE A.NAME LIKE '%${batchname5}%' AND A.ID > 4\n`;
    sql += `GROUP BY A.ID, A.NAME, A.USERKEY, A.STATUSWORKFLOW, A.IDBEOWNER, A.CREATED\nORDER BY A.ID DESC;\n\n`;
  }
  if (userkeyList) {
    sql += `--Query the AP Batch tables to find QCFS invoices tied to a Batch ID:\n`;
    sql += `SELECT * FROM BATCHINVOICEMASTER M\nJOIN BATCHINVOICEDETAIL D ON M.ID = D.IDBATINVMASTER\n`;
    sql += `JOIN BATCHINVOICELINEITEM L ON M.ID = L.IDBATINVMASTER\nWHERE M.USERKEY IN (${userkeyList});\n\n`;
  }
  if (dateFrom5 && dateTo5) {
    sql += `--Query AP Batch tables for specific Accounting Date range:\n`;
    sql += `SELECT * FROM BATCHINVOICEMASTER A\nJOIN BATCHINVOICEDETAIL B ON A.ID = B.IDBATINVMASTER\n`;
    sql += `JOIN BATCHINVOICELINEITEM C ON B.ID = C.IDBATINVDETAIL\n`;
    sql += `WHERE A.DATEACCT BETWEEN '${dateFrom5}' AND '${dateTo5}'\nORDER BY REFNUM;\n\n`;
  }
  document.getElementById("output5").value = sql;
}

// Scenario 6
function generateSQL6() {
  const userkey6 = document.getElementById("userkey6").value.trim();
  let sql = `--Query the QARCH_CONFIG table to view the Global Config for BR005: \n`;
  sql += `SELECT * FROM QARCH_CNFG_CTRL WHERE KEY_NM LIKE 'BANK_RECON%';\n\n`;
  if (userkey6) {
    sql += `--Query the Batch table to view details for the recon batches created: \n`;
    sql += `SELECT USERKEY, * FROM BATCHBANKRECONMASTER\nWHERE USERKEY IN ('${userkey6}');\n\n`;
    sql += `--This query will return the right grid on BR005 (Bank Statement Transactions):\n`;
    sql += `SELECT A.USERKEY, * FROM BATCHBANKRECONMASTER A\nJOIN BATCHBANKRECONDETAIL B ON A.ID = B.ID\nJOIN BATCHBANKRECONLINEBANK C ON A.ID = C.IDBATCHBANKRECONMASTER\nWHERE A.USERKEY IN ('${userkey6}');\n\n`;
    sql += `--This query will return the left grid on BR005 (Accounting Transactions):\n`;
    sql += `SELECT A.USERKEY, A.CREATED, COUNT(C.IDBATCHBANKRECONMASTER)\nFROM BATCHBANKRECONMASTER A\nJOIN BATCHBANKRECONDETAIL B ON A.ID = B.ID\nJOIN BATCHBANKRECONLINEBANK C ON A.ID = C.IDBATCHBANKRECONMASTER\nWHERE A.USERKEY IN ('${userkey6}')\nGROUP BY A.USERKEY, A.CREATED\nORDER BY COUNT(C.IDBATCHBANKRECONMASTER) DESC;\n\n`;
  }
  document.getElementById("output6").value = sql;
}

// Scenario 7
function generateSQL7() {
  const userkey = document.getElementById("input7_userkey").value.trim();
  const idbat = document.getElementById("input7_idbatcheckrunmaster").value.trim();
  const checknum = document.getElementById("input7_checknum").value.trim();
  const payamt = document.getElementById("input7_payamt").value.trim();

  let sql = "";
  if (userkey) {
    sql += `--This query will retrieve details for a Check Run batch using the Batch ID:\n`;
    sql += `SELECT * FROM BATCHCHECKRUNMASTER WHERE USERKEY IN ('${userkey.split(',').map(v => v.trim()).join("','")}')\n`;
  }
  if (idbat && checknum) {
    sql += `--This query will retrieve details for a Check Run batch using the Check Number as a %like% value:\n`;
    sql += `SELECT CHECKNUM, PAYAMT, * FROM BATCHCHECKRUNDETAIL WHERE IDBATCHECKRUNMASTER = '${idbat}' AND CHECKNUM LIKE '%${checknum}%' ORDER BY LASTUPDATE DESC;\n`;
  }
  if (idbat && payamt) {
    sql += `--This query will retrieve details for a Check Run batch from the BATCHCHECKRUNPAYITEM table:\n`;
    sql += `SELECT * FROM BATCHCHECKRUNPAYITEM WHERE IDBATCHECKRUNMASTER = '${idbat}' AND PAYAMT = '${payamt}' ORDER BY PAYAMT DESC;\n`;
  }
  if (idbat && checknum) {
    sql += `--This query will retrieve details for a Check Run batch from the VW_BATCHCHECKRUNDETAIL_EXP view:\n`;
    sql += `SELECT * FROM VW_BATCHCHECKRUNDETAIL_EXP WHERE IDBATCHECKRUNMASTER = '${idbat}' AND CHECKNUM LIKE '%${checknum}%' ORDER BY CHECKNUM DESC;\n`;
  }
  if (userkey) {
    sql += `--Query for details about any manual checks:\n`;
    sql += `SELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW, * FROM BATCHMANUALCHKMASTER A JOIN BATCHMANUALCHKDETAIL B ON A.ID = B.IDBATMANUALCHKMASTER JOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID WHERE A.USERKEY IN ('${userkey.split(',').map(v => v.trim()).join("','")}')\n`;
  }
  document.getElementById("output7").value = sql;
}

// Scenario 8
function generateSQL8() {
  const journalIds = document.getElementById("input8_journal_id").value.split(",").map(s => s.trim()).filter(Boolean);
  const transTypes = document.getElementById("input8_trans_type").value.split(",").map(s => s.trim()).filter(Boolean);
  const acctgMths = document.getElementById("input8_acctg_mth").value.split(",").map(s => s.trim()).filter(Boolean);

  let output = "";

  journalIds.forEach(journalId => {
    transTypes.forEach(transType => {
      acctgMths.forEach(mth => {
        output += `--Query to retreive QCFS imports\n`;
        output += `SELECT * FROM STRAN_CORE_INTFC WHERE JOURNAL_ID = '${journalId}' AND TRANS_TYPE = '${transType}' AND ACCTG_MTH = '${mth}' ORDER BY UPDT_DT DESC;\n\n`;
      });
    });
  });

  document.getElementById("output8").value = output || "-- Please provide input values.";
}


// Scenario 9
function generateSQL9() {
  const process_id = document.getElementById("input9_process_id").value.trim();
  const impexp_id = document.getElementById("input9_impexp_id").value.trim();
  const ftp_id = document.getElementById("input9_ftp_id").value.trim();
  const ftp_host_id = document.getElementById("input9_ftp_host_id").value.trim();
  const event_type_cd = document.getElementById("input9_event_type_cd").value.trim();
  const metadata_profile = document.getElementById("input9_metadata_profile").value.trim();

  let sql = "";
  if (process_id) {
    sql += `--This will query the Maintenance App configuration for a Batch Process:\n`;
    sql += `SELECT * FROM QARCH_CTRL_PROCESS WHERE PROCESS_ID = '${process_id}';\n\n`;
  }
  if (impexp_id) {
    sql += `--This will query the Maintenance App configuration for an Import/Export Definition for a process, specifically the General tab:\n`;
    sql += `SELECT * FROM QARCH_CTRL_IMPEXP WHERE IMPEXP_ID = '${impexp_id}';\n`;
    sql += `--This will query the File Path values on the General tab:\n`;
    sql += `SELECT * FROM QARCH_CTRL_IMPEXP_ADDITIONAL WHERE IMPEXP_ID = '${impexp_id}';\n`;
    sql += `--This will query the File Definition tab:\n`;
    sql += `SELECT * FROM QARCH_CTRL_IMPEXP_FILE_DEF WHERE IMPEXP_ID = '${impexp_id}';\n\n`;
  }
  if (ftp_id) {
    sql += `--This will query the FTP Definitions with ID and Hosts:\n`;
    sql += `SELECT * FROM QARCH_CTRL_FTP WHERE FTP_ID = '${ftp_id}';\n`;
    sql += `--This will query the FTP Transfer Definition:\n`;
    sql += `SELECT * FROM QARCH_CTRL_FTP_TRANSFER_DEF WHERE FTP_ID = '${ftp_id}' ORDER BY SEQ_NO ASC;\n\n`;
  }
  if (ftp_host_id) {
    sql += `--This will query a FTP host:\n`;
    sql += `SELECT * FROM QARCH_CTRL_FTP_HOST WHERE FTP_HOST_ID = '${ftp_host_id}';\n\n`;
  }
  if (event_type_cd) {
    sql += `--This will query Event Notification Setup:\n`;
    sql += `SELECT ACTIVE_IND, * FROM QARCH_EVENT WHERE EVENT_TYPE_CD = '${event_type_cd}';\n\n`;
  }
  if (metadata_profile) {
    sql += `--This will query the current Module sequence:\n`;
    sql += `SELECT * FROM QARCH_META_MOD_DEFINE WHERE METADATA_PROFILE = '${metadata_profile}' ORDER BY PRIORITY DESC;\n\n`;
  }
  document.getElementById("output9").value = sql;
}


// Scenario 10: Batch Vouchers
function generateSQL10() {
  const getValues = (id) =>
    document.getElementById(id).value.trim().split(',').map(v => v.trim()).filter(v => v);

  const vouNums         = getValues('input10_vounum');
  const userkeys        = getValues('input10_userkey');
  const idbatinvmasters = getValues('input10_idbatinv');
  const assignedUserIds = getValues('input10_assigneduser');  // %like%
  const docContentTypes = getValues('input10_doctype');
  const docNms          = getValues('input10_docnm');         // %like%
  const wfstatuscds     = getValues('input10_wfstatus');
  const refnumdocs      = getValues('input10_refnumdoc');
  const docPropVals     = getValues('input10_docpropval');
  const docIds          = getValues('input10_docid');
  const refnums         = getValues('input10_refnum');
  const batchNames      = getValues('input10_batchname');     // %like% (Batch Invoices)
  const batchUserKeys   = getValues('input10_batchuserkey');
  const notesVals       = getValues('input10_notes');         // optional

  const joinValues = arr => arr.map(v => `'${v}'`).join(', ');
  let sql = '';

  // Query 1: VOUNUM
  if (vouNums.length) {
    sql += `--Query the BATCHINVOICEMASTER tables to view INVOICE details:\n`;
    sql += `SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,\n*\nFROM BATCHVOUCHERMASTER BM \nJOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER\nJOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL\nWHERE BD.VOUNUM IN (${joinValues(vouNums)});\n\n`;
  }

  // Query 2: Voucher details by VOUNUM
  if (vouNums.length) {
    sql += `--Query the BATCHVOUCHERDETAIL table to retreive Voucher Details: \n`;
    sql += `SELECT * FROM BATCHVOUCHERDETAIL\nWHERE VOUNUM in (${joinValues(vouNums)});\n\n`;
  }

  // Query 3: Batch details by USERKEY
  if (userkeys.length) {
    sql += `--Query the Batch Voucher tables to retreive Batch Details: \n`;
    sql += `select A.USERKEY, B.VOUNUM, A.STATUSWORKFLOW, B.APRVSTATUS, B.IDWFINSTANCE, A.CREATED, A.LASTUPDATE, A.DELETED, B.DELETED, C.DELETED, *\nfrom BATCHVOUCHERMASTER A\njoin BATCHVOUCHERDETAIL B\non A.ID = B.IDBATVOUMASTER\njoin BATCHVOUCHERGLDISTRIBUTION C\non B.ID = C.IDBATVOUDETAIL\nwhere A.USERKEY IN (${joinValues(userkeys)});\n\n`;
  }

  // Query 4: Invoice detail by IDBATINVMASTER
  if (idbatinvmasters.length) {
    sql += `--Identify the ID and use it as the IDbatinvmaster in the BATCHINVOICEDETAILS table\n`;
    sql += `SELECT * FROM BATCHINVOICEDETAIL WHERE IDBATINVMASTER IN (${joinValues(idbatinvmasters)});\n\n`;
  }

  // Query 5: Post Pending count (include only if USERKEY provided to keep "inputs drive output")
  if (userkeys.length) {
    sql += `--Query the Batch Voucher Master tables to get a count of columns of batches that were created and are in Post Pending Status: \n`;
    sql += `select A.USERKEY, A.NAME, count(*) \nFROM BATCHVOUCHERMASTER A\njoin BATCHVOUCHERDETAIL B\non A.ID = B.IDBATVOUMASTER\nwhere A.USERKEY in (SELECT USERKEY from UVW_WORKFLOWINBOX where STATUSWORKFLOW = 90)\ngroup by A.USERKEY, A.NAME;\n\n`;
  }

  // Query 6: Invoices pending approval by Assigned User (LIKE)
  if (assignedUserIds.length) {
    sql += `--Invoices pending for approval by specific user queried as a %like% value: \n`;
    sql += `select A.USERKEY, A.NAME, count(*) \nFROM BATCHVOUCHERMASTER A\njoin BATCHVOUCHERDETAIL B\non A.ID = B.IDBATVOUMASTER\nwhere A.USERKEY in (SELECT USERKEY from UVW_WORKFLOWINBOX where STATUSWORKFLOW = 90)\ngroup by A.USERKEY, A.NAME;\n`;
    sql += `SELECT VD.ID, VD.VOUNUM, VD.REFNUMDOC, VD.IDWFINSTANCE, WF.BOOKMARK_NM, VD.APRVSTATUS, VD.WFSTATUSCD\n\t, VD.INV_AMT\n\t, WF.STEP_SEQ_NO\n\t, WF.ASSIGNED_USER_ID\n\t, WF.ASSIGNED_DESK_NM\n\t, WF.INBOX_STATUS_CD\n\t, WF.INBOX_TYPE_CD\n\t, WF.QUEUE_DT\n\t, WF.INBOX_ACTION_CD\n\t, WF.ACTION_DT\n\t, WF.ACTION_USER_ID\n\t, WF.ACTION_COMMENT\n\t, WF.UPDT_DT\nfrom BATCHVOUCHERDETAIL VD\nINNER JOIN QARCH_WF_TRAN_INBOX_BASE WF\n\tON VD.IDWFINSTANCE = WF.WF_INSTANCE_ID\nwhere INBOX_ACTION_CD IS NULL\n\tAND (\n${assignedUserIds.map(v=>`\t\tASSIGNED_USER_ID LIKE '%${v}%'\n`).join('\t\tOR \n')}\t)\nORDER BY WF.ASSIGNED_USER_ID;\n\n`;
  }

  // Query 7: Count by Desk/User (LIKE)
  if (assignedUserIds.length) {
    sql += `--Query the number of invoices pending approval by assigned Desk and User ID: \n`;
    sql += `select WF.ASSIGNED_DESK_NM, WF.ASSIGNED_USER_ID, COUNT(*)\nfrom BATCHVOUCHERDETAIL VD\nINNER JOIN QARCH_WF_TRAN_INBOX_BASE WF\nON VD.IDWFINSTANCE = WF.WF_INSTANCE_ID\nwhere INBOX_ACTION_CD IS NULL\nAND (\n${assignedUserIds.map(v=>`\tASSIGNED_USER_ID LIKE '%${v}%'\n`).join('\tOR \n')})\nGROUP BY WF.ASSIGNED_DESK_NM, WF.ASSIGNED_USER_ID\nORDER BY WF.ASSIGNED_USER_ID;\n\n`;
  }

  // Query 8: Route by VOUNUM or USERKEY
  if (vouNums.length || userkeys.length) {
    const whereParts = [];
    if (vouNums.length) whereParts.push(`B.VOUNUM IN (${joinValues(vouNums)})`);
    if (userkeys.length) whereParts.push(`D.USERKEY IN (${joinValues(userkeys)})`);
    sql += `--Query the route of a voucher in web: \n`;
    sql += `select B.VOUNUM, C.SYSTEM_COMMENT, C.WF_INSTANCE_ID, C.ACTION_DT, C.ACTION_USER_ID,  C.*\nfrom QWF_TRAN_AUDIT_VOUCHER A\njoin BATCHVOUCHERDETAIL B\non A.IDBATVOUDETAIL = B.ID\njoin QARCH_WF_TRAN_ROUTE_AUDIT_BASE C\non A.ID_WF_AUDIT = C.ID_WF_AUDIT\njoin  BATCHVOUCHERMASTER as D\non D.ID = B.IDBATVOUMASTER\nwhere ${whereParts.join(' OR ')}\nORDER BY C.ACTION_DT DESC;\n\n`;
  }

  // Query 9: Attachments by DOC_CONTENT_TYPE or DOC_NM (LIKE)
  if (docContentTypes.length || docNms.length) {
    const whereParts = [];
    if (docContentTypes.length) whereParts.push(`A.DOC_CONTENT_TYPE_CD IN (${joinValues(docContentTypes)})`);
    if (docNms.length) whereParts.push(`A.DOC_NM LIKE '%${docNms.join("%' OR A.DOC_NM LIKE '%")}%'`);
    sql += `--Query the attachments being uploaded to invoices according to document content type: \n`;
    sql += `select B.DOC_PROP_VAL, A.*\nfrom SARCH_CTRL_DOC A\njoin SARCH_CTRL_DOC_PROPERTIES B\non A.DOC_ID = B.DOC_ID\nleft join BATCHVOUCHERDETAIL C\non B.DOC_PROP_VAL = CONVERT(varchar, C.ID)\nwhere ${whereParts.join(' OR ')}\n--and C.ID is null\n--order by B.DOC_PROP_VAL asc\nORDER BY UPDT_DT DESC;\n\n`;
  }

  // Query 10: Batches by WFSTATUSCD
  if (wfstatuscds.length) {
    sql += `--Query batches based on status: \n`;
    sql += `SELECT * FROM BATCHVOUCHERDETAIL WHERE WFSTATUSCD IN (${joinValues(wfstatuscds)});\n\n`;
  }

  // Query 11: Staging by REFNUMDOC
  if (refnumdocs.length) {
    sql += `--Query Batch Voucher detail to retreive where files are being staged: \n`;
    sql += `SELECT * FROM BATCHVOUCHERDETAIL\nWHERE REFNUMDOC IN (${joinValues(refnumdocs)});\n\n`;
  }

  // Query 12: Document Repository properties by DOC_PROP_VAL
  if (docPropVals.length) {
    sql += `--Query Document Repository table to retreive file details: \n`;
    sql += `SELECT * FROM SARCH_CTRL_DOC_PROPERTIES\nWHERE DOC_PROP_VAL IN (${joinValues(docPropVals)});\n\n`;
  }

  // Query 13: SARCH_CTRL_DOC by DOC_ID
  if (docIds.length) {
    sql += `SELECT * FROM SARCH_CTRL_DOC\nWHERE DOC_ID IN (${joinValues(docIds)})\nORDER BY UPDT_DT DESC;\n\n`;
  }

  // Query 14: QXREF_AP_DOC by REFNUMDOC
  if (refnumdocs.length) {
    sql += `SELECT * FROM QXREF_AP_DOC\nWHERE REFNUMDOC IN (${joinValues(refnumdocs)});\n\n`;
  }

  // Query 15: QXREF_AP_DOC by VOUNUM
  if (vouNums.length) {
    sql += `SELECT * FROM  QXREF_AP_DOC A\nWHERE VOUNUM IN (${joinValues(vouNums)});\n\n`;
  }

  // Query 16: Audit Workflow Log by REFNUM
  if (refnums.length) {
    sql += `--Query the Audit log to view steps that a batch is taking: \n`;
    sql += `select * from AUDITWORKFLOWLOG\nwhere REFNUM IN (${joinValues(refnums)});\n\n`;
  }

  // Query 17: POSTWKFL pick-up (post-pending) ‚Äî include when USERKEY provided
  if (userkeys.length) {
    sql += `--Query the batches that POSTWKFL will pick up (in Post Pending Status)\n`;
    sql += `select * from UVW_WORKFLOWINBOX\nwhere STATUSWORKFLOW = 90;\n\n`;
  }

  // Query 18: Ghost vouchers
  if (userkeys.length || vouNums.length) {
    sql += `--Query the Batch voucher tables to locate any deleted ("ghost") vouchers: \n`;
    sql += `SELECT BVM.USERKEY, BVM.STATUSWORKFLOW, BVM.INBOXSTATUS, BVM.DELETED, BVD.VOUNUM, BVD.REFNUMDOC, BVD.WFSTATUSCD, BVD.APRVSTATUS, QWTIB.INBOX_STATUS_CD, QWTIB.ID_WF_INBOX\nFROM QARCH_WF_TRAN_INBOX_BASE AS QWTIB\nJOIN QWF_TRAN_INBOX_VOUCHER AS QTIV\nON QWTIB.ID_WF_INBOX = QTIV.ID_WF_INBOX\nJOIN BATCHVOUCHERDETAIL AS BVD\nON BVD.ID = QTIV.IDBATVOUDETAIL\nJOIN BATCHVOUCHERMASTER AS BVM\nON BVD.IDBATVOUMASTER = BVM.ID\nWHERE BVM.DELETED = '1'\nAND WFSTATUSCD = 'Approved'\nAND BVD.DELETED = '0';\n\n`;
  }

  // Query 19: Verify ghost voucher by invoice number (uses REFNUMDOC)
  if (refnumdocs.length) {
    sql += `--Query the Batch voucher tables to verify whether there is a ghost voucher by querying the invoice number: \n`;
    refnumdocs.forEach(rn => {
      sql += `SELECT COUNT(*), A.REFNUMDOC FROM BATCHVOUCHERDETAIL A\nJOIN QWF_TRAN_INBOX_VOUCHER B\nON A.ID = B.IDBATVOUDETAIL\nJOIN QWF_TRAN_AUDIT_VOUCHER D\nON D.IDBATVOUDETAIL = A.ID\nJOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE E\nON E.ID_WF_AUDIT = D.ID_WF_AUDIT\nJOIN QARCH_WF_TRAN_INBOX_BASE C\nON B.ID_WF_INBOX = C.ID_WF_INBOX\nWHERE A.REFNUMDOC = '${rn}' AND\nE.INBOX_ACTION_CD = 'SUBMIT'\nAND A.WFSTATUSCD = 'Approved' AND EXISTS (SELECT 1 FROM QARCH_WF_TRAN_INBOX_BASE C WHERE C.INBOX_STATUS_CD = 'QUEUE' AND C.ID_WF_INBOX = B.ID_WF_INBOX)\nGROUP BY A.REFNUMDOC HAVING COUNT(*) > 1;\n\n`;
    });
  }

  // Query 20: Voucher audit history (by VOUNUM or USERKEY)
  if (vouNums.length || userkeys.length) {
    const where20 = [];
    if (vouNums.length) where20.push(`B.VOUNUM IN (${joinValues(vouNums)})`);
    if (userkeys.length) where20.push(`D.USERKEY IN (${joinValues(userkeys)})`);
    sql += `--Query the Batch Voucher tables to view the audit history for a voucher: \n`;
    sql += `select B.VOUNUM, C.SYSTEM_COMMENT, C.WF_INSTANCE_ID, C.ACTION_DT, C.ACTION_USER_ID,  C.*\nfrom QWF_TRAN_AUDIT_VOUCHER A\njoin BATCHVOUCHERDETAIL B\non A.IDBATVOUDETAIL = B.ID\njoin QARCH_WF_TRAN_ROUTE_AUDIT_BASE C\non A.ID_WF_AUDIT = C.ID_WF_AUDIT\njoin  BATCHVOUCHERMASTER as D\non D.ID = B.IDBATVOUMASTER\nwhere ${where20.join(' OR ')}\nORDER BY C.ACTION_DT DESC;\n\n`;
  }

  // Query 21: Batch Invoice Totals (Batch Name LIKE)
  if (batchNames.length) {
    batchNames.forEach(name => {
      sql += `----VERIFY BATCH  INVOICE TOTALS\n`;
      sql += `SELECT SUM(CONTROLTOTAL) CONTROLTOTAL\nFROM BATCHINVOICEMASTER I\nJOIN BUSINESSENTITY B\nON I.IDBEOWNER = B.ID\nWHERE I.NAME LIKE '%${name}%'\n--AND B.USERKEY = '4' --CAN USE THIS TO FILTER ON SPECIFIC COMPANIES\n;\n\n`;
    });
  }

  // Query 22: Detail totals/counts (Batch Name LIKE)
  if (batchNames.length) {
    batchNames.forEach(name => {
      sql += `----VERIFY DETAIL TOTALS/COUNTS for Batch Invoices\n`;
      sql += `SELECT SUM(D.TOTALSALESAMT), COUNT(*)\nFROM BATCHINVOICEMASTER I\nJOIN BUSINESSENTITY B\nON I.IDBEOWNER = B.ID\nJOIN BATCHINVOICEDETAIL D\nON I.ID = D.IDBATINVMASTER\nWHERE I.NAME LIKE '%${name}%'\n--AND B.USERKEY = '4' --CAN USE THIS TO FILTER ON SPECIFIC COMPANIES\n;\n\n`;
    });
  }

  // Query 23: Line totals/counts by ACCOUNT (Batch Name LIKE)
  if (batchNames.length) {
    batchNames.forEach(name => {
      sql += `----VERIFY LINE TOTALS/"COUNTS"\n`;
      sql += `SELECT A.KEYFULL, SUM(L.TOTALPRICE), COUNT(*)\nFROM BATCHINVOICEMASTER I\nJOIN BUSINESSENTITY B\nON I.IDBEOWNER = B.ID\nJOIN BATCHINVOICEDETAIL D\nON I.ID = D.IDBATINVMASTER\nJOIN BATCHINVOICELINEITEM L\nON I.ID = L.IDBATINVMASTER\nAND D.ID = L.IDBATINVDETAIL\nJOIN ACCOUNT A\nON L.IDACCOUNTSALES = A.ID\nWHERE I.NAME LIKE '%${name}%'\n--AND B.USERKEY = '2' --CAN USE THIS TO FILTER ON SPECIFIC COMPANIES\nGROUP BY A.KEYFULL;\n\n`;
    });
  }

  // Query 24: GL096 totals (BATCHUSERKEY; optional notes)
  if (batchUserKeys.length) {
    batchUserKeys.forEach(key => {
      sql += `--VERIFY GL096 TOTALS\n`;
      sql += `SELECT BATCHUSERKEY, KEYFULL, JECUSTOMCODEBLOCK__NOTES, SUM(AMOUNT), COUNT(*)\nFROM UVW_UPS_JETRANSACTIONINQUIRY\nWHERE BATCHUSERKEY IN ('${key}')\n`;
      if (notesVals.length) {
        sql += `--AND JECUSTOMCODEBLOCK__NOTES = '${notesVals[0]}'\n`;
      }
      sql += `GROUP BY BATCHUSERKEY, KEYFULL, JECUSTOMCODEBLOCK__NOTES;\n\n`;
    });
  }

  document.getElementById('output10').value = sql || "-- No inputs provided. Fill in at least one field.";
}


// Scenario 11
function generateSQL11() {
  const userkeyInput = document.getElementById('input11_userkey').value.trim();
  const userkeys = userkeyInput ? userkeyInput.split(',').map(k => `'${k.trim()}'`).join(', ') : '';

  let queries = [];

  if (userkeys) {
    queries.push(`--Query the Batch Deposit tables to view Deposit Batch details:\nSELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW, * \nFROM BATCHDEPOSITWITHMATCHMASTER A\nJOIN BATCHDWMCUSTOMERS B ON A.ID = B.IDBATDWMMASTER\nJOIN BATCHDWMRECEIPTS D ON B.ID = D.IDBATDWMCUSTOMER\nJOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID\nWHERE A.USERKEY IN (${userkeys});`);

    queries.push(`--Match the USERKEY to Deposit Journal batches:\nSELECT * FROM AUDITTRANSACTIONLOG \nWHERE BATCHUSERKEY IN (${userkeys});`);

    queries.push(`--Join to Deposit Journal to review the Deposits:\nSELECT * FROM DEPOSITJOURNAL \nWHERE DEPOSITNUMBER IN (\n  SELECT REFNUM \n  FROM AUDITTRANSACTIONLOG \n  WHERE BATCHUSERKEY IN (${userkeys})\n);`);

    queries.push(`--Link to Workflow Inbox to review the approval or rejection:\nSELECT * FROM UVW_WORKFLOWINBOX \nWHERE IDBATCHMASTER IN (\n  SELECT IDBATCHMASTER \n  FROM AUDITTRANSACTIONLOG \n  WHERE BATCHUSERKEY IN (${userkeys})\n);`);
  }

  // Query 2: no input required
  queries.unshift(`--Query the Batch Deposit tables to retrieve the total number of columns in Deposit Batches in Post Pending Status:\nSELECT A.USERKEY, A.NAME, count(*) \nFROM BATCHDEPOSITWITHMATCHMASTER A\nJOIN BATCHDWMCUSTOMERS B ON A.ID = B.IDBATDWMMASTER\nJOIN BATCHDWMINVOICES C ON B.ID = C.IDBATDWMCUSTOMER\nJOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID\nWHERE A.USERKEY IN (\n  SELECT USERKEY FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90\n)\nGROUP BY A.USERKEY, A.NAME;`);

  document.getElementById('output11').value = queries.join('\n\n');
}

function generateSQL12() {
  const startDt = document.getElementById("input12_start_dt").value.trim();
  const procQueueIdRaw = document.getElementById("input12_proc_queue_id").value.trim();
  const updtDt = document.getElementById("input12_updt_dt").value.trim();
  const processPeriod = document.getElementById("input12_process_period").value.trim();

  const listify = (csv) =>
    csv.split(",").map(s => s.trim()).filter(Boolean).map(s => `'${s.replace(/'/g, "''")}'`).join(", ");

  const parts = [];

  // Query 1 (requires START_DT)
  if (startDt) {
    parts.push(
`--Review the processes tied to the JB005 for an accounting month:
SELECT MASTER_PROCESS_QUEUE_ID, PROCESS_QUEUE_ID, PROCESS_ID, STATUS_CD, START_DT, END_DT,
       DATEDIFF(MINUTE, START_DT, END_DT) AS TIMEDIFF_IN_MIN, USER_ID, *
FROM QARCH_QUEU_PROCESS A
WHERE PROCESS_ID IN ('JBLDWCVOL','JBCALCCOMP','JBMISCOH','JBOPENBILL','JBPRODOH','JBVEHCALC',
                     'JBGLIMPORT','JBLOADCSL','JBPROPALLC','JBREBILL','JBOWNALLOC','JBRBINVMN',
                     'JBINVMNPRC','JBJOURNAL','JBLDJE2CAS','JBROLLDATE')
  AND START_DT >= '${startDt}'
ORDER BY QUEUE_DT DESC;`
    );
  }

  // Query 2 (requires PROCESS_QUEUE_ID)
  if (procQueueIdRaw) {
    const idList = listify(procQueueIdRaw);
    parts.push(
`--Review the JIB journal tables in QCA:
SELECT * FROM JBTRN_JIB_JOURNAL WHERE PROCESS_QUEUE_ID IN (${idList});
SELECT SUM(JOURNAL_AMOUNT) FROM JBTRN_JIB_JOURNAL WHERE PROCESS_QUEUE_ID IN (${idList});
SELECT * FROM JBSTG_CORE_INTFC_EXP WHERE PROCESS_QUEUE_ID IN (${idList});`
    );
  }

  // Query 3 (no input ‚Äî always include)
  parts.push(
`--JIB Batches pending to post from Batch Journal Entry
SELECT A.ID, A.USERKEY, A.NAME, COUNT(*)
FROM BATCHJOURNALENTRYMASTER A
JOIN BATCHJOURNALENTRYDETAIL B ON A.ID = B.IDBATJE
JOIN BATCHJOURNALENTRYLINE C ON B.ID = C.IDBATJEDETAIL
JOIN BATCHJECUSTOMCODEBLOCKUPSTREAM D ON C.ID = D.IDBATJELINE
JOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID
WHERE A.NAME LIKE 'JIB%'
GROUP BY A.USERKEY, A.NAME, A.ID
ORDER BY A.ID DESC;`
  );

  // Query 4 (no input ‚Äî always include)
  parts.push(
`--JIB Batches pending to post from Batch Invoice Master
SELECT A.ID, A.USERKEY, A.NAME, COUNT(*)
FROM BATCHINVOICEMASTER A
JOIN BATCHINVOICEDETAIL B ON A.ID = B.IDBATINVMASTER
JOIN BATCHINVOICELINEITEM C ON B.ID = C.IDBATINVDETAIL
JOIN BATCHINVOICECUSTOMCODEBLOCKUPSTREAM D ON C.ID = D.IDBATINVLINEITEM
JOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID
WHERE A.NAME LIKE 'JIB%'
GROUP BY A.USERKEY, A.NAME, A.ID
ORDER BY A.ID DESC;`
  );

  // Query 5 (requires UPDT_DT)
  if (updtDt) {
    parts.push(
`--Trace JIB Accounting Entries in the STRAN Tables. These entries will post after running QCFSIMPCYC and POSTWKFL:
SELECT *
FROM STRAN_CORE_INTFC A
JOIN SEXTN_CORE_INTFC_JIB B ON A.ID = B.IDCOREINTFC
WHERE JOURNAL_ID = 'QCFS'
  AND TRANS_TYPE = 'PP'
  AND UPDT_DT >= '${updtDt}';`
    );
  }

  // Query 7 (no input ‚Äî always include)
  parts.push(
`--Review the path and count data of the JIBLINK Export
SELECT EXPORTED_ROWS, UPDT_DT, *
FROM CEN_PRD16UPS_QFC..QARCH_TRAN_IMPEXP_STATUS A
WHERE IMPEXP_ID = 'JIBLINKEXP'
ORDER BY A.EXPORTED_ROWS DESC;`
  );

  // Query 8 & 9 (no input ‚Äî always include)
  parts.push(
`--Number of records for Owner Allocation (OA) and rebillings (REB) processed
SELECT SYSTEM_SOURCE, PROCESS_PERIOD, COUNT(*)
FROM JBTRN_INVOICE_DETAIL
GROUP BY SYSTEM_SOURCE, PROCESS_PERIOD
ORDER BY PROCESS_PERIOD DESC;

SELECT SYSTEM_SOURCE, PROCESS_PERIOD, COUNT(*)
FROM JBTRN_INVOICE_HEADER
GROUP BY SYSTEM_SOURCE, PROCESS_PERIOD
ORDER BY PROCESS_PERIOD DESC;`
  );

  // Queries 10‚Äì16 (require PROCESS_PERIOD)
  if (processPeriod) {
    [
      'JBTRN_CTF',
      'JBTRN_COST_SUBLEDGER',
      'JBTRN_JIB_JOURNAL',
      'JBADT_JIB_JOURNAL_HISTORY',
      // If you want to mirror 13 & 14 duplicates, you can add again,
      // but the single pass covers the same intent.
    ].forEach(tbl => {
      parts.push(
`--Review ${tbl} for CTF/JIB counts
SELECT COUNT(1)
FROM ${tbl}
WHERE PROCESS_PERIOD = '${processPeriod}';`
      );
    });
  }

  document.getElementById("output12").value = parts.join("\n\n");
}


// Scenario 13
// Scenario 13: General Batch, QCFS Export, QCFS Import, and Open Item Queries
function generateSQL13() {
  const list = id => document.getElementById(id).value.trim().split(',').map(s => s.trim()).filter(Boolean);
  const val  = id => document.getElementById(id).value.trim();

  const userkeys     = list('input13_userkey');        // Payment App Batches
  const idbeowner    = val('input13_idbeowner');
  const idcustomers  = list('input13_idcustomer');
  const ba_no        = val('input13_ba_no');
  const set_id       = val('input13_set_id');
  const openItemIds  = list('input13_open_item_id');

  const updt_dt      = val('input13_updt_dt');         // required in Query 6
  const bus_unit_cd  = val('input13_bus_unit_cd');     // required in Query 6
  const owner_ba_no  = val('input13_owner_ba_no');     // required in Query 6
  const openitem_prop_no = val('input13_openitem_prop_no'); // required in Query 6

  const orig_bus_unit_cd = val('input13_orig_bus_unit_cd');  // Query 7
  const owner_ba_no_jtrn = val('input13_owner_ba_no_jtrn');  // Query 7
  const prop_no      = val('input13_prop_no');               // Query 7 & 8
  const acctg_mth    = val('input13_acctg_mth');             // Query 7 (YYYY-MM-DD)

  const process_period = val('input13_process_period');      // Query 8 (YYYY-MM-DD)

  const join = arr => arr.map(x => `'${x}'`).join(', ');
  let sql = "";

  // Query 1
  if (userkeys.length) {
    sql += `--Query to retreive details for any Invoice Adjustments: \n`;
    sql += `SELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW,  *\nFROM BATCHPAYMENTAPPLICATIONMASTER A\njoin BATCHPAYMENTAPPLICATIONCUSTOMER  B\non A.ID = B.IDBATAPPLMASTER\njoin BATCHPAYMENTAPPLICATIONOPENITEM C\non B.ID = C.IDBATAPPLCUSTOMER\njoin BUSINESSENTITY E\non A.IDBEOWNER = E.ID\nwhere A.USERKEY IN (${join(userkeys)});\n\n`;
  }

  // Query 2
  if (idbeowner) {
    sql += `--Query Details for Customer Open Items(AR173): \n`;
    sql += `select * from CUSTOMEROPENITEM\n--WHERE  LOCKEDTOBATCH IN ('','')\nAND IDBEOWNER = '${idbeowner}';\n\n`;
  }

  // Query 3
  if (ba_no) {
    sql += `--Query the STRAN table to confirm that Open Item data has been exported to other modules: \n`;
    sql += `SELECT * FROM STRAN_CORE_INTFC\nWHERE TRANS_TYPE = 'OI' AND JOURNAL_ID = 'QCFS' AND OWNER_BA_NO = '${ba_no}'\nORDER BY UPDT_DT DESC;\n\n`;
  }

  // Query 4
  if (set_id) {
    sql += `--TRN_GL_MTD ->User runs QCFSEXPORT -> JTRN_GL_MTD_SUM -> SSTAG_CORE_INTFC -> STRAN_CORE_INTFC -> User runs QCFSIMPCYC -> Open items gets unlocked in AR173 (CUSTOMEROPENITEM table)\n`;
    sql += `--Query the SSTAG table to confirm the transaction amount that was exported from QRA: \n`;
    sql += `select SET_ID, OPENITEM_PROP_NO, TRANS_AMT, *\nfrom SSTAG_CORE_INTFC\nwhere SET_ID = '${set_id}'\n-- and OWNER_BA_NO = ''\n--and OPENITEM_PROP_NO = '';\n\n`;
  }

  // Query 5
  if (openItemIds.length) {
    sql += `--TRN_GL_MTD ->User runs QCFSEXPORT -> JTRN_GL_MTD_SUM -> SSTAG_CORE_INTFC -> STRAN_CORE_INTFC -> User runs QCFSIMPCYC -> Open items gets unlocked in AR173 (CUSTOMEROPENITEM table)\n`;
    sql += `--Query the Customer Open Item table to check the CURAMT that exists in AR173. Transaction Amount from QRA Export should match the CURAMT: \n`;
    sql += ` SELECT ID, LASTUPDATE, DELETED, ORIGAMT, CURAMT,*\n from CUSTOMEROPENITEM\n where ID in (${join(openItemIds)});\n\n`;
  }

  // Query 6 (all required)
  if (updt_dt && bus_unit_cd && owner_ba_no && openitem_prop_no) {
    sql += `TRN_GL_MTD ->User runs QCFSEXPORT -> JTRN_GL_MTD_SUM -> SSTAG_CORE_INTFC -> STRAN_CORE_INTFC -> User runs QCFSIMPCYC -> Open items gets unlocked in AR173 (CUSTOMEROPENITEM table)\n`;
    sql += `--Query to check if there are any duplicated lines during QCFSEXPORT: \n`;
    sql += `SELECT *\nFROM STRAN_CORE_INTFC\nWHERE TRANS_TYPE = 'OI'\nAND JOURNAL_ID = 'QCFS'\nand UPDT_DT > '${updt_dt}'\nAND BUS_UNIT_CD = '${bus_unit_cd}'\nand OWNER_BA_NO = '${owner_ba_no}'\nand OPENITEM_PROP_NO = '${openitem_prop_no}'\nORDER BY UPDT_DT DESC;\n\n`;
  }

  // Query 7 (four required)
  if (orig_bus_unit_cd && owner_ba_no_jtrn && prop_no && acctg_mth) {
    sql += `-- "JTRN_GL_MTD ->User runs QCFSEXPORT -> JTRN_GL_MTD_SUM -> SSTAG_CORE_INTFC -> STRAN_CORE_INTFC -> User runs QCFSIMPCYC -> Open items gets unlocked in AR173 (CUSTOMEROPENITEM table) : "\n\n`;
    sql += `SELECT * FROM JTRN_GL_MTD\n --TRANS_AMT = \nWHERE ORIG_BUS_UNIT_CD = '${orig_bus_unit_cd}'  \nAND OWNR_BA_NO = '${owner_ba_no_jtrn}'\nAND PROP_NO = '${prop_no}'\n--AND GL_MTD_NO in ('','')\nAND ACCTG_MTH = '${acctg_mth}';\n\n`;
  }

  // Query 8 (three required; PROCESS_PERIOD can be comma list? spec says IN and YYYY-MM-DD)
  if (process_period && ba_no && prop_no) {
    sql += `--Query the JBTRN_OWNER_ALLOC table to retrieve OI details:\nSELECT ORIG_OA_ID,\nOA_ID,\nPROCESS_PERIOD,\nAFE_NO,\nBILLING_OWNER_AMOUNT,\nIS_REVERSAL,\nSVC_DT,\nBILLING_PERIOD,\nORIG_BILLING_DECK,\nUPDT_DT\nFROM JBTRN_OWNER_ALLOC\nWHERE PROP_NO = '${prop_no}'\nAND PROCESS_PERIOD IN ('${process_period}')\nAND BA_NO = '${ba_no}'\n--AND DESCR = ''\n--AND BILLING_DECK = '';\n\n`;
  }

  // Query 9 (both required)
  if (idbeowner && idcustomers.length) {
    sql += `--Query Open Items table to view current Open Items for a specific customer: \n`;
    sql += ` SELECT ID, LASTUPDATE, DELETED, ORIGAMT, CURAMT,*\n FROM CUSTOMEROPENITEM\n WHERE IDBEOWNER =  '${idbeowner}' \n AND IDCUSTOMER in (${join(idcustomers)});\n\n`;
  }

  // Query 10 (no input; always include)
  sql += `--AFTER POSTWKFL IS COMPLETE\n--VERIFY AR173 TOTALS / DEPENDING ON CONFIGURATION THESE MAY BE BROKEN OUT BY CC AND NOT TIE TO THE TOTAL INVOICE DETAIL COUNT\nSELECT CREATED, SUM(ORIGAMT), COUNT(*)\nFROM\tCUSTOMEROPENITEM\nWHERE IDINVOICE IS NOT NULL\nGROUP BY CREATED\nORDER BY CREATED;\n`;

  document.getElementById("output13").value = sql;
}


// ‚Äî‚Äî Scenario 14: Business Associate (BA005 / BA Web)
function generateSQL14() {
  const baNos = document.getElementById("input14_bano").value.split(",").map(x => x.trim()).filter(Boolean);
  const bpNos = document.getElementById("input14_primarybpno").value.split(",").map(x => x.trim()).filter(Boolean);
  let sqlOutput = "";

  // Queries 1-2
  if (baNos.length) {
    sqlOutput += "--Review Business Entities in BA005/BA Web:\n";
    sqlOutput += `SELECT * FROM SCTRL_BA_ENTITY WHERE BA_NO IN (${baNos.map(no => `'${no}'`).join(", ")});\n\n`;

    sqlOutput += "--Review Business Associate Address Tab in BA005/BA Web:\n";
    sqlOutput += `SELECT * FROM SCTRL_BA_ADDRESS WHERE BA_NO IN (${baNos.map(no => `'${no}'`).join(", ")});\n\n`;
  }

  // Query 3
  if (bpNos.length) {
    sqlOutput += "--Review Business Associate Contacts Tab in BA005/BA Web:\n";
    sqlOutput += `SELECT * FROM SCTRL_CONTACT WHERE PRIMARY_BP_NO IN (${bpNos.map(no => `'${no}'`).join(", ")});\n\n`;
  }

  // Queries 4‚Äì14 (all use BA_NO)
  const baOnlyQueries = [
    { label: "Contacts Address Tab", table: "SCTRL_BA_CONTACT_ADDRESS" },
    { label: "Addresses Tab>Usages", table: "SCTRL_BA_USAGE" },
    { label: "Addresses Tab>Attributes", table: "SCTRL_BA_ADDRESS_ATTR" },
    { label: "Addresses Tab>Revenue", table: "SCTRL_BA_ADDRESS_RVNU" },
    { label: "QCFS/Core Financials tab", table: "SCTRL_BA_QCFS_EXT" },
    { label: "Tax IDs tab", table: "SCTRL_BA_TAX_ID" },
    { label: "Overrides > Vendor Payee", table: "SCTRL_BA_ADDRESS_VENDOR" },
    { label: "Overrides > Revenue Payee", table: "SCTRL_BA_ADDRESS_RVNU" },
    { label: "Overrides > 1099", table: "SCTRL_BA_ADDRESS_1099" },
    { label: "Bank Info Tab 1", table: "SCTRL_DEPOSITORY_OWNR_ACCT" },
    { label: "Bank Info Tab 2", table: "SXREF_DEPOSITORY" }
  ];

  if (baNos.length) {
    for (const q of baOnlyQueries) {
      sqlOutput += `--Review Business Associate ${q.label} in BA005/BA Web:\n`;
      sqlOutput += `SELECT * FROM ${q.table} WHERE BA_NO IN (${baNos.map(no => `'${no}'`).join(", ")});\n\n`;
    }
  }

  // Query 15 ‚Äî No input required
  sqlOutput += "--Open query for all Business Units:\n";
  sqlOutput += "SELECT * FROM SCTRL_BUS_UNIT;\n\n";

  // Query 16 ‚Äî No input required
  sqlOutput += "--Query to check for any Vendor BAs that have become unsynced from their Global BUs:\n";
  sqlOutput += `SELECT DISTINCT B.USERKEY FROM VENDOR A 
JOIN VENDOR B
ON A.IDGLOBAL = B.ID
AND A.USERKEY!=B.USERKEY;\n\n`;

  // Query 17 ‚Äî No input required
  sqlOutput += "--View Vendor Account coding\n--Vendor Account Coded\n";
  sqlOutput += `SELECT DISTINCT F.BUS_UNIT_CD, D.BA_NO, D.BA_NM1, D.BA_NM2, D.BA_NM3, E.KEYFULL, B.VOUNUM
FROM dbo.BATCHVOUCHERGLDISTRIBUTION A
LEFT JOIN dbo.BATCHVOUCHERDETAIL B ON A.IDBATVOUDETAIL = B.ID
LEFT JOIN VENDOR C ON B.IDVENDOR = C.ID
LEFT JOIN SCTRL_BA_ENTITY D ON C.USERKEY = D.BA_NO
LEFT JOIN ACCOUNT E ON A.IDACCOUNT = E.ID
LEFT JOIN BUSINESSENTITY F ON A.IDBEOWNER = F.ID;\n\n`;

  // Queries 18‚Äì19 ‚Äî BA_NO input
  if (baNos.length) {
    sqlOutput += "--Query the BA History (SHIST):\n";
    for (const no of baNos) {
      sqlOutput += `SELECT ENTY_TYPE_CD, USER_ID, UPDT_DT, CHANGE_TYPE_CD, * FROM SHIST_BA_ADDRESS WHERE BA_NO = '${no}';\n`;
    }
    sqlOutput += "\n";

    sqlOutput += "--Query the BA History (QHIST):\n";
    for (const no of baNos) {
      sqlOutput += `SELECT * FROM QHIST_BA_ADDRESS WHERE BA_NO = '${no}';\n`;
    }
    sqlOutput += "\n";
  }

  document.getElementById("output14").value = sqlOutput;
}

//Scenario 15
function generateSQL15() {
  const start = document.getElementById("input15_start").value.trim();
  const end = document.getElementById("input15_end").value.trim();
  let sql = "--Query details for ADP Import using an update date:\n";
  sql += "SELECT * FROM QARCH_TRAN_IMPEXP_STATUS\n";
  sql += "WHERE IMPEXP_ID = 'ADPQSTAGCOREIMP'";
  if (start && end) {
    sql += ` AND UPDT_DT BETWEEN '${start}' AND '${end}'`;
  } else {
    sql += " AND UPDT_DT BETWEEN '' AND ''";
  }
  sql += ";";
  document.getElementById("output15").value = sql;
}

function showQueries15() {
  generateSQL15();
}


// Scenario 16
function generateSQL16() {
  const keyfull = document.getElementById("input16_keyfull").value.trim();
  const idbeowner = document.getElementById("input16_idbeowner").value.trim();
  const ba_no = document.getElementById("input16_ba_no").value.trim();

  const keyfullList = keyfull ? keyfull.split(',').map(v => `'${v.trim()}'`).join(', ') : null;

  let sql = "";

  // Query 1
  sql += "--Query existing account details on GL095:\n";
  sql += `SELECT TOP 100 * 
FROM GENERALJOURNAL GJ 
JOIN BUSINESSENTITY BE ON GJ.IDBEOWNER = BE.ID
JOIN GENERALJOURNALLINE GJL ON GJ.ID = GJL.IDGENERALJOURNAL
JOIN ACCOUNT ACC ON ACC.ID = GJL.IDACCOUNT
WHERE GJ.IDBEOWNER IN ('103') AND ACC.KEYFULL `;
  sql += keyfullList ? `IN (${keyfullList});\n\n` : "= '';\n\n";

  // Query 2
  sql += "--Query additional account details from Account table:\n";
  sql += `SELECT B.* FROM ACCOUNT A
JOIN UPS_ACCOUNT B ON A.ID = B.ID
WHERE KEYFULL `;
  sql += keyfullList ? `IN (${keyfullList});\n\n` : "= '';\n\n";

  // Query 3
  sql += "--Query Chart of Accounts by Business Unit:\n";
  sql += `SELECT A.* FROM ACCOUNT A (NOLOCK)
JOIN UPS_ACCOUNT UA ON UA.IDACCOUNT = A.ID
WHERE A.IDBEOWNER `;
  sql += idbeowner ? `= '${idbeowner}';\n\n` : "= '';\n\n";

  // Query 4
  sql += "--Query changes to a Business Unit (BA_NO):\n";
  sql += `SELECT * FROM SHIST_BA_ENTITY WHERE BA_NO = `;
  sql += ba_no ? `'${ba_no}';\n\n` : "' ';\n\n";

  // Query 5
  sql += "--Query changes to an Account setup:\n";
  sql += `SELECT * FROM ACCOUNTHISTORY WHERE KEYFULL `;
  sql += keyfullList ? `IN (${keyfullList});\n\n` : "= '';\n\n";

  // Query 6 (Full multi-join GL095 detail query)
  sql += "--Query Details on GL095 by Account Number:\n";
  sql += `SELECT  GJ.ID,
        GJ.IDSRCBEOWNER,
        GJ.IDBEOWNER,
        BE.NAME AS 'BU_NAME',
        BE.USERKEY AS 'BU_USERKEY',
        GJ.IDJOURNALDEFINITION,
        GJ.REFNUM,
        GJ.[DESCRIPTION] AS 'DESCRIPTION',
        GJ.DATEACCT,
        GJ.NOTES,
        GJL.IDACCOUNT,
        GJL.DATEACTIVITY,
        GJL.QUANTITY,
        GJL.AMOUNT,
        GJL.FXAMOUNT,
        GJL.IDCURRENCY,
        GJL.NOTES AS 'GENERALJOURNALLINE__NOTES',
        ATL.BATCHUSERKEY,
        COALESCE(J.NAME, V.NAME, I.NAME, R.NAME, D.NAME, P.NAME, C.NAME) AS 'BATCH_NAME',
        ATL.IDAT_INSTANCE,
        ACC.KEYFULL,
        ACC.KEY1,
        ACC.KEY2,
        ACC.KEY3,
        ACC.KEY4,
        ACC.KEY5,
        ACC.[NAME],
        ACC.INTEGRITYDT,
        ATI.ID AS 'INSTANCE_ID',
        ATI.USERKEY AS ATI_USERKEY,
        JECCB.COSTCENTERCD,
        JECCB.AFE_NO,
        JECCB.PROP_NO,
        JECCB.ASSET_ID,
        JECCB.INVEN_ID,
        JECCB.SER_NO,
        JECCB.QUANTITY AS 'JECUSTOMCODEBLOCK__QUANTITY',
        JECCB.UOM_CD,
        JECCB.MAJ_PROD_CD,
        JECCB.LOC_CD,
        JECCB.COND_CD,
        JECCB.DO_TYPE,
        JECCB.TIER,
        JECCB.OWNER_NO,
        JECCB.OWNER_SUF,
        JECCB.SECTION_NO,
        JECCB.PURCHASER_NO,
        JECCB.PURCHASER_SUF,
        JECCB.CHK_NO,
        JECCB.CHK_DT,
        JECCB.SURPLUS,
        JECCB.DDA_OPTION,
        JECCB.AFE_OVERRIDE_CLOSED,
        JECCB.JIB_SUPPRESS,
        JECCB.MATERIAL_TRANSFER_NO,
        JECCB.COSTCENTERTYPECD,
        JECCB.NOTES AS 'JECUSTOMCODEBLOCK__NOTES',
        COALESCE(VEN.IDBUSINESSUNIT, CUST.IDBUSINESSUNIT) AS 'BA',
        COALESCE(COI.USERKEY, VOI.USERKEY) AS 'OPEN_ITEM_USERKEY',
        GLT.IDCUSTOMEROPENITEM,
        GLT.IDVENDOROPENITEM,
        GLT.IDCUSTOMEROPENITEMDIST,
        GLT.IDVENDOROPENITEMDIST,
        COALESCE(COID.USERKEY, VOID.USERKEY) AS 'OPEN_ITEM_DIST_USERKEY',
        GLT.IDINVOICE,
        IJ.INVOICENUM,
        IT.USERKEY AS 'INV_USERKEY',
        GLT.IDRECEIPT,
        RJ.RECEIPTNUM,
        RJ.CUSTCHECKNUM,
        CUST.IDBUSINESSUNIT AS 'CUST_NO',
        RJ.DATEPAYMENT,
        RT.USERKEY AS 'DEP_USERKEY',
        GLT.IDVOUCHER,
        VJ.REFNUMDOC,
        BE.BUS_UNIT_CD,
        VEN.IDBUSINESSUNIT,
        VOID.DATEDOC,
        VOID.RECEIPT_DT,
        JD.USERKEY AS 'JOURNALDEF',
        GJL.POST_JIB_IMAGE_ID,
        CTF.VOUCHER_ID AS SRC_VOUNUM,
        CTF.INVOICE_ID AS SRC_INVOICE_NO,
        CTF.ACCTG_DT AS SRC_DATEACCT,
        CTF.SRC_REMIT_DESC AS SRC_REMIT_DESCR,
        CTF.VENDOR_BA_NO AS SRC_VENDOR_NO,
        BA.BA_NM1 AS SRC_VENDOR_NM,
        JECCB.VENDOR_CTR_NO,
        JECCB.SALES_TAX_DUE,
        JECCB.VENDOR_NO,
        JECCB.VENDOR_SUF,
        CTF.SRC_OWNER_NO AS SRC_OWNER_NO,
        CTF.SRC_OWNER_SUB AS SRC_OWNER_SUB,
        CTF.SRC_CODE_BLOCK_COMMENTS AS SRC_CODE_BLOCK_COMMENTS,
        CTF.AFE_SUB_CODE AS SRC_ASSET_ID,
        VEN.USERKEY AS VENDOR_BA_NO,
        COALESCE(VJ.BA_SUF, CRJ.BA_SUF) AS VENDOR_BA_SUF,
        VJ.BA_SUF,
        BAEV.BA_NM1 AS VENDOR_BA_NM,
        GP.PROP_NM
FROM GENERALJOURNAL GJ
JOIN BUSINESSENTITY BE ON GJ.IDBEOWNER = BE.ID
JOIN GENERALJOURNALLINE GJL ON GJ.ID = GJL.IDGENERALJOURNAL
JOIN GENERALLEDGERTRANSACTION GLT ON GLT.IDGENERALJOURNALLINE = GJL.ID
JOIN AUDITTRANSACTIONLOG ATL ON ATL.ID = GJ.IDTRANSLOG
LEFT JOIN AT_INSTANCE ATI ON ATL.IDAT_INSTANCE = ATI.ID
JOIN ACCOUNT ACC ON ACC.ID = GJL.IDACCOUNT
LEFT JOIN JECUSTOMCODEBLOCKUPSTREAM JECCB ON JECCB.IDGENERALJOURNALLINE = GJL.ID
LEFT JOIN BATCHJOURNALENTRYMASTER J ON J.USERKEY = ATL.BATCHUSERKEY AND ATL.IDBEOWNER = J.IDBEOWNER
LEFT JOIN BATCHVOUCHERMASTER V ON V.USERKEY = ATL.BATCHUSERKEY AND ATL.IDBEOWNER = V.IDBEOWNER
LEFT JOIN BATCHINVOICEMASTER I ON I.USERKEY = ATL.BATCHUSERKEY AND ATL.IDBEOWNER = I.IDBEOWNER
LEFT JOIN BATCHBANKRECONCILIATIONMASTER R ON R.USERKEY = ATL.BATCHUSERKEY AND ATL.IDBEOWNER = R.IDBEOWNER
LEFT JOIN BATCHDEPOSITWITHMATCHMASTER D ON D.USERKEY = ATL.BATCHUSERKEY AND ATL.IDBEOWNER = D.IDBEOWNER
LEFT JOIN BATCHPAYMENTAPPLICATIONMASTER P ON P.USERKEY = ATL.BATCHUSERKEY AND ATL.IDBEOWNER = P.IDBEOWNER
LEFT JOIN BATCHCHECKRUNMASTER C ON C.USERKEY = ATL.BATCHUSERKEY AND ATL.IDBEOWNER = C.IDBEOWNER
LEFT JOIN VENDOR VEN ON GLT.IDVENDOR = VEN.ID
LEFT JOIN CUSTOMER CUST ON GLT.IDCUSTOMER = CUST.ID
LEFT JOIN CUSTOMEROPENITEM COI ON GLT.IDCUSTOMEROPENITEM = COI.ID
LEFT JOIN VENDOROPENITEM VOI ON GLT.IDVENDOROPENITEM = VOI.ID
LEFT JOIN CUSTOMEROPENITEM COID ON GLT.IDCUSTOMEROPENITEMDIST = COID.ID
LEFT JOIN VENDOROPENITEM VOID ON GLT.IDVENDOROPENITEMDIST = VOID.ID
LEFT JOIN INVOICEJOURNAL IJ ON IJ.ID = GLT.IDINVOICE
LEFT JOIN INVOICETYPE IT ON IJ.IDINVOICETYPE = IT.ID
LEFT JOIN RECEIPTSJOURNAL RJ ON RJ.ID = GLT.IDRECEIPT
LEFT JOIN RECEIPTTYPE RT ON RT.ID = RJ.IDRECEIPTTYPE
LEFT JOIN VOUCHERJOURNAL VJ ON VJ.ID = GLT.IDVOUCHER
LEFT JOIN CHECKRUNJOURNAL CRJ ON GLT.IDCHECKRUN = CRJ.ID
LEFT JOIN JOURNALDEFINITION JD ON JD.ID = GJ.IDJOURNALDEFINITION
LEFT JOIN BATCHJOURNALENTRYLINE BJL ON BJL.ID = GLT.IDBATCHJOURNALENTRYLINE AND BJL.IDBEOWNER = GJ.IDBEOWNER
LEFT JOIN BATCHINVOICELINEITEM BIL ON BIL.ID = GLT.IDBATCHINVOICELINEITEM AND BIL.IDBEOWNER = GJ.IDBEOWNER
LEFT JOIN BATCHVOUCHERGLDISTRIBUTION BVL ON BVL.ID = GLT.IDBATCHVOUCHERGLDISTRIBUTION AND BVL.IDBEOWNER = GJ.IDBEOWNER
LEFT JOIN JBTRN_CTF CTF ON COALESCE(COALESCE(BVL.SOURCE_CTF_ID, BIL.SOURCE_CTF_ID), BJL.SOURCE_CTF_ID) = CTF.CTF_LINE_ID
LEFT JOIN SCTRL_BA_ENTITY BA ON BA.BA_NO = CTF.VENDOR_BA_NO
LEFT OUTER JOIN SCTRL_BA_ENTITY BAEV ON BAEV.BA_NO = VEN.USERKEY
LEFT JOIN GONL_PROP GP ON JECCB.PROP_NO = GP.PROP_NO
WHERE KEYFULL `;
  sql += keyfullList ? `IN (${keyfullList});` : "= '';";
  
  document.getElementById("output16").value = sql;
}

function showQueries16() {
  generateSQL16();
}

function resetSQL16() {
  document.getElementById("input16_keyfull").value = "";
  document.getElementById("input16_idbeowner").value = "";
  document.getElementById("input16_ba_no").value = "";
  document.getElementById("output16").value = "";
}

function exportSQL16() {
  const content = document.getElementById("output16").value;
  if (!content) return;
  const blob = new Blob([content], { type: "text/plain;charset=utf-8" });
  const url = URL.createObjectURL(blob);
  const link = document.createElement("a");
  link.href = url;
  link.download = "scenario16.sql";
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}



// Scenario 17
function generateSQL17() {
  const transTypes = document.getElementById("input17_transtype").value.split(",").map(x => x.trim()).filter(Boolean);
  const journalIds = document.getElementById("input17_journalid").value.split(",").map(x => x.trim()).filter(Boolean);
  const idbeowners = document.getElementById("input17_idbeowner").value.split(",").map(x => x.trim()).filter(Boolean);
  const userkey1s = document.getElementById("input17_userkey1").value.split(",").map(x => x.trim()).filter(Boolean);
  const userkey2s = document.getElementById("input17_userkey2").value.split(",").map(x => x.trim()).filter(Boolean);

  let sqlOutput = "";

  // ‚úÖ Include static query if ANY input is provided
  const inputsExist = transTypes.length || journalIds.length || idbeowners.length || userkey1s.length || userkey2s.length;
  if (inputsExist) {
    sqlOutput += "--QSTAGXLSIMP - JOURNAL_ID & TRANS_ID will determine what type of file is being uploaded (AR, AP, GL)\n";
    sqlOutput += "--This query will retrieve the current MT100 Configuration:\n";
    sqlOutput += "SELECT * FROM JOURNAL_ID_IMPORT;\n\n";
  }

  // MT100 Tabs (Queries 2‚Äì7) ‚Äî only when BOTH transType and journalId are provided
  if (transTypes.length && journalIds.length) {
    const mtTables = [
      { label: "QCFS TAB", table: "SXREF_CORE_INTFC_QCFS_EXT" },
      { label: "AFE Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_AFE" },
      { label: "DDA Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_DDA" },
      { label: "JIB Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_JIB" },
      { label: "LOS Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_LOS" },
      { label: "LOS DD Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_LOSDD" }
    ];

    for (const { label, table } of mtTables) {
      sqlOutput += `--MT100 > ${label}\n`;
      for (const transType of transTypes) {
        for (const journalId of journalIds) {
          sqlOutput += `SELECT * FROM ${table} WHERE TRANS_TYPE = '${transType}' AND JOURNAL_ID = '${journalId}';\n`;
        }
      }
      sqlOutput += "\n";
    }
  }

  // SM021 / SM093 / AP100
  if (idbeowners.length && userkey1s.length) {
    const tables1 = [
      { label: "--SM021: Journal Definitions Maintenance", table: "JOURNALDEFINITION" },
      { label: "--SM093: Workflow Definition Maintenance", table: "WORKFLOWDEFINITION" },
      { label: "--AP100: Voucher Document Type", table: "VOUCHERDOCUMENTTYPE" }
    ];
    for (const { label, table } of tables1) {
      sqlOutput += `${label}\n`;
      for (const idbe of idbeowners) {
        for (const user of userkey1s) {
          sqlOutput += `SELECT * FROM ${table}\nWHERE IDBEOWNER = '${idbe}'\nAND USERKEY = '${user}';\n\n`;
        }
      }
    }
  }

  // AP047
  if (idbeowners.length && userkey2s.length) {
    sqlOutput += "--AP047: Voucher Payment Term Definition Maintenance\n";
    for (const idbe of idbeowners) {
      for (const user of userkey2s) {
        sqlOutput += `SELECT * FROM VENDORPAYMENTTERMSDEFINITION\nWHERE IDBEOWNER = '${idbe}'\nAND USERKEY = '${user}';\n\n`;
      }
    }
  }

  // Always include final static query
  sqlOutput += "--Imports that have been stamped with the XREF Config\nSELECT * FROM COREINTERFACECONFIGIMPORT;\n";

  document.getElementById("output17").value = sqlOutput;
}



//Scenario 18
function generateSQL18() {
  const buKey = document.getElementById('input18_bu_userkey').value.trim();
  const baKey = document.getElementById('input18_ba_userkey').value.trim();
  let output = "";

  if (!buKey) {
    showToast("Please enter the USERKEY (BU Number).");
    return;
  }

  const sql1 = `-- Match the BU to the Userkey in the DB to retrieve IDCUSTOMER used in other screens
SELECT USERKEY, ID AS CUSTOMER_ID, NAME, *
FROM BUSINESSENTITY
WHERE USERKEY = '${buKey}';`;

  output += sql1;

  if (baKey) {
    const sql2 = `\n\n-- Match the BA to the Userkey in the DB and use BU (as IDBEOWNER) to retrieve CUSTOMER.ID
SELECT ID
FROM CUSTOMER
WHERE USERKEY = '${baKey}'
  AND IDBEOWNER = (
    SELECT ID
    FROM BUSINESSENTITY
    WHERE USERKEY = '${buKey}'
  );`;
    output += sql2;
  }

  document.getElementById('output18').value = output;
}


function showAllQueries18() {
  document.getElementById("input18_userkey").value = "118";
  generateSQL18();
}


//Scenario 19
function generateScenario19() {
  const createdStart = document.getElementById("input19_createdStart").value.trim();
  const createdEnd = document.getElementById("input19_createdEnd").value.trim();
  const jeUserKey = document.getElementById("input19_jeUserKey").value.trim();
  const apUserKey = document.getElementById("input19_apUserKey").value.trim();
  const datetoPost = document.getElementById("input19_datetoPost").value.trim();
  const processQueueId = document.getElementById("input19_processQueueId").value.trim();
  const updateStart = document.getElementById("input19_updateStart").value.trim();
  const updateEnd = document.getElementById("input19_updateEnd").value.trim();

  let sql = "";

  // Query 1
  if (createdStart && createdEnd) {
    sql += `--Audit of batches posted during a POSTWKFLOW Run\n`;
    sql += `SELECT * FROM AUDITWORKFLOWLOG A\nWHERE A.CREATED BETWEEN '${createdStart}' AND '${createdEnd}' AND ORIGWORKFLOWSTATUS = 90\nORDER BY A.CREATED;\n\n`;
  }

  // Query 2
  if (jeUserKey) {
    sql += `--Investigate JE batch by USERKEY\n`;
    sql += `SELECT * FROM BATCHJOURNALENTRYMASTER A\nJOIN BATCHJOURNALENTRYDETAIL B ON A.ID = B.IDBATJE\n`;
    sql += `JOIN BATCHJOURNALENTRYLINE C ON B.ID = C.IDBATJEDETAIL\nWHERE A.USERKEY = '${jeUserKey}'\nORDER BY A.LASTUPDATE DESC;\n\n`;
  }

  // Query 3
  if (apUserKey) {
    sql += `--Investigate AP batch by USERKEY\n`;
    sql += `SELECT * FROM BATCHVOUCHERMASTER BM\nJOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER\n`;
    sql += `JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL\nWHERE BM.USERKEY = '${apUserKey}'\nORDER BY BM.LASTUPDATE DESC;\n\n`;
  }

  // Query 4
  sql += `--Total Number of Batches in Post Pending Status\n`;
  sql += `SELECT * FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90;\n\n`;

  // Query 5
  sql += `--Lines in each JE Batch Waiting to Post\n`;
  sql += `SELECT A.USERKEY, A.NAME, COUNT(*) AS Total_Lines_In_Batch\nFROM BATCHJOURNALENTRYMASTER A\nJOIN BATCHJOURNALENTRYDETAIL B ON A.ID = B.IDBATJE\n`;
  sql += `JOIN BATCHJOURNALENTRYLINE C ON B.ID = C.IDBATJEDETAIL\nJOIN BATCHJECUSTOMCODEBLOCKUPSTREAM D ON C.ID = D.IDBATJELINE\n`;
  sql += `JOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID\nWHERE A.USERKEY IN (SELECT USERKEY FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90)\nGROUP BY A.USERKEY, A.NAME;\n\n`;

  // Query 6
  sql += `--Lines in each Invoice Batch Waiting to Post\n`;
  sql += `SELECT A.USERKEY, A.NAME, COUNT(*) AS Total_Lines_In_Batch\nFROM BATCHINVOICEMASTER A\nJOIN BATCHINVOICEDETAIL B ON A.ID = B.IDBATINVMASTER\n`;
  sql += `JOIN BATCHINVOICELINEITEM C ON B.ID = C.IDBATINVDETAIL\nJOIN BATCHINVOICECUSTOMCODEBLOCKUPSTREAM D ON C.ID = D.IDBATINVLINEITEM\n`;
  sql += `JOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID\nWHERE A.USERKEY IN (SELECT USERKEY FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90)\nGROUP BY A.USERKEY, A.NAME;\n\n`;

  // Query 7
  if (datetoPost) {
    sql += `--Batches in Post Pending Status with Post Date <= DATETOPOST\n`;
    sql += `SELECT IBX.IDBATCHMASTER, IBX.ID, IBX.BATCHTYPE, IBX.CODEBLOCKGROUP\nFROM UVW_WORKFLOWINBOX IBX\nWHERE IBX.DATETOPOST <= '${datetoPost}' AND IBX.STATUSWORKFLOW IN (90);\n\n`;
  }

  // Query 8
  sql += `--POSTWFL Vouchers currently in Post Pending Status\n`;
  sql += `SELECT * FROM BATCHVOUCHERMASTER WHERE STATUSWORKFLOW = '90' ORDER BY LASTUPDATE DESC;\n\n`;

  // Query 9
  sql += `--POSTWFL JEs currently in Post Pending Status\n`;
  sql += `SELECT * FROM BATCHJOURNALENTRYMASTER WHERE STATUSWORKFLOW = '90' ORDER BY LASTUPDATE DESC;\n\n`;

  // Query 10
  sql += `--Last JEs in POSTED Status\n`;
  sql += `SELECT USERKEY, NAME, * FROM BATCHJOURNALENTRYMASTER WHERE STATUSWORKFLOW = '100' ORDER BY LASTUPDATE DESC;\n\n`;

  // Query 11
  sql += `--Last AP Vouchers in POSTED Status\n`;
  sql += `SELECT USERKEY, NAME, * FROM BATCHVOUCHERMASTER WHERE STATUSWORKFLOW = '100' ORDER BY LASTUPDATE DESC;\n\n`;

  // Query 12
  if (processQueueId) {
    sql += `--POSTWKFL - Investigation\n`;
    sql += `SELECT START_DT, PROCESS_QUEUE_ID, PROCESS_ID, STATUS_CD, USER_ID, PARENT_PROCESS_QUEUE_ID, MASTER_PROCESS_QUEUE_ID, *\n`;
    sql += `FROM QARCH_QUEU_PROCESS WHERE PROCESS_QUEUE_ID IN ('${processQueueId}') AND PROCESS_ID = 'POSTWKFL'\nORDER BY QUEUE_DT DESC;\n\n`;

    sql += `--POSTWKFL - Message Log\n`;
    sql += `SELECT LOG_MSG, LOG_DATE, PROCESS_QUEUE_ID, PROCESS_STEP_QUEUE_ID, LOG_MSG_TYPE_CD, *\n`;
    sql += `FROM QARCH_PROCESS_MSG_LOG WHERE PROCESS_QUEUE_ID IN ('${processQueueId}');\n\n`;
  }

  // Query 14
  if (createdStart && createdEnd) {
    sql += `--POSTWKFL - Audit Workflow Log\n`;
    sql += `SELECT * FROM AUDITWORKFLOWLOG A WHERE A.CREATED BETWEEN '${createdStart}' AND '${createdEnd}' AND ORIGWORKFLOWSTATUS = 90\nORDER BY A.CREATED;\n\n`;
  }

  // Query 15‚Äì17
  if (updateStart && updateEnd) {
    sql += `--WF History - BASE\n`;
    sql += `SELECT * FROM QARCH_HIST_WF_ROUTE_BASE WHERE UPDT_DT BETWEEN '${updateStart}' AND '${updateEnd}' ORDER BY UPDT_DT DESC;\n\n`;

    sql += `--WF History - SMPL\n`;
    sql += `SELECT * FROM QARCH_HIST_WF_ROUTE_SMPL WHERE UPDT_DT BETWEEN '${updateStart}' AND '${updateEnd}' ORDER BY UPDT_DT DESC;\n\n`;

    sql += `--WF History - SMPL STEP\n`;
    sql += `SELECT * FROM QARCH_HIST_WF_ROUTE_SMPL_STEP WHERE UPDT_DT BETWEEN '${updateStart}' AND '${updateEnd}' ORDER BY UPDT_DT DESC;\n\n`;
  }

  document.getElementById("output19").value = sql.trim();
}


function showAllQueries19() {
  document.getElementById("input19_createdStart").value = "2025-08-01";
  document.getElementById("input19_createdEnd").value = "2025-08-13";
  document.getElementById("input19_jeUserKey").value = "BJE0000123";
  document.getElementById("input19_apUserKey").value = "BV00000456";
  document.getElementById("input19_datetoPost").value = "2025-08-13";
  document.getElementById("input19_processQueueId").value = "8675309";
  document.getElementById("input19_updateStart").value = "2025-08-01";
  document.getElementById("input19_updateEnd").value = "2025-08-13";
  generateScenario19();
}


// Scenario 20: Archive & Purge
function generateSQL20() {
  const upd = document.getElementById('input20_updatedt').value.trim();

  let sql = '';

  // Query 1: always included (no input required)
  sql += `--Query the Process Tables to identify any jobs that are running an Archive step: \n`;
  sql += `select * from QARCH_QUEU_PROCESS A\n`;
  sql += `join QARCH_QUEU_PROCESS_STEP B\n`;
  sql += `on A.PROCESS_QUEUE_ID = B.PROCESS_QUEUE_ID\n`;
  sql += `join QARCH_CTRL_PROCESS_STEP  C\n`;
  sql += `on B.PROCESS_STEP_ID = C.PROCESS_STEP_ID\n`;
  sql += `and B.METADATA_LAYER_CD = C.APP_LAYER_CD\n`;
  sql += `where UPPER(C.CPP_DLL_CLASS_NM) like '%ARCHIVE%'\n`;
  sql += `order by A.PROCESS_QUEUE_ID desc;\n\n`;

  // Query 2: only when Update Date provided
  if (upd) {
    sql += `--Archive/purge is based on the min/max seq number (UPDT_DT older than 30 days): \n`;
    sql += `SELECT MIN(SEQ_NO), MAX(SEQ_NO) FROM JBSTG_OWNER_ALLOC\n`;
    sql += `WHERE UPDT_DT < '${upd}';\n`;
  }

  document.getElementById('output20').value = sql;
}

// Scenario 21: Processing Time Assessments (QCFSIMPCYC, POSTWKFL)
function generateSQL21() {
  const get = id => document.getElementById(id).value.trim();
  const start = get("input21_dateacct_start");
  const end = get("input21_dateacct_end");
  const ppStart = get("input21_process_period_start");
  const ppEnd = get("input21_process_period_end");
  const qcfsimpStart = get("input21_qcfsimp_startdt");
  const qcfsimpEnd = get("input21_qcfsimp_enddt");
  const postStart = get("input21_postwkfl_startdt");
  const postEnd = get("input21_postwkfl_enddt");

  let sql = "";

  // Query 1
  sql += "-- QUERIES FOR QCFSIMPCYC ELAPSED:\n";
  sql += `SELECT DATEACCT, MAX(BATCH_CREATED) QCFSIMPCYC_END_DT
FROM (
  SELECT DATEACCT, MAX(CREATED) BATCH_CREATED
  FROM BATCHJOURNALENTRYMASTER
  WHERE NAME LIKE 'JIB%' AND DATEACCT BETWEEN '${start}' AND '${end}'
  GROUP BY DATEACCT
  UNION ALL
  SELECT DATEACCT, MAX(CREATED) BATCH_CREATED
  FROM BATCHINVOICEMASTER
  WHERE NAME LIKE 'JIB%' AND DATEACCT BETWEEN '${start}' AND '${end}'
  GROUP BY DATEACCT
) A
GROUP BY A.DATEACCT
ORDER BY A.DATEACCT;\n\n`;

  // Query 2
  sql += "-- QUERIES FOR QCFSIMPCYC ELAPSED:\n";
  sql += `SELECT A.PROCESS_PERIOD, B.PROCESS_QUEUE_ID, B.PROCESS_ID, B.START_DT, B.END_DT QCFSIMPCYC_START_DT,
DATEDIFF(minute, B.START_DT, B.END_DT) DATEDIFFMINS
FROM CEN_DEV16UPS_QCA..JBTRN_PROCESS_ACTIVITY A
JOIN QARCH_QUEU_PROCESS B ON A.PROCESS_QUEUE_ID = B.PROCESS_QUEUE_ID
WHERE A.PROCESS_PERIOD BETWEEN '${ppStart}' AND '${ppEnd}'
  AND A.PROCESS_ID IN ('JBLDJE2CAS')
  AND A.ACTIVE = 1
ORDER BY A.PROCESS_PERIOD;\n\n`;

  // Query 3
  sql += "-- QUERIES FOR QCFSIMPCYC ELAPSED:\n";
  sql += `SELECT PROCESS_ID, PROCESS_QUEUE_ID, END_DT, DATEDIFF(minute, START_DT, END_DT) DATEDIFFMINS
FROM QARCH_QUEU_PROCESS
WHERE PROCESS_ID = 'QCFSIMPCYC'
  AND START_DT >= '${qcfsimpStart}'
  AND START_DT <= '${qcfsimpEnd}'
  AND STATUS_CD <> 'SXI'
ORDER BY START_DT;\n\n`;

  // Query 4
  sql += "-- QUERIES FOR POSTWKFL ELAPSED:\n";
  sql += `SELECT DATEACCT, MAX(BATCH_POSTED) POSTWKFL_END_DT
FROM (
  SELECT DATEACCT, MAX(LASTUPDATE) BATCH_POSTED
  FROM BATCHJOURNALENTRYMASTER
  WHERE NAME LIKE 'JIB%' AND DATEACCT BETWEEN '${start}' AND '${end}'
  GROUP BY DATEACCT
  UNION ALL
  SELECT DATEACCT, MAX(LASTUPDATE) BATCH_POSTED
  FROM BATCHINVOICEMASTER
  WHERE NAME LIKE 'JIB%' AND DATEACCT BETWEEN '${start}' AND '${end}'
  GROUP BY DATEACCT
) A
GROUP BY A.DATEACCT
ORDER BY A.DATEACCT;\n\n`;

  // Query 5
  sql += "-- QUERIES FOR POSTWKFL ELAPSED:\n";
  sql += `SELECT PROCESS_ID, PROCESS_QUEUE_ID, END_DT, DATEDIFF(minute, START_DT, END_DT) DATEDIFFMINS
FROM QARCH_QUEU_PROCESS
WHERE PROCESS_ID = 'POSTWKFL'
  AND START_DT >= '${postStart}'
  AND START_DT <= '${postEnd}'
  AND STATUS_CD NOT IN ('SXI', 'SXL')
ORDER BY START_DT;\n`;

  document.getElementById("output21").value = sql;
}


// Scenario 22: GL Accounts Configuration and Setup
function generateSQL22() {
  const acct = document.getElementById('input22_account_keyfull')?.value.trim();

  let sql = '';

  // Query 1 (auto)
  sql += `--JB500 Updates: \n`;
  sql += `--BILLING: \n`;
  sql += `SELECT DISTINCT 'PRM' BUSINESS_SEGMENT, '27' EVENT, '191' KEYWORD, 'C' ENTRY_TYPE, '*' COMPANY,\n`;
  sql += `UA.JIBGROUP JIB_GROUP_CODE, A.KEYFULL ACCOUNT, '' PICKLIST, '*' AFFILIATE_COMPANY, CONCAT(LEFT(A.KEYFULL, 1), '1', RIGHT(A.KEYFULL, 7)) OFFSET_ACCOUNT,\n`;
  sql += `'' PICKLIST, '' RESOURCE_CATEGORY, A.NAME DESCRIPTION\n`;
  sql += `FROM ACCOUNT A\n`;
  sql += `JOIN UPS_ACCOUNT UA\n`;
  sql += `ON A.ID = UA.IDACCOUNT\n`;
  sql += `LEFT JOIN JBONL_ACCOUNT_DEFAULT J\n`;
  sql += `ON A.KEYFULL = J.ACCOUNT\n`;
  sql += `AND J.KEYWORD_ID = '191'\n`;
  sql += `WHERE UA.JIBGROUP IS NOT NULL\n`;
  sql += `AND J.ACCOUNT IS NULL\n`;
  sql += `AND A.HEADERACCOUNT = 0\n`;
  sql += `AND UA.JIBGROUP <> 'PREPAY'\n`;
  sql += `ORDER BY A.KEYFULL\n`;
  sql += `--No Input is required. This query will auto generate.\n\n`;

  // Query 2 (auto)
  sql += `--OWNER: \n`;
  sql += `SELECT DISTINCT 'PRM' BUSINESS_SEGMENT, '31' EVENT, '200' KEYWORD, 'D' ENTRY_TYPE, '*' COMPANY,\n`;
  sql += `UA.JIBGROUP JIB_GROUP_CODE, A.KEYFULL ACCOUNT, '' PICKLIST, '*' AFFILIATE_COMPANY, CONCAT(LEFT(A.KEYFULL, 1), '2', RIGHT(A.KEYFULL, 7)) OFFSET_ACCOUNT,\n`;
  sql += `'' PICKLIST, '' RESOURCE_CATEGORY, A.NAME DESCRIPTION\n`;
  sql += `FROM ACCOUNT A\n`;
  sql += `JOIN UPS_ACCOUNT UA\n`;
  sql += `ON A.ID = UA.IDACCOUNT\n`;
  sql += `LEFT JOIN JBONL_ACCOUNT_DEFAULT J\n`;
  sql += `ON A.KEYFULL = J.ACCOUNT\n`;
  sql += `AND J.KEYWORD_ID = '200'\n`;
  sql += `WHERE UA.JIBGROUP IS NOT NULL\n`;
  sql += `AND J.ACCOUNT IS NULL\n`;
  sql += `AND A.HEADERACCOUNT = 0\n`;
  sql += `AND UA.JIBGROUP <> 'PREPAY'\n`;
  sql += `ORDER BY A.KEYFULL\n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 3 (auto)
  sql += `--Query JB500 JIB GROUP CODES TO MATCH GL013: \n`;
  sql += `--UPDATE J\n`;
  sql += `--SET J.JIB_GRP_CD = UA.JIBGROUP\n`;
  sql += `SELECT * \n`;
  sql += `FROM ACCOUNT A\n`;
  sql += `JOIN UPS_ACCOUNT UA\n`;
  sql += `ON A.ID = UA.IDACCOUNT\n`;
  sql += `JOIN JBONL_ACCOUNT_DEFAULT J\n`;
  sql += `ON A.KEYFULL = J.ACCOUNT\n`;
  sql += `WHERE A.IDBEOWNER = 11\n`;
  sql += `AND UA.JIBGROUP <> J.JIB_GRP_CD\n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 4 (auto)
  sql += `--Unique Internal Companies by JIB: \n`;
  sql += `SELECT  D.BA_NO, BU.BUS_UNIT_CD, COUNT(*)\n`;
  sql += `FROM DONL_DO_HDR H\n`;
  sql += `JOIN GONL_PROP P\n`;
  sql += `ON H.PROP_NO = P.PROP_NO\n`;
  sql += `JOIN DONL_DO_DETAIL D\n`;
  sql += `ON H.PROP_NO = D.PROP_NO\n`;
  sql += `AND H.DO_TYPE_CD = D.DO_TYPE_CD\n`;
  sql += `AND H.TIER = D.TIER\n`;
  sql += `JOIN SCTRL_BA_ENTITY BA\n`;
  sql += `ON D.BA_NO = BA.BA_NO\n`;
  sql += `LEFT JOIN SCTRL_BUS_UNIT_BA BU\n`;
  sql += `ON D.BA_NO = BU.BA_NO\n`;
  sql += `WHERE H.DO_TYPE_CD = 'JIB' AND BU.BA_NO IS NOT NULL AND H.JIB_ACTIVE_CD = 'Y' AND P.PROP_STAT_CD = 'A'\n`;
  sql += `--AND BA.BA_NM1 LIKE '%%' --AND BU.BA_NO IS NULL\n`;
  sql += `GROUP BY D.BA_NO, BU.BUS_UNIT_CD\n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 5 (auto)
  sql += `--THIS QUERY CHECKS FOR DISCREPANCIES BETWEEN CONVERTED GL BEGINNING BALANCES (GL095 - LOADED VIA QSTAGXLSIM) AND GL HISTORY (GL110 - GENERALJOURNALDETAIL_CONV)\n`;
  sql += `--DISCREPANCIES ARE COMPARED AT THE BUSINESS UNIT/ACCOUNTING DATE/ACCOUNT LEVEL\n\n`;
  sql += `SELECT *\n`;
  sql += `FROM \n`;
  sql += `(\n`;
  sql += `SELECT BUS_UNIT_CD, EOMONTH(DATEACCT) DATEACCT, ACCOUNT_KEYFULL, SUM(AMOUNT) AMOUNT1\n`;
  sql += `FROM GENERALJOURNALDETAIL_CONV\n`;
  sql += `--WHERE ACCOUNT_KEYFULL LIKE '%1150-100%' AND EOMONTH(DATEACCT) = '6/30/2019'\n`;
  sql += `GROUP BY BUS_UNIT_CD, EOMONTH(DATEACCT), ACCOUNT_KEYFULL\n`;
  sql += `) GL110\n`;
  sql += `FULL OUTER JOIN \n`;
  sql += `(\n`;
  sql += `SELECT BU_USERKEY, EOMONTH(DATEACCT) DATEACCT, KEYFULL, SUM(AMOUNT)  AMOUNT2\n`;
  sql += `FROM UVW_UPS_JETRANSACTIONINQUIRY\n`;
  sql += `WHERE JOURNALDEF = 'GLCONV'\n`;
  sql += `--WHERE KEYFULL LIKE '%1150-100%' AND EOMONTH(DATEACCT) = '6/30/2019'\n`;
  sql += `GROUP BY BU_USERKEY, EOMONTH(DATEACCT), KEYFULL\n`;
  sql += `) GL095\n`;
  sql += `ON GL110.BUS_UNIT_CD = GL095.BU_USERKEY\n`;
  sql += `AND GL110.DATEACCT = GL095.DATEACCT\n`;
  sql += `AND GL110.ACCOUNT_KEYFULL = GL095.KEYFULL\n`;
  sql += `WHERE AMOUNT1 <> AMOUNT2 OR (GL095.AMOUNT2 IS NULL AND GL110.AMOUNT1 <> 0) OR (GL110.AMOUNT1 IS NULL AND GL095.AMOUNT2 <> 0)\n`;
  sql += `ORDER BY GL110.DATEACCT, ACCOUNT_KEYFULL\n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 6 (only include if ACCOUNT_KEYFULL provided)
  if (acct) {
    sql += `--THIS VERSION OF THE QUERY JUST LOOKS FOR DISCREPANCIES AT THE BUSINESS UNIT/ACCOUNT LEVEL: \n`;
    sql += `SELECT *\n`;
    sql += `FROM \n`;
    sql += `(\n`;
    sql += `SELECT BUS_UNIT_CD, ACCOUNT_KEYFULL, SUM(AMOUNT) AMOUNT1\n`;
    sql += `FROM GENERALJOURNALDETAIL_CONV\n`;
    sql += `WHERE ACCOUNT_KEYFULL LIKE '%${acct}%' \n`;
    sql += `--AND EOMONTH(DATEACCT) = ''\n`;
    sql += `GROUP BY BUS_UNIT_CD, ACCOUNT_KEYFULL\n`;
    sql += `) GL110\n`;
    sql += `LEFT JOIN \n`;
    sql += `(\n`;
    sql += `SELECT BU_USERKEY, KEYFULL, SUM(AMOUNT)  AMOUNT2\n`;
    sql += `FROM UVW_UPS_JETRANSACTIONINQUIRY\n`;
    sql += `WHERE JOURNALDEF = 'GLCONV'\n`;
    sql += `WHERE KEYFULL LIKE '%1150-100%' AND EOMONTH(DATEACCT) = '6/30/2019'\n`;
    sql += `GROUP BY BU_USERKEY, KEYFULL\n`;
    sql += `) GL095\n`;
    sql += `ON GL110.BUS_UNIT_CD = GL095.BU_USERKEY\n`;
    sql += `AND GL110.DATEACCT = GL095.DATEACCT\n`;
    sql += `AND GL110.ACCOUNT_KEYFULL = GL095.KEYFULL\n`;
    sql += `WHERE AMOUNT1 <> AMOUNT2 OR (GL095.AMOUNT2 IS NULL AND GL110.AMOUNT1 <> 0)\n`;
    sql += `ORDER BY ACCOUNT_KEYFULL\n`;
    sql += `InpuT is ACCOUNT_KEYFULL (xxxx-xxxx format)\n\n`;
  }

  // Query 7 (auto)
  sql += `--VERIFY ALL GL OFFSET ACCOUNTS AGREE TO OFFSETTING COMPANIES, I.E. 1200-0975 FOR OFFSETTING COMPANY 975: \n`;
  sql += `SELECT BE1.USERKEY, BE2.USERKEY, A.KEYFULL, IC.*\n`;
  sql += `FROM INTERCOMPANYCONFIG IC\n`;
  sql += `JOIN ACCOUNT A\n`;
  sql += `ON IC.IDACCOUNTOFFSET = A.ID\n`;
  sql += `JOIN BUSINESSENTITY BE1\n`;
  sql += `ON IC.IDBEOWNER = BE1.ID\n`;
  sql += `JOIN BUSINESSENTITY BE2\n`;
  sql += `ON IC.IDBEOWNERPOSTTO = BE2.ID\n`;
  sql += `WHERE RIGHT(A.KEYFULL, 3) <> BE2.USERKEY\n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 8 (auto)
  sql += `--VALIDATES THE GL ACCOUNTS ARE UNIQUE BY BUSINESS UNITS\n`;
  sql += `SELECT BU.USERKEY AS 'BUSINESS UNIT', A.KEYFULL AS 'ACCOUNT' FROM BANKACCOUNT B\n`;
  sql += `INNER JOIN BUSINESSENTITY BU\n`;
  sql += `ON BU.ID = B.IDBEOWNER\n`;
  sql += `INNER JOIN ACCOUNT A\n`;
  sql += `ON A.ID = B.IDACCOUNT\n`;
  sql += `AND A.IDBEOWNER = B.IDBEOWNER\n`;
  sql += `WHERE A.ID IS NULL\n`;
  sql += `OR BU.ID IS NULL\n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 9 (auto)
  sql += `--CHECKS FOR VALID BUSINESS UNITS\n`;
  sql += `SELECT * FROM BANKACCOUNT B\n`;
  sql += `INNER JOIN BUSINESSENTITY BU\n`;
  sql += `ON BU.ID = B.IDBEOWNER\n`;
  sql += `WHERE BU.ID IS NULL \n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 10 (auto; two parts preserved)
  sql += `--AFE Account Configuration: \n`;
  sql += `--1.\t For all AFEs at an AFE level\n`;
  sql += `--a.\tInclude AFE #, AFE Name,  Working Interest,  Total Budget Amount, Gross  ITD Actuals, Net ITD Actuals\n\n`;
  sql += `SELECT H.AFE_NO, H.AFE_DESCR, A.AFE_DOI_DEC, (ISNULL(B.GRS_DRL_AMT, 0)+ISNULL(B.GRS_CMP_AMT, 0)+ ISNULL(B.GRS_SUP_AMT, 0)+ISNULL(B.GRS_EQUIP_TIE_AMT, 0)) TOTAL_BUDGET_AMT, SL.GRS_ITD_ACTUALS, SL.NET_ITD_ACTUALS\n`;
  sql += `FROM QCTRL_AFE_HDR H\n`;
  sql += `JOIN\n`;
  sql += `(\n`;
  sql += `SELECT H.AFE_NO, AVG(C.DOI_DEC) AFE_DOI_DEC\n`;
  sql += `FROM QCTRL_AFE_HDR H\n`;
  sql += `JOIN QCTRL_AFE_COST_CNTR C\n`;
  sql += `ON H.AFE_NO = C.AFE_NO\n`;
  sql += `AND H.BUS_UNIT_CD = C.BUS_UNIT_CD\n`;
  sql += `GROUP BY H.AFE_NO\n`;
  sql += `) A\n`;
  sql += `ON H.AFE_NO = A.AFE_NO\n`;
  sql += `JOIN \n`;
  sql += `(\n`;
  sql += `SELECT AFE_NO, SUM(GRS_DRL_AMT) GRS_DRL_AMT, SUM(GRS_CMP_AMT) GRS_CMP_AMT, SUM(GRS_SUP_AMT) GRS_SUP_AMT, SUM(GRS_EQUIP_TIE_AMT) GRS_EQUIP_TIE_AMT\n`;
  sql += `FROM QCTRL_AFE_DETAIL\n`;
  sql += `GROUP BY AFE_NO\n`;
  sql += `) B\n`;
  sql += `ON H.AFE_NO = B.AFE_NO\n`;
  sql += `JOIN\n`;
  sql += `(\n`;
  sql += `SELECT AFE_NO, SUM(GRS_AMT) GRS_ITD_ACTUALS, SUM(NET_AMT) NET_ITD_ACTUALS\n`;
  sql += `FROM QTRAN_AFE_SL\n`;
  sql += `GROUP BY AFE_NO\n`;
  sql += `) SL\n`;
  sql += `ON H.AFE_NO = SL.AFE_NO\n`;
  sql += `ORDER BY H.AFE_NO, H.AFE_DESCR\n\n`;

  sql += `--2.\tFor all AFEs summed to the Account level within the AFE\n`;
  sql += `--a.\tInclude AFE #, AFE Name, Account, Total Gross booked to Account\n\n`;
  sql += `SELECT H.AFE_NO, H.AFE_DESCR, SL.LINE_CTGY_CD, L.LINE_CTGY_DESCR, SL.ACCT_NO, A.NAME ACCT_NAME, SL.GRS_ITD_ACTUALS\n`;
  sql += `FROM QCTRL_AFE_HDR H\n`;
  sql += `JOIN\n`;
  sql += `(\n`;
  sql += `SELECT AFE_NO, ACCT_NO, LINE_CTGY_CD, SUM(GRS_AMT) GRS_ITD_ACTUALS\n`;
  sql += `FROM QTRAN_AFE_SL\n`;
  sql += `GROUP BY AFE_NO, ACCT_NO, LINE_CTGY_CD\n`;
  sql += `) SL\n`;
  sql += `ON H.AFE_NO = SL.AFE_NO\n`;
  sql += `JOIN QCODE_AFE_LINE_CTGY L\n`;
  sql += `ON SL.LINE_CTGY_CD=L.LINE_CTGY_CD\n`;
  sql += `JOIN BUSINESSENTITY BE\n`;
  sql += `ON H.BUS_UNIT_CD = BE.USERKEY\n`;
  sql += `JOIN ACCOUNT A\n`;
  sql += `ON BE.ID = A.IDBEOWNER \n`;
  sql += `AND SL.ACCT_NO = A.KEYFULL\n`;
  sql += `ORDER BY H.AFE_NO, H.AFE_DESCR, SL.LINE_CTGY_CD, L.LINE_CTGY_DESCR, SL.ACCT_NO, A.NAME\n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 11 (auto)
  sql += `--EXECUTE THIS QUERY TO IDENTIFY THE DISTINCT RELATIONSHIP OF OPERATING COMPANIES AND AFFILIATE/INTERNAL COMPANIES, BASED OFF OF JIB DOI SET-UP\n`;
  sql += `--THIS ONLY CHECKS FOR OPERATED PROPERTIES\n`;
  sql += `--ALL DISTINCT COMPANY/AFFILIATE RELATIONSHIPS RETURNED BY THIS QUERY SHOULD BE CONFIGURED ON THE INTERCO EVENT IN JB500\n`;
  sql += `SELECT DISTINCT P.BA_NO, BA.BUS_UNIT_CD\n`;
  sql += `FROM GONL_PROP PR\n`;
  sql += `JOIN GONL_PROP_EFF_DT P\n`;
  sql += `ON PR.PROP_NO = P.PROP_NO\n`;
  sql += `JOIN DONL_DO_HDR H\n`;
  sql += `ON P.PROP_NO = H.PROP_NO\n`;
  sql += `JOIN DONL_DO_DETAIL D\n`;
  sql += `ON H.PROP_NO = D.PROP_NO\n`;
  sql += `AND H.DO_TYPE_CD = D.DO_TYPE_CD\n`;
  sql += `AND H.TIER = D.TIER\n`;
  sql += `JOIN SCTRL_BUS_UNIT_BA BA\n`;
  sql += `ON D.BA_NO = BA.BA_NO\n`;
  sql += `WHERE H.DO_TYPE_CD = 'JIB'\n`;
  sql += `AND PR.PROP_OPER_FL = 'Y'\n`;
  sql += `AND PR.PROP_STAT_CD = 'A'\n`;
  sql += `AND P.BA_NO <> D.BA_NO\n`;
  sql += `No Input is required. This query will auto generate.\n\n`;

  // Query 12 (auto)
  sql += `--Unique Internal Companies by JIB DOI: \n`;
  sql += `SELECT  D.BA_NO, BU.BUS_UNIT_CD, COUNT(*)\n`;
  sql += `FROM DONL_DO_HDR H\n`;
  sql += `JOIN GONL_PROP P\n`;
  sql += `ON H.PROP_NO = P.PROP_NO\n`;
  sql += `JOIN DONL_DO_DETAIL D\n`;
  sql += `ON H.PROP_NO = D.PROP_NO\n`;
  sql += `AND H.DO_TYPE_CD = D.DO_TYPE_CD\n`;
  sql += `AND H.TIER = D.TIER\n`;
  sql += `JOIN SCTRL_BA_ENTITY BA\n`;
  sql += `ON D.BA_NO = BA.BA_NO\n`;
  sql += `LEFT JOIN SCTRL_BUS_UNIT_BA BU\n`;
  sql += `ON D.BA_NO = BU.BA_NO\n`;
  sql += `WHERE H.DO_TYPE_CD = 'JIB' AND BU.BA_NO IS NOT NULL AND H.JIB_ACTIVE_CD = 'Y' AND P.PROP_STAT_CD = 'A'\n`;
  sql += `--AND BA.BA_NM1 LIKE '%PRIME%' --AND BU.BA_NO IS NULL\n`;
  sql += `GROUP BY D.BA_NO, BU.BUS_UNIT_CD\n`;
  sql += `No Input is required. This query will auto generate.\n`;

  document.getElementById('output22').value = sql;
}

//Scenario 23
function generateSQL23() {
  var lockType = document.getElementById("input23_locktypecd").value.trim();
  var sql = "";

  sql += "--Query the Lock Type Code Setup (Each process requies a lock type that it needs to acquire. If there are concurrent or overlapping processes, both of them cannot acquire the lock simultaneously):\n";
  sql += "select * from QARCH_LOCK_MASTER_PROCESS where LOCK_TYPE_CD = '" + lockType + "';\n\n";

  sql += "--Query the LOCK table to query for any active locks:\n";
  sql += "SELECT * FROM QARCH_LOCK;\n\n";

  sql += "--Query the LOCK audit table for Lock History:\n";
  sql += "select * from QARCH_HIST_LOCK;\n";

  document.getElementById("output23").value = sql;
}



//Scenario 1 (Group 2)
function generateSQL201() {
  let output = `--Query to find the max sequence number in all related DONL tables: 
SELECT Max(TRANS_GRP_SEQ_NO)
FROM (
	SELECT Max(TRANS_GRP_SEQ_NO) AS TRANS_GRP_SEQ_NO FROM DONL_INT_FUNDS_XFER_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_INT_FUNDS_XFER_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_OWNR_EXCPT_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_OWNR_EXCPT_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_PAY_CD_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_PAY_CD_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_DO_HIST
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DO_HIST
) A;

--Query to find TRANS_GRP_SEQ_NO setup:
SELECT * 
FROM QARCH_TRAN_SEQ 
WHERE SEQ_NM = 'TRANS_GRP_SEQ_NO';`;

  document.getElementById("output201").value = output;
}


//Scenario 2 (Group 2)
function generateSQL202() {
  const grpno = document.getElementById("input202_grpno").value.trim();
  if (!grpno) {
    alert("Please enter a GRP_NO.");
    return;
  }

  let output = `--Query to find Funds transfer information based on a Group Number: 
SELECT H.*, DTL.*
FROM DONL_INT_FUNDS_XFER_HDR H
JOIN DONL_INT_FUNDS_XFER_DTL DTL ON H.TRANS_SEQ_NO = DTL.TRANS_SEQ_NO
WHERE H.GRP_NO = '${grpno}';`;

  document.getElementById("output202").value = output;
}


//Scenario 3 (Group 2)
function generateSQL203() {
  let output = `--Query to confirm Status Code description:
SELECT * 
FROM GCDE_GRP_STAT;

--Query to review Maintenance Group information:
SELECT GRP_STAT_CD, * 
FROM DONL_DVD_GRP 
ORDER BY UPDT_DT DESC;`;

  document.getElementById("output203").value = output;
}



</script>
<script>
// Add data-keywords attribute to each scenario with visible text and SQL keywords
document.addEventListener("DOMContentLoaded", () => {
  const scenarios = document.querySelectorAll(".tab-content");
  scenarios.forEach((scenario, index) => {
    const output = scenario.querySelector("textarea");
    const labelTexts = Array.from(scenario.querySelectorAll("label")).map(label => label.textContent).join(" ");
    const placeholderText = output ? output.placeholder || "" : "";
    const text = scenario.textContent + " " + labelTexts + " " + placeholderText;
    scenario.setAttribute("data-keywords", text.toLowerCase());
  });
});

function filterScenarios() {
  const query = document.getElementById("searchInput").value.toLowerCase();
  const scenarios = document.querySelectorAll(".tab-content");
  const buttons = document.querySelectorAll(".accordion-btn");

  scenarios.forEach((scenario, i) => {
    const keywords = scenario.getAttribute("data-keywords") || "";
    if (keywords.includes(query)) {
      scenario.classList.add("active");
      buttons[i].classList.add("active");
    } else {
      scenario.classList.remove("active");
      buttons[i].classList.remove("active");
    }
  });
}

function clearSearch() {
  document.getElementById("searchInput").value = "";
  collapseAll();
}



function toggleQueries(id) {
  const content = document.getElementById(id);
  content.classList.toggle('show');
}


</script>
<script>

  // Collapse all scenarios
  collapseAll();
}



</script>
<script>


`;
    sql += "--Voucher details:
";
    sql += `SELECT * FROM BATCHVOUCHERDETAIL WHERE VOUNUM IN ('${vounum_list.join("','")}');

`;
    sql += "--QXREF_AP_DOC (VOUNUM):
";
    sql += `SELECT * FROM QXREF_AP_DOC A WHERE VOUNUM IN ('${vounum_list.join("','")}');

`;
    sql += "--Audit History for Voucher (VOUNUM):
";
    sql += `SELECT B.VOUNUM, C.SYSTEM_COMMENT, C.WF_INSTANCE_ID, C.ACTION_DT, C.ACTION_USER_ID, C.*
FROM QWF_TRAN_AUDIT_VOUCHER A
JOIN BATCHVOUCHERDETAIL B ON A.IDBATVOUDETAIL = B.ID
JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE C ON A.ID_WF_AUDIT = C.ID_WF_AUDIT
JOIN BATCHVOUCHERMASTER D ON D.ID = B.IDBATVOUMASTER
WHERE B.VOUNUM IN ('${vounum_list.join("','")}')
ORDER BY C.ACTION_DT DESC;

`;
  }

  // Query 2: USERKEY
  if (userkey_list.length) {
    sql += "--Batch details:
";
    sql += `SELECT * FROM BATCHVOUCHERMASTER BM JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER WHERE BM.USERKEY IN ('${userkey_list.join("','")}');

`;
    sql += "--Voucher route in web:
";
    sql += `SELECT B.VOUNUM, C.* FROM QWF_TRAN_AUDIT_VOUCHER A JOIN BATCHVOUCHERDETAIL B ON A.IDBATVOUDETAIL = B.ID JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE C ON A.ID_WF_AUDIT = C.ID_WF_AUDIT JOIN BATCHVOUCHERMASTER D ON D.ID = B.IDBATVOUMASTER WHERE B.VOUNUM IN ('')
OR D.USERKEY IN ('${userkey_list.join("','")}')
ORDER BY C.ACTION_DT DESC;

`;
    sql += "--Audit History for Voucher (USERKEY):
";
    sql += `SELECT B.VOUNUM, C.SYSTEM_COMMENT, C.WF_INSTANCE_ID, C.ACTION_DT, C.ACTION_USER_ID, C.*
FROM QWF_TRAN_AUDIT_VOUCHER A
JOIN BATCHVOUCHERDETAIL B ON A.IDBATVOUDETAIL = B.ID
JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE C ON A.ID_WF_AUDIT = C.ID_WF_AUDIT
JOIN BATCHVOUCHERMASTER D ON D.ID = B.IDBATVOUMASTER
WHERE D.USERKEY IN ('${userkey_list.join("','")}')
ORDER BY C.ACTION_DT DESC;

`;
  }

  // Query 3: IDBATINVMASTER
  if (idbatinvmaster_list.length) {
    sql += "--Corresponding invoice details:
";
    sql += `SELECT * FROM BATCHINVOICEDETAIL WHERE IDBATINVMASTER IN ('${idbatinvmaster_list.join("','")}');

`;
  }

  // Query 4: ASSIGNED_USER_ID (LIKE)
  if (assigned_user_id_list.length) {
    sql += "--Invoices pending for approval by specific user:
";
    sql += `SELECT A.USERKEY, A.NAME, COUNT(*) FROM BATCHVOUCHERMASTER A
JOIN BATCHVOUCHERDETAIL B ON A.ID = B.IDBATVOUMASTER
WHERE ASSIGNED_USER_ID LIKE '%${assigned_user_id_list[0]}%' GROUP BY A.USERKEY, A.NAME ORDER BY A.NAME;

`;
    sql += "--Number of invoices pending approval grouped:
";
    sql += `SELECT WF.ASSIGNED_DESK_NM, WF.ASSIGNED_USER_ID, COUNT(*)
FROM BATCHVOUCHERDETAIL VD
JOIN QARCH_WF_TRAN_INBOX_BASE WF ON VD.IDWFINSTANCE = WF.WF_INSTANCE_ID
WHERE INBOX_ACTION_CD IS NULL AND ASSIGNED_USER_ID LIKE '%${assigned_user_id_list[0]}%'
GROUP BY WF.ASSIGNED_DESK_NM, WF.ASSIGNED_USER_ID ORDER BY WF.ASSIGNED_USER_ID;

`;
  }

  // Query 5: DOC_CONTENT_TYPE_CD or DOC_NM (LIKE)
  if (doc_content_type_cd_list.length || doc_nm_list.length) {
    sql += "--Attachments:
";
    sql += `SELECT A.*, B.DOC_PROP_VAL FROM SARCH_CTRL_DOC A JOIN SARCH_CTRL_DOC_PROPERTIES B ON A.DOC_ID = B.DOC_ID LEFT JOIN BATCHVOUCHERDETAIL C ON B.DOC_PROP_VAL = CAST(C.ID AS VARCHAR)
WHERE`;
    if (doc_content_type_cd_list.length) sql += ` A.DOC_CONTENT_TYPE_CD = '${doc_content_type_cd_list[0]}'`;
    if (doc_nm_list.length) sql += (doc_content_type_cd_list.length ? " OR " : " ") + `A.DOC_NM LIKE '%${doc_nm_list[0]}%'`;
    sql += " ORDER BY UPDT_DT DESC;

";
  }

  // Query 6: WFSTATUSCD
  if (wfstatuscd_list.length) {
    sql += "--Status code filter:
";
    sql += `SELECT * FROM BATCHVOUCHERDETAIL WHERE WFSTATUSCD = '${wfstatuscd_list[0]}';

`;
  }

  // Query 7: REFNUMDOC
  if (refnumdoc_list.length) {
    sql += "--Staging lookup (REFNUMDOC):
";
    sql += `SELECT * FROM BATCHVOUCHERDETAIL WHERE REFNUMDOC = '${refnumdoc_list[0]}';

`;
    sql += "--QXREF_AP_DOC (REFNUMDOC):
";
    sql += `SELECT * FROM QXREF_AP_DOC WHERE REFNUMDOC = '${refnumdoc_list[0]}';

`;
    sql += "--Ghost voucher check:
";
    sql += `SELECT COUNT(*), A.REFNUMDOC FROM BATCHVOUCHERDETAIL A
JOIN QWF_TRAN_INBOX_VOUCHER B ON A.ID = B.IDBATVOUDETAIL
JOIN QWF_TRAN_AUDIT_VOUCHER D ON D.IDBATVOUDETAIL = A.ID
JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE E ON E.ID_WF_AUDIT = D.ID_WF_AUDIT
JOIN QARCH_WF_TRAN_INBOX_BASE C ON B.ID_WF_INBOX = C.ID_WF_INBOX
WHERE A.REFNUMDOC = '${refnumdoc_list[0]}' AND E.INBOX_ACTION_CD = 'SUBMIT' AND A.WFSTATUSCD = 'Approved' AND EXISTS (SELECT 1 FROM QARCH_WF_TRAN_INBOX_BASE C WHERE C.INBOX_STATUS_CD = 'QUEUE' AND C.ID_WF_INBOX = B.ID_WF_INBOX) GROUP BY A.REFNUMDOC HAVING COUNT(*) > 1;

`;
  }

  // Query 8: DOC_PROP_VAL
  if (doc_prop_val_list.length) {
    sql += "--Document property lookup:
";
    sql += `SELECT * FROM SARCH_CTRL_DOC_PROPERTIES WHERE DOC_PROP_VAL = '${doc_prop_val_list[0]}';

`;
  }

  // Query 9: DOC_ID
  if (doc_id_list.length) {
    sql += "--Document file lookup (DOC_ID):
";
    sql += `SELECT * FROM SARCH_CTRL_DOC WHERE DOC_ID IN ('${doc_id_list.join("','")}') ORDER BY UPDT_DT DESC;

`;
  }

  // Query 10: REFNUM (audit trail)
  if (refnum_list.length) {
    sql += "--Audit log for batch steps:
";
    sql += `SELECT * FROM AUDITWORKFLOWLOG WHERE REFNUM = '${refnum_list[0]}';

`;
  }

  // Static queries (always included)
  sql += "--Post Pending batches:
SELECT * FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90;

";
  sql += "--Ghost vouchers (DELETED flag mismatch):
SELECT BVM.USERKEY, BVM.STATUSWORKFLOW, BVM.INBOXSTATUS, BVM.DELETED, BVD.VOUNUM, BVD.REFNUMDOC, BVD.WFSTATUSCD, BVD.APRVSTATUS, QWTIB.INBOX_STATUS_CD, QWTIB.ID_WF_INBOX FROM QARCH_WF_TRAN_INBOX_BASE QWTIB JOIN QWF_TRAN_INBOX_VOUCHER QTIV ON QWTIB.ID_WF_INBOX = QTIV.ID_WF_INBOX JOIN BATCHVOUCHERDETAIL BVD ON BVD.ID = QTIV.IDBATVOUDETAIL JOIN BATCHVOUCHERMASTER BVM ON BVD.IDBATVOUMASTER = BVM.ID WHERE BVM.DELETED = '1' AND WFSTATUSCD = 'Approved' AND BVD.DELETED = '0';

";
  sql += "--Post Pending summary count:
SELECT A.USERKEY, A.NAME, COUNT(*) FROM BATCHVOUCHERMASTER A JOIN BATCHVOUCHERDETAIL B ON A.ID = B.IDBATVOUMASTER WHERE A.USERKEY IN (SELECT USERKEY FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90) GROUP BY A.USERKEY, A.NAME;

";

  document.getElementById("output10").value = sql.trim();
}



</script>
<script>function filterScenarios() {
  const input = document.getElementById("searchInput").value.toLowerCase().trim();
  const groupContainers = document.querySelectorAll(".scenario-group");
  const groupButtons = document.querySelectorAll(".group-btn");
  const scenarioButtons = document.querySelectorAll(".accordion-btn:not(.group-btn)");
  const tabContents = document.querySelectorAll(".tab-content");

  // Reset all visibility
  groupContainers.forEach(group => group.style.display = "none");
  scenarioButtons.forEach(btn => btn.style.display = "none");
  tabContents.forEach(content => content.classList.remove("active"));
  scenarioButtons.forEach(btn => btn.classList.remove("active"));

  if (input === "") {
    // Full reset if input is cleared
    groupContainers.forEach(group => group.style.display = "none");
    scenarioButtons.forEach(btn => {
      btn.style.display = "block";
      btn.classList.remove("active");
    });
    tabContents.forEach(content => content.classList.remove("active"));
    collapseAll();
    return;
  }

  scenarioButtons.forEach(btn => {
    const content = btn.nextElementSibling;
    const combinedText = (btn.textContent + " " + content.textContent).toLowerCase();

    if (combinedText.includes(input)) {
      btn.style.display = "block";
      btn.classList.add("active");
      content.classList.add("active");

      const group = btn.closest(".scenario-group");
      if (group) group.style.display = "block";
    }
  });
}

function clearSearch() {
  document.getElementById("searchInput").value = "";
  filterScenarios();
}

<!-- ===== Show All Queries helper functions (autofill inputs then call generate) ===== -->
//Show All Queries Buttton for Each Scenario

//Scenario 1
function showAllQueries1() {
  const queries = [
`---Query the Process Queue table to view the status and other relevant details about the process:
SELECT START_DT,PROCESS_QUEUE_ID,PROCESS_ID,STATUS_CD,USER_ID, PARENT_PROCESS_QUEUE_ID, MASTER_PROCESS_QUEUE_ID,DATEDIFF (MINUTE, START_DT, END_DT) as TIMEDIFF_IN_MIN,USER_ID,* 
FROM QARCH_QUEU_PROCESS 
WHERE PROCESS_QUEUE_ID IN ('') 
ORDER BY QUEUE_DT DESC;

----Query the Message Log table to view any errors that were logged for the process.
SELECT LOG_MSG, LOG_DATE, PROCESS_QUEUE_ID, PROCESS_STEP_QUEUE_ID, LOG_MSG_TYPE_CD, * 
FROM QARCH_PROCESS_MSG_LOG 
WHERE PROCESS_QUEUE_ID IN ('') 
ORDER BY PROCESS_LOG_ID ASC;

----Query the Process Step table to see what steps were successful.
SELECT * 
FROM QARCH_QUEU_PROCESS_STEP 
WHERE PROCESS_STEP_QUEUE_ID = ' ' 
ORDER BY SEQ_NO ASC;

----Query the SQL Trace to see if any sql was logged for any of the process steps.
SELECT REGISTERED_SQL_NAME, SQL_STATEMENT_PART1, * 
FROM QARCH_QFCBATCH_SQL_TRACE 
WHERE PROCESS_QUEUE_ID in ('') 
ORDER BY SQL_SUCCESS_IND ASC;

----Query the Process Queue table for a breakdown of any child processes.
SELECT PROCESS_QUEUE_ID, PROCESS_ID, STATUS_CD, START_DT, END_DT, DATEDIFF(MINUTE, START_DT, END_DT) AS "TIME TO COMPLETE"
FROM QARCH_QUEU_PROCESS
WHERE MASTER_PROCESS_QUEUE_ID = ''
GROUP BY PROCESS_QUEUE_ID, PROCESS_ID, STATUS_CD, START_DT, END_DT
ORDER BY STATUS_CD;

----Query the lock table to verify if there are any active locks related to the process
SELECT * 
FROM QARCH_LOCK 
WHERE PROCESS_QUEUE_ID = ' ' 
ORDER BY UPDT_DT DESC;`,

`----Query the SQL Trace Table to view the Process Step Avg Time:
SELECT SUM(DURATION_MSEC)/1000/COUNT(*) AS AVG_DURATION_SEC,
       COUNT(*) AS EXE_COUNT
FROM QARCH_QFCBATCH_SQL_TRACE
WHERE REGISTERED_SQL_NAME = ''
  AND PROCESS_QUEUE_ID IN (
    SELECT PROCESS_QUEUE_ID
    FROM QARCH_QUEU_PROCESS
    WHERE MASTER_PROCESS_QUEUE_ID = ''
  );`
  ];

  document.getElementById("output1").value = queries.join("\n\n");
}


//Scenario 2
function showAllQueries2() {
  const queries = [
`--View AFE Details : 
SELECT AFE_NO, ORIG_DESKID_NO, APRV_DESKID_NO, ENGR_DESKID_NO,WF_ROUTE_NM_SELECTED,WF_ROUTE_NM_OVERRIDE, * 
FROM dbo.QCTRL_AFE_HDR 
WHERE AFE_NO IN ('');

--View the AFE Workflow for a specific AFE:
SELECT * 
FROM QWF_TRAN_INBOX_AFE QW 
JOIN QARCH_WF_TRAN_INBOX_BASE QA ON QW.ID_WF_INBOX = QA.ID_WF_INBOX 
WHERE AFE_NO IN ('');

--Using the RESULT of the ID_WF_INBOX populated from the last query, retreive the WF Inbox Details :
SELECT QUEUE_DT, ACTION_DT, ASSIGNED_DESK_NM, ASSIGNED_USER_ID,APRV_LIMIT, INBOX_ACTION_CD, INBOX_TYPE_CD, INBOX_ACTION_CD,* 
FROM QARCH_WF_TRAN_INBOX_BASE 
WHERE ID_WF_INBOX IN (' ');

--View the audit steps taken for the AFE Approval:
SELECT AFE.AFE_NO, WF_AUDIT.SYSTEM_COMMENT, WF_AUDIT.WF_INSTANCE_ID, WF_AUDIT.ACTION_DT, WF_AUDIT.ACTION_USER_ID, WF_AUDIT.*
FROM QCTRL_AFE_HDR AS AFE
JOIN QWF_TRAN_AUDIT_AFE AS WF
  ON WF.AFE_NO = AFE.AFE_NO
JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE AS WF_AUDIT
WHERE AFE.AFE_NO = ' '
ORDER BY WF_AUDIT.ACTION_DT ASC;

--View the AFE Route Steps
SELECT DESK_NM, * 
FROM QARCH_WF_ROUTE_SMPL_STEP AS A
LEFT JOIN QARCH_WF_ROUTE_SMPL_STEP_DESK AS B
  ON A.ID_WF_ROUTE_SMPL_STEP = B.ID_WF_ROUTE_SMPL_STEP
WHERE WF_ROUTE_NM = '  '
ORDER BY A.ROUTE_STEP_SEQ_NO;

--View the DESK Details for those on an AFE Route:
SELECT * FROM QARCH_WF_DESK WHERE DESK_NM IN ('');
SELECT * FROM QARCH_WF_DESK_DELEGATE WHERE DESK_NM IN ('');

--View the AFE Desks and Approvals on an AFE
SELECT AFE.AFE_NO, WF_AUDIT.SYSTEM_COMMENT, WF_AUDIT.WF_INSTANCE_ID, WF_AUDIT.ACTION_DT, WF_AUDIT.ACTION_USER_ID,  WF_AUDIT.*
FROM QCTRL_AFE_HDR AS AFE
JOIN QWF_TRAN_AUDIT_AFE AS WF
  ON WF.AFE_NO = AFE.AFE_NO
JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE AS WF_AUDIT
  ON WF.ID_WF_AUDIT = WF_AUDIT.ID_WF_AUDIT
WHERE AFE.AFE_NO ='' 
ORDER BY WF_AUDIT.ACTION_DT ASC;

--View the AFE Affiliates for any AFE:
SELECT *  
FROM QXREF_AFE_AFFILIATES 
WHERE PRIMARY_AFE_NO = ' ';
`
  ];
  document.getElementById("output2").value = queries.join("\n\n");
}


//Scenario 3
function showAllQueries3() {
  const queries = [
    "--Retreive Security Groups that a User is in (SC110):",
    `SELECT
QSGM.UPDT_DT,
QSGM.SEC_USER_ID,
QSU.SEC_USER_EMAIL_ADDR,
QSU.SEC_USER_NM,
QSG.GRP_DESCR,
QSG.GRP_ID,
QSGM.USER_ID,
QSGM.APP_LAYER_CD
FROM QARCH_SEC_GRP_MEMBER QSGM, QARCH_SEC_GRP QSG, QARCH_SEC_USER QSU
WHERE QSGM.GRP_ID = QSG.GRP_ID
AND QSGM.SEC_USER_ID = QSU.SEC_USER_ID
AND QSGM.SEC_USER_ID = '';`,

    "--User Action Audit",
    "SELECT * FROM QARCH_SEC_USERACTION_AUDIT WHERE SEC_USER_ID = '' order by ACTION_DT DESC;",

    "--This query will Unlock a user in DEV enfrionment (both Classic and Web):",
    "UPDATE QARCH_SEC_USER_PASSWORD\nSET LOCKED_IND = 0\nWHERE SEC_USER_ID = '';"
  ];

  document.getElementById("output3").value = queries.join("\n\n");
}



//Scenario 4
function showAllQueries4() {
  const queries = [
    "--Query the STRAN table to ensure that batches were created: ",
    "SELECT * FROM STRAN_CORE_INTFC \nWHERE ACCTG_MTH = ''\nAND TRANS_TYPE = 'GL'\nORDER BY UPDT_DT DESC",

    "--Query the Batch JE tables to retreive batch details: ",
    "SELECT M.USERKEY, M. NAME,M.STATUSWORKFLOW,  M.DATEACCT ,* FROM BATCHJOURNALENTRYMASTER M\nJOIN BATCHJOURNALENTRYDETAIL D ON M.ID = D.IDBATJE\nJOIN BATCHJOURNALENTRYLINE L ON M.ID = L.IDBATJE \nWHERE M. USERKEY IN ('')\nAND M.IDBEOWNER =  \nORDER BY M.DATEACCT DESC",

    "--Query the Batch JE tables to retreive batches uploaded to GL025 that are not POSTED or COULD NOT POST Status: ",
    "select A.STATUSWORKFLOW,  A.USERKEY, A.NAME, *\nfrom BATCHJOURNALENTRYMASTER A\njoin BATCHJOURNALENTRYDETAIL B\non A.ID = B.IDBATJE\nwhere A.STATUSWORKFLOW not in (100, 140)\norder by A.ID desc",

    "--Query the JE Batch tables to see the time between each batch created:",
    "select A.ID, A.NAME, A.USERKEY, A.STATUSWORKFLOW, A.IDBEOWNER, A.CREATED, count(*)\nfrom BATCHJOURNALENTRYMASTER A\njoin BATCHJOURNALENTRYDETAIL B\non A.ID = B.IDBATJE\njoin BATCHJOURNALENTRYLINE C\non B.ID = C.IDBATJEDETAIL\nwhere A.NAME like '%%'\nand A.ID > 4\ngroup by A.ID, A.NAME, A.USERKEY, A.STATUSWORKFLOW, A.IDBEOWNER, A.CREATED\norder by A.ID desc",

    "--Query the JE Batch tables to find QCFS invoices tied to a Batch ID:",
    "SELECT * FROM BATCHJOURNALENTRYMASTER M\nJOIN BATCHJOURNALENTRYDETAIL D ON M.ID = D.IDBATJE\nJOIN BATCHJOURNALENTRYLINE L ON M.ID = L.IDBATJE\nWHERE M.USERKEY IN('')",

    "--Query the JE Batch tables to find JEs for a Specific Accounting Date:",
    "SELECT * FROM BATCHJOURNALENTRYMASTER M\nJOIN BATCHJOURNALENTRYDETAIL D ON M.ID = D.IDBATJE\nJOIN BATCHJOURNALENTRYLINE L ON M.ID = L.IDBATJE\nWHERE M.DATEACCT BETWEEN '' AND ' AND ORDER BY REFNUM",

    "--Query the Batch Journal tables to view the count of columns of Batches that are in Post Pending Status: ",
    "select A.USERKEY, A.NAME, count(*) \nFROM BATCHJOURNALENTRYMASTER A\njoin BATCHJOURNALENTRYDETAIL B\non A.ID = B.IDBATJE\njoin BATCHJOURNALENTRYLINE C\non B.ID = C.IDBATJEDETAIL\njoin BATCHJECUSTOMCODEBLOCKUPSTREAM D\non C.ID = D.IDBATJELINE\njoin BUSINESSENTITY E\non A.IDBEOWNER = E.ID\nwhere A.USERKEY in (SELECT USERKEY from UVW_WORKFLOWINBOX where STATUSWORKFLOW = 90)\ngroup by A.USERKEY, A.NAME"
  ];

  document.getElementById("output4").value = queries.join("\n\n");
}



//Scenario 5
function showAllQueries5() {
  const queries = [
    "--Query the STRAN table to ensure that batches were created: ",
    "SELECT * FROM STRAN_CORE_INTFC \nWHERE ACCTG_MTH = ''\nAND TRANS_TYPE = 'AP'\nORDER BY UPDT_DT DESC",

    "--Query the Invoice Batch tables to retreive batch details: ",
    "SELECT A.USERKEY, A. NAME, A.STATUSWORKFLOW,  A.DATEACCT ,* \nFROM BATCHINVOICEMASTER A\njoin BATCHINVOICEDETAIL B\non A.ID = B.IDBATINVMASTER\njoin BATCHINVOICELINEITEM C\non B.ID = C.IDBATINVDETAIL\njoin BATCHINVOICECUSTOMCODEBLOCKUPSTREAM D\non C.ID = D.IDBATINVLINEITEM\njoin BUSINESSENTITY E\non A.IDBEOWNER = E.ID\nWHERE A.USERKEY IN('', '')\nAND A.IDBEOWNER =  \nORDER BY A.DATEACCT DESC",

    "--Query the AP Batch tables to retreive batches uploaded to GL025 that are not POSTED or COULD NOT POST Status: ",
    "select A.STATUSWORKFLOW,  A.USERKEY, A.NAME, *\nfrom BATCHINVOICEMASTER A\njoin BATCHINVOICEDETAIL B\non A.ID = B.IDBATINVMASTER\nwhere A.STATUSWORKFLOW not in (100, 140)\norder by A.ID desc",

    "--Query the JE Batch tables to see the time between each batch created:",
    "select A.ID, A.NAME, A.USERKEY, A.STATUSWORKFLOW, A.IDBEOWNER, A.CREATED, count(*)\nfrom BATCHINVOICEMASTER A\njoin BATCHINVOICEDETAIL B\non A.ID = B.IDBATINVMASTER\njoin BATCHINVOICELINEITEM C\non B.ID = C.IDBATINVDETAIL\nwhere A.NAME like '%%'\nand A.ID > 4\ngroup by A.ID, A.NAME, A.USERKEY, A.STATUSWORKFLOW, A.IDBEOWNER, A.CREATED\norder by A.ID desc",

    "--Query the AP Batch tables to find QCFS invoices tied to a Batch ID:",
    "SELECT * FROM BATCHINVOICEMASTER M\nJOIN BATCHINVOICEDETAIL D ON M.ID = D.IDBATINVMASTER\nJOIN BATCHINVOICELINEITEM L ON M.ID = L.IDBATINVMASTER\nWHERE M.USERKEY IN('')",

    "--Query the AP Batch tables to find JEs for a Specific Accounting Date:",
    "SELECT * FROM BATCHINVOICEMASTER A\njoin BATCHINVOICEDETAIL B\non A.ID = B.IDBATINVMASTER\njoin BATCHINVOICELINEITEM C\non B.ID = C.IDBATINVDETAIL\nWHERE M.DATEACCT BETWEEN '' AND ' AND ORDER BY REFNUM",

    "--Query the Batch Invoice tables to locate any duplicate batches created after QCFSIMPCYC: ",
    "SELECT DISTINCT BI.USERKEY FROM BATCHINVOICEMASTER BI\nJOIN BATCHINVOICEDETAIL BD\nON BD.IDBATINVMASTER = BI.ID\nJOIN BATCHINVOICELINEITEM BIL\nON BIL.IDBATINVDETAIL = BD.ID\nJOIN (SELECT COUNT(*) AS DUPLICATES, SUBSTRING(BIL.NOTES,15,10) AS IDCOREINTFC  FROM BATCHINVOICEMASTER BI\nJOIN BATCHINVOICEDETAIL BD\nON BD.IDBATINVMASTER = BI.ID\nJOIN BATCHINVOICELINEITEM BIL\nON BIL.IDBATINVDETAIL = BD.ID\nWHERE NAME LIKE '%%' AND BI.CREATED BETWEEN '' AND ''\nGROUP BY SUBSTRING(BIL.NOTES,15,10)\nHAVING COUNT(*) > 1) DUP\nON DUP.IDCOREINTFC = SUBSTRING(BIL.NOTES,15,10)"
  ];

  document.getElementById("output5").value = queries.join("\n\n");
}


//Scenario 6
function showAllQueries6() {
  const queries = [
    "--Query the QARCH_CONFIG table to view the Global Config for BR005: ",
    "SELECT * FROM QARCH_CNFG_CTRL WHERE KEY_NM LIKE 'BANK_RECON%'",

    "--Query the Batch table to view details for the recon batches created: ",
    "SELECT USERKEY, * FROM BATCHBANKRECONMASTER\nWHERE USERKEY IN ('')",

    "--This query will return the right grid on BR005 (Bank Statement Transactions): ",
    "SELECT A.USERKEY, * FROM BATCHBANKRECONMASTER A\nJOIN BATCHBANKRECONDETAIL B ON A.ID = B.ID\nJOIN BATCHBANKRECONLINEBANK C ON A.ID = C.IDBATCHBANKRECONMASTER\nWHERE A.USERKEY IN ('')",

    "--This query will return the left grid on BR005 (Accounting Transactions): ",
    "SELECT A.USERKEY, A.CREATED, COUNT(C.IDBATCHBANKRECONMASTER) FROM BATCHBANKRECONMASTER A\nJOIN BATCHBANKRECONDETAIL B ON A.ID = B.ID\nJOIN BATCHBANKRECONLINEBANK C ON A.ID = C.IDBATCHBANKRECONMASTER\nWHERE A.USERKEY IN ('') \nGROUP BY A.USERKEY, A.CREATED\nORDER BY COUNT(C.IDBATCHBANKRECONMASTER) DESC"
  ];

  document.getElementById("output6").value = queries.join("\n\n");
}



//Scenario 7
function showAllQueries7() {
  const queries = [
    "--This query will retreive daetails for a Check Run batch using the Batch ID: ",
    "SELECT * FROM BATCHCHECKRUNMASTER WHERE¬†USERKEY = ''",

    "--This query will retreive daetails for a Check Run batch using the Check Number as a %like% value in the BATCHCHECKRUNMASTER:",
    "SELECT CHECKNUM, PAYAMT, * FROM BATCHCHECKRUNDETAIL WHERE IDBATCHECKRUNMASTER = ''¬†\nAND CHECKNUM LIKE '%%'\nORDER BY LASTUPDATE DESC¬†",

    "--This query will retreive daetails for a Check Run batch from the BATCHCHECKRUNPAYITEM table using the IDBATCHECKRUNMASTER and Payment Amount: ",
    "SELECT * FROM BATCHCHECKRUNPAYITEM WHERE IDBATCHECKRUNMASTER = ''\nAND PAYAMT = ''\nORDER BY PAYAMT DESC",

    "--This query will retreive daetails for a Check Run batch from the VW_BATCHCHECKRUNDETAIL_EXP table using the IDBATCHECKRUNMASTER and Check Number as a %like% value: ",
    "SELECT * FROM VW_BATCHCHECKRUNDETAIL_EXP WHERE IDBATCHECKRUNMASTER = ''¬†\nAND CHECKNUM LIKE '%%'\nORDER BY CHECKNUM DESC",

    "--Query for details about any manual checks: ",
    "SELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW,   * \nFROM BATCHMANUALCHKMASTER A\njoin BATCHMANUALCHKDETAIL B\non A.ID = B.IDBATMANUALCHKMASTER\njoin BUSINESSENTITY E\non A.IDBEOWNER = E.ID\nwhere A.USERKEY= ''"
  ];

  document.getElementById("output7").value = queries.join("\n\n");
}

//Scenario 8
function showAllQueries8() {
  const queries = [
    "--The natural progression of any imports into QCFS will be from SEXTN_CORE_INTFC_CFS ‚Üí QSTAG_CORE_INTFC_IMP. This query will query the SEXTN table to view any imports that have been staged in this table, but not processed: ",
    "SELECT * FROM SEXTN_CORE_INTFC_CFS WHERE IDCOREINTFC IN (SELECT ID FROM STRAN_CORE_INTFC WHERE JOURNAL_ID IN '' AND TRANS_TYPE IN '' AND ACCTG_MTH IN '') AND PROCESS_IND = 0;",

    "--The natural progression of any imports into QCFS will be from SEXTN_CORE_INTFC_CFS ‚Üí QSTAG_CORE_INTFC_IMP. This query will query the QSTAG_CORE_INTFC_IMP table to view any imports that have been staged in this table: ",
    "SELECT * FROM QSTAG_CORE_INTFC_IMP  WHERE JOURNAL_ID IN 'QRAREV' AND TRANS_TYPE IN 'GL' AND ACCTG_MTH IN ''"
  ];

  document.getElementById("output8").value = queries.join("\n\n");
}

//Scenario 9
function showAllQueries9() {
  const queries = [
    "--This  will query the Maintenance App configuration for a Batch Process: ",
    "SELECT * FROM QARCH_CTRL_PROCESS WHERE PROCESS_ID = ' '",

    "--This  will query the Maintenance App configuration for an Import/Export Defitiion for a process, specifically the General tab: ",
    "select * from QARCH_CTRL_IMPEXP where IMPEXP_ID = ''",

    "--This  will query the Maintenance App configuration for an Import/Export Defitiion for a process, specifically the File Path values on the General tab: ",
    "select * from QARCH_CTRL_IMPEXP_ADDITIONAL WHERE IMPEXP_ID = ' '",

    "--This  will query the Maintenance App configuration for an Import/Export Defitiion for a process, specifically the File Definition tab: ",
    "select * from QARCH_CTRL_IMPEXP_FILE_DEF where IMPEXP_ID = ' '",

    "--This  will query the Maintenance App configuration for the FTP Definitions with ID and Hosts: ",
    "SELECT * FROM QARCH_CTRL_FTP where FTP_ID = ' '",

    "--This  will query the Maintenance App configuration for the FTP Transfer Defintion: ",
    "SELECT * FROM QARCH_CTRL_FTP_TRANSFER_DEF where FTP_ID = ' ' ORDER BY SEQ_NO ASC",

    "--This  will query the Maintenance App configuration for a FTP host: ",
    "SELECT * FROM QARCH_CTRL_FTP_HOST WHERE FTP_HOST_ID = ' '",

    "--This will query the Maintenance App configuration for Event Notification Setup: ",
    "SELECT ACTIVE_IND, * FROM QARCH_EVENT WHERE EVENT_TYPE_CD = ''",

    "--This will query the Maintenance App configuration for the current Module sequence (lists the modules based on precedence) :",
    "select * from QARCH_META_MOD_DEFINE\nwhere METADATA_PROFILE = ''\n--and MODULE_CD = ''\norder by PRIORITY desc"
  ];

  document.getElementById("output9").value = queries.join("\n\n");
}




//Scenario 10
function showAllQueries10() {
  const queries = [
`--Query the BATCHINVOICEMASTER tables to view INVOICE details: 
SELECT BM.WEB_IND,BM.CREATED,BM.DATEACCT,BM.DATETOPOST, BM.DELETED, BM.USERKEY, BM.NAME, BM.IDWORKFLOWDEF, BM.STATUSWORKFLOW, BM.INBOXSTATUS, BD.VOUNUM,BD.IDWFINSTANCE, BD.APRVSTATUS, BD.WFROUTENMSELECTED, BD.WFSTATUSCD, BD.POSTED, BM.CONTROLTOTAL,
* FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL ON BD.ID = BL.IDBATVOUDETAIL
--WHERE USERKEY IN ('') 
WHERE BD.VOUNUM IN ('')`,

`--Query the BATCHVOUCHERDETAIL table to retreive Voucher Details: 
SELECT * FROM BATCHVOUCHERDETAIL
WHERE VOUNUM in (' ')`,

`--Query the Batch Voucher tables to retreive Batch Details: 
select A.USERKEY, B.VOUNUM, A.STATUSWORKFLOW, B.APRVSTATUS, B.IDWFINSTANCE, A.CREATED, A.LASTUPDATE, A.DELETED, B.DELETED, C.DELETED, *
from BATCHVOUCHERMASTER A
join BATCHVOUCHERDETAIL B
on A.ID = B.IDBATVOUMASTER
join BATCHVOUCHERGLDISTRIBUTION C
on B.ID = C.IDBATVOUDETAIL
where A.USERKEY IN ('')`,

`--Identify the ID and use it as the IDbatinvmaster in the BATCHINVOICEDETAILS table
SELECT * FROM BATCHINVOICEDETAIL WHERE IDBATINVMASTER IN ('')`,

`--Query the Batch Voucher Master tables to get a count of columns of batches that were created and are in Post Pending Status: 
select A.USERKEY, A.NAME, count(*) 
FROM BATCHVOUCHERMASTER A
join BATCHVOUCHERDETAIL B
on A.ID = B.IDBATVOUMASTER
where A.USERKEY in (SELECT USERKEY from UVW_WORKFLOWINBOX where STATUSWORKFLOW = 90)
group by A.USERKEY, A.NAME`,

`--Invoices pending for approval by specific user queried as a %like% value: 
select A.USERKEY, A.NAME, count(*) 
FROM BATCHVOUCHERMASTER A
join BATCHVOUCHERDETAIL B
on A.ID = B.IDBATVOUMASTER
where A.USERKEY in (SELECT USERKEY from UVW_WORKFLOWINBOX where STATUSWORKFLOW = 90)
group by A.USERKEY, A.NAME
SELECT VD.ID, VD.VOUNUM, VD.REFNUMDOC, VD.IDWFINSTANCE, WF.BOOKMARK_NM, VD.APRVSTATUS, VD.WFSTATUSCD
	, VD.INV_AMT
	, WF.STEP_SEQ_NO
	, WF.ASSIGNED_USER_ID
	, WF.ASSIGNED_DESK_NM
	, WF.INBOX_STATUS_CD
	, WF.INBOX_TYPE_CD
	, WF.QUEUE_DT
	, WF.INBOX_ACTION_CD
	, WF.ACTION_DT
	, WF.ACTION_USER_ID
	, WF.ACTION_COMMENT
	, WF.UPDT_DT
from BATCHVOUCHERDETAIL VD
INNER JOIN QARCH_WF_TRAN_INBOX_BASE WF
	ON VD.IDWFINSTANCE = WF.WF_INSTANCE_ID
where INBOX_ACTION_CD IS NULL
	--AND ASSIGNED_USER_ID LIKE '%%'
ORDER BY WF.ASSIGNED_USER_ID`,

`--Query the number of invoices pending approval by assigned Desk and User ID: 
select WF.ASSIGNED_DESK_NM, WF.ASSIGNED_USER_ID, COUNT(*)
from BATCHVOUCHERDETAIL VD
INNER JOIN QARCH_WF_TRAN_INBOX_BASE WF
ON VD.IDWFINSTANCE = WF.WF_INSTANCE_ID
where INBOX_ACTION_CD IS NULL
AND ASSIGNED_USER_ID LIKE '%%'
GROUP BY WF.ASSIGNED_DESK_NM, WF.ASSIGNED_USER_ID
ORDER BY WF.ASSIGNED_USER_ID`,

`--Query the route of a voucher in web: 
select B.VOUNUM, C.SYSTEM_COMMENT, C.WF_INSTANCE_ID, C.ACTION_DT, C.ACTION_USER_ID,  C.*
from QWF_TRAN_AUDIT_VOUCHER A
join BATCHVOUCHERDETAIL B
on A.IDBATVOUDETAIL = B.ID
join QARCH_WF_TRAN_ROUTE_AUDIT_BASE C
on A.ID_WF_AUDIT = C.ID_WF_AUDIT
join  BATCHVOUCHERMASTER as D
on D.ID = B.IDBATVOUMASTER
where B.VOUNUM ='' 
OR D.USERKEY = ''
ORDER BY C.ACTION_DT DESC`,

`--Query the attachments being uploaded to invoices according to document content type: 
select B.DOC_PROP_VAL, A.*
from SARCH_CTRL_DOC A
join SARCH_CTRL_DOC_PROPERTIES B
on A.DOC_ID = B.DOC_ID
left join BATCHVOUCHERDETAIL C
on B.DOC_PROP_VAL = CONVERT(varchar, C.ID)
where A.DOC_CONTENT_TYPE_CD = ''
or A.DOC_NM like '%%'
--and C.ID is null
--order by B.DOC_PROP_VAL asc
ORDER BY UPDT_DT DESC

--Input will be DOC_CONTENT_TYPE_CD or D0C_NM as a '%like% value. Specify on the label that this will be queried as %like% value.`,

`--Query batches based on status: 
SELECT * FROM BATCHVOUCHERDETAIL WHERE WFSTATUSCD = ''`,

`--Query Batch Voucher detail to retreive where files are being staged: 
SELECT * FROM BATCHVOUCHERDETAIL
WHERE REFNUMDOC = ''`,

`--Query Document Repository table to retreive file details: 
SELECT * FROM SARCH_CTRL_DOC_PROPERTIES
WHERE DOC_PROP_VAL = ''`,

`SELECT * FROM SARCH_CTRL_DOC
WHERE DOC_ID IN (' ')
ORDER BY UPDT_DT DESC`,

`SELECT * FROM QXREF_AP_DOC
WHERE REFNUMDOC = ''`,

`SELECT * FROM  QXREF_AP_DOC A
WHERE VOUNUM IN ('')`,

`--Query the Audit log to view steps that a batch is taking: 
select * from AUDITWORKFLOWLOG
where REFNUM = ' '`,

`--Query the batches that POSTWKFL will pick up (in Post Pending Status)
select * from UVW_WORKFLOWINBOX
where STATUSWORKFLOW = 90`,

`--Query the Batch voucher tables to locate any deleted ("ghost") vouchers: 
SELECT BVM.USERKEY, BVM.STATUSWORKFLOW, BVM.INBOXSTATUS, BVM.DELETED, BVD.VOUNUM, BVD.REFNUMDOC, BVD.WFSTATUSCD, BVD.APRVSTATUS, QWTIB.INBOX_STATUS_CD, QWTIB.ID_WF_INBOX
FROM QARCH_WF_TRAN_INBOX_BASE AS QWTIB
JOIN QWF_TRAN_INBOX_VOUCHER AS QTIV
ON QWTIB.ID_WF_INBOX = QTIV.ID_WF_INBOX
JOIN BATCHVOUCHERDETAIL AS BVD
ON BVD.ID = QTIV.IDBATVOUDETAIL
JOIN BATCHVOUCHERMASTER AS BVM
ON BVD.IDBATVOUMASTER = BVM.ID
WHERE BVM.DELETED = '1'
AND WFSTATUSCD = 'Approved'
AND BVD.DELETED = '0'`,

`--Query the Batch voucher tables to verify whether there is a ghost voucher by querying the invoice number: 
SELECT COUNT(*), A.REFNUMDOC FROM BATCHVOUCHERDETAIL A
JOIN QWF_TRAN_INBOX_VOUCHER B
ON A.ID = B.IDBATVOUDETAIL
JOIN QWF_TRAN_AUDIT_VOUCHER D
ON D.IDBATVOUDETAIL = A.ID
JOIN QARCH_WF_TRAN_ROUTE_AUDIT_BASE E
ON E.ID_WF_AUDIT = D.ID_WF_AUDIT
JOIN QARCH_WF_TRAN_INBOX_BASE C
ON B.ID_WF_INBOX = C.ID_WF_INBOX
WHERE --A.REFNUMDOC = '21561' AND
E.INBOX_ACTION_CD = 'SUBMIT'
AND A.WFSTATUSCD = 'Approved' AND EXISTS (SELECT 1 FROM QARCH_WF_TRAN_INBOX_BASE C WHERE C.INBOX_STATUS_CD = 'QUEUE' AND C.ID_WF_INBOX = B.ID_WF_INBOX)
GROUP BY A.REFNUMDOC HAVING COUNT(*) > 1`,

`--Query the Batch Voucher tables to view the audit history for a voucher: 
select B.VOUNUM, C.SYSTEM_COMMENT, C.WF_INSTANCE_ID, C.ACTION_DT, C.ACTION_USER_ID,  C.*
from QWF_TRAN_AUDIT_VOUCHER A
join BATCHVOUCHERDETAIL B
on A.IDBATVOUDETAIL = B.ID
join QARCH_WF_TRAN_ROUTE_AUDIT_BASE C
on A.ID_WF_AUDIT = C.ID_WF_AUDIT
join  BATCHVOUCHERMASTER as D
on D.ID = B.IDBATVOUMASTER
where B.VOUNUM IN (' ') OR D.USERKEY IN ('')
ORDER BY C.ACTION_DT DESC`,

`----VERIFY BATCH  INVOICE TOTALS
SELECT SUM(CONTROLTOTAL) CONTROLTOTAL
FROM BATCHINVOICEMASTER I
JOIN BUSINESSENTITY B
ON I.IDBEOWNER = B.ID
WHERE I.NAME LIKE '% %'
--AND B.USERKEY = '4' --CAN USE THIS TO FILTER ON SPECIFIC COMPANIES`,

`----VERIFY DETAIL TOTALS/COUNTS for Batch Invoices
SELECT SUM(D.TOTALSALESAMT), COUNT(*)
FROM BATCHINVOICEMASTER I
JOIN BUSINESSENTITY B
ON I.IDBEOWNER = B.ID
JOIN BATCHINVOICEDETAIL D
ON I.ID = D.IDBATINVMASTER
WHERE I.NAME LIKE '% %'
--AND B.USERKEY = '4' --CAN USE THIS TO FILTER ON SPECIFIC COMPANIES`,

`----VERIFY LINE TOTALS/"COUNTS"
SELECT A.KEYFULL, SUM(L.TOTALPRICE), COUNT(*)
FROM BATCHINVOICEMASTER I
JOIN BUSINESSENTITY B
ON I.IDBEOWNER = B.ID
JOIN BATCHINVOICEDETAIL D
ON I.ID = D.IDBATINVMASTER
JOIN BATCHINVOICELINEITEM L
ON I.ID = L.IDBATINVMASTER
AND D.ID = L.IDBATINVDETAIL
JOIN ACCOUNT A
ON L.IDACCOUNTSALES = A.ID
WHERE I.NAME LIKE '% %'
--AND B.USERKEY = '2' --CAN USE THIS TO FILTER ON SPECIFIC COMPANIES
GROUP BY A.KEYFULL`,

`--VERIFY GL096 TOTALS
SELECT BATCHUSERKEY, KEYFULL, JECUSTOMCODEBLOCK__NOTES, SUM(AMOUNT), COUNT(*)
FROM UVW_UPS_JETRANSACTIONINQUIRY
WHERE BATCHUSERKEY IN ('')
--AND JECUSTOMCODEBLOCK__NOTES = ''
GROUP BY BATCHUSERKEY, KEYFULL, JECUSTOMCODEBLOCK__NOTES`
  ];

  document.getElementById("output10").value = queries.join("\n\n");
}

//Scenario 11
function showAllQueries11() {
  const queries = [];

  queries.push(`--Query the Batch Deposit tables to view Deposit Batch details:\nSELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW, * \nFROM BATCHDEPOSITWITHMATCHMASTER A\nJOIN BATCHDWMCUSTOMERS B ON A.ID = B.IDBATDWMMASTER\nJOIN BATCHDWMRECEIPTS D ON B.ID = D.IDBATDWMCUSTOMER\nJOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID\nWHERE A.USERKEY= '';`);

  queries.push(`--Query the Batch Deposit tables to retrieve the total number of columns in Deposit Batches in Post Pending Status:\nSELECT A.USERKEY, A.NAME, count(*) \nFROM BATCHDEPOSITWITHMATCHMASTER A\nJOIN BATCHDWMCUSTOMERS B ON A.ID = B.IDBATDWMMASTER\nJOIN BATCHDWMINVOICES C ON B.ID = C.IDBATDWMCUSTOMER\nJOIN BUSINESSENTITY E ON A.IDBEOWNER = E.ID\nWHERE A.USERKEY IN (\n  SELECT USERKEY FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90\n)\nGROUP BY A.USERKEY, A.NAME;`);

  queries.push(`--Match the USERKEY to Deposit Journal batches:\nSELECT * FROM AUDITTRANSACTIONLOG \nWHERE BATCHUSERKEY IN ('');`);

  queries.push(`--Join to Deposit Journal to review the Deposits:\nSELECT * FROM DEPOSITJOURNAL \nWHERE DEPOSITNUMBER IN (\n  SELECT REFNUM \n  FROM AUDITTRANSACTIONLOG \n  WHERE BATCHUSERKEY IN ('')\n);`);

  queries.push(`--Link to Workflow Inbox to review the approval or rejection:\nSELECT * FROM UVW_WORKFLOWINBOX \nWHERE IDBATCHMASTER IN (\n  SELECT IDBATCHMASTER \n  FROM AUDITTRANSACTIONLOG \n  WHERE BATCHUSERKEY IN ('')\n);`);

  document.getElementById('output11').value = queries.join('\n\n');
}




//Scenario 12
function showAllQueries12() {
  const sql = `--Review the processes tied to the JB005 for an accounting month:
SELECT MASTER_PROCESS_QUEUE_ID, PROCESS_QUEUE_ID, PROCESS_ID,STATUS_CD, START_DT, END_DT, DATEDIFF (MINUTE, START_DT, END_DT) as TIMEDIFF_IN_MIN,USER_ID,
* FROM QARCH_QUEU_PROCESS A WHERE PROCESS_ID IN ('JBLDWCVOL','JBCALCCOMP','JBMISCOH','JBOPENBILL','JBPRODOH','JBVEHCALC',
'JBGLIMPORT','JBLOADCSL','JBPROPALLC','JBREBILL','JBOWNALLOC','JBRBINVMN','JBINVMNPRC','JBJOURNAL','JBLDJE2CAS','JBROLLDATE')
AND START_DT >= '' ORDER BY QUEUE_DT DESC

--Review the JIB journal tables in QCA:
SELECT * FROM JBTRN_JIB_JOURNAL WHERE PROCESS_QUEUE_ID = ' '
SELECT SUM (JOURNAL_AMOUNT)  FROM JBTRN_JIB_JOURNAL WHERE PROCESS_QUEUE_ID = ' '
SELECT * FROM JBSTG_CORE_INTFC_EXP WHERE PROCESS_QUEUE_ID = ' '

--JIB Batches pending to post from Batch Journal Entry
select A.ID, A.USERKEY, A.NAME, count(*) 
FROM BATCHJOURNALENTRYMASTER A
join BATCHJOURNALENTRYDETAIL B
on A.ID = B.IDBATJE
join BATCHJOURNALENTRYLINE C
on B.ID = C.IDBATJEDETAIL
join BATCHJECUSTOMCODEBLOCKUPSTREAM D
on C.ID = D.IDBATJELINE
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.NAME like 'JIB%'
group by A.USERKEY, A.NAME, A.ID
order by A.ID desc

--JIB Batches pending to post from Batch Invoice Master
select A.ID, A.USERKEY, A.NAME, count(*) 
FROM BATCHINVOICEMASTER A
join BATCHINVOICEDETAIL B
on A.ID = B.IDBATINVMASTER
join BATCHINVOICELINEITEM C
on B.ID = C.IDBATINVDETAIL
join BATCHINVOICECUSTOMCODEBLOCKUPSTREAM D
on C.ID = D.IDBATINVLINEITEM
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.NAME like 'JIB%'
group by A.USERKEY, A.NAME, A.ID
order by A.ID desc

--Trace JIB Accounting Entries in the STRAN Tables. These entries will post after running QCFSIMPCYC and POSTWKFL:
select * 
from STRAN_CORE_INTFC A
join SEXTN_CORE_INTFC_JIB B
on A.ID = B.IDCOREINTFC
where JOURNAL_ID = 'QCFS'
and TRANS_TYPE = 'PP'
AND UPDT_DT >= ''

--Review the path and count data of the JIBLINK Export
select EXPORTED_ROWS, UPDT_DT, * 
from CEN_PRD16UPS_QFC..QARCH_TRAN_IMPEXP_STATUS A 
where IMPEXP_ID = 'JIBLINKEXP'
order by A.EXPORTED_ROWS desc

--Number of records for Owner Allocation (OA) and rebillings (REB) that are processed from the tables JBTRN_INVOICE_DETAIL and JBTRN_INVOICE_HEADER
select SYSTEM_SOURCE, PROCESS_PERIOD,  count(*)
from JBTRN_INVOICE_DETAIL
GROUP BY SYSTEM_SOURCE, PROCESS_PERIOD
order by PROCESS_PERIOD DESC

SELECT SYSTEM_SOURCE, PROCESS_PERIOD, count(*)
from JBTRN_INVOICE_HEADER
GROUP BY SYSTEM_SOURCE, PROCESS_PERIOD
ORDER BY PROCESS_PERIOD DESC

--Review JB080 to review CTF transactions
SELECT COUNT (*)   from JBTRN_CTF 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBTRN_COST_SUBLEDGER 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT(1) from JBTRN_JIB_JOURNAL 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBTRN_COST_SUBLEDGER 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBTRN_JIB_JOURNAL 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBADT_JIB_JOURNAL_HISTORY 
WHERE PROCESS_PERIOD = ''

--Review JB080 to review CTF transactions
SELECT COUNT (1) from JBADT_JIB_JOURNAL_HISTORY 
WHERE PROCESS_PERIOD = ' '`;

  document.getElementById("output12").value = sql;
}


//Scenario 13
//Scenario 13
function showAllQueries13() {
  const queries = [
`--Query to retreive details for any Invoice Adjustments: 
SELECT E.USERKEY, A.USERKEY, A.STATUSWORKFLOW,  *
FROM BATCHPAYMENTAPPLICATIONMASTER A
join BATCHPAYMENTAPPLICATIONCUSTOMER  B
on A.ID = B.IDBATAPPLMASTER
join BATCHPAYMENTAPPLICATIONOPENITEM C
on B.ID = C.IDBATAPPLCUSTOMER
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.USERKEY= ''
--Input is USERKEY`,

`--Query Details for Customer Open Items(AR173): 
select * from CUSTOMEROPENITEM
--WHERE  LOCKEDTOBATCH IN ('','')
AND IDBEOWNER = ' '
--Input will be IDBEOWNER`,

`--Query the STRAN table to confirm that Open Item data has been exported to other modules: 
SELECT * FROM STRAN_CORE_INTFC
WHERE TRANS_TYPE = 'OI' AND JOURNAL_ID = 'QCFS' AND OWNER_BA_NO = ''
ORDER BY UPDT_DT DESC
--Input will be BA_NO`,

`--TRN_GL_MTD ->User runs QCFSEXPORT -> JTRN_GL_MTD_SUM -> SSTAG_CORE_INTFC -> STRAN_CORE_INTFC -> User runs QCFSIMPCYC -> Open items gets unlocked in AR173 (CUSTOMEROPENITEM table)
--Query the SSTAG table to confirm the transaction amount that was exported from QRA: 
select SET_ID, OPENITEM_PROP_NO, TRANS_AMT, *
from SSTAG_CORE_INTFC
where SET_ID = ''
-- and OWNER_BA_NO = ''
--and OPENITEM_PROP_NO = ''
--Input will be SET_ID`,

`--TRN_GL_MTD ->User runs QCFSEXPORT -> JTRN_GL_MTD_SUM -> SSTAG_CORE_INTFC -> STRAN_CORE_INTFC -> User runs QCFSIMPCYC -> Open items gets unlocked in AR173 (CUSTOMEROPENITEM table)
--Query the Customer Open Item table to check the CURAMT that exists in AR173. Transaction Amount from QRA Export should match the CURAMT: 
 SELECT ID, LASTUPDATE, DELETED, ORIGAMT, CURAMT,*
 from CUSTOMEROPENITEM
 where ID in ('')
 --Input will be Customer Open Item ID`,

`TRN_GL_MTD ->User runs QCFSEXPORT -> JTRN_GL_MTD_SUM -> SSTAG_CORE_INTFC -> STRAN_CORE_INTFC -> User runs QCFSIMPCYC -> Open items gets unlocked in AR173 (CUSTOMEROPENITEM table)
--Query to check if there are any duplicated lines during QCFSEXPORT: 
SELECT *
FROM STRAN_CORE_INTFC
WHERE TRANS_TYPE = 'OI'
AND JOURNAL_ID = 'QCFS'
and UPDT_DT > ''
AND BUS_UNIT_CD = ''
and OWNER_BA_NO = ''
and OPENITEM_PROP_NO = ''
ORDER BY UPDT_DT DESC
--Inputs will be UPDT_DT, BUS_UNIT_CD, OWNER_BA_NO, OPENITEM_PROP_NO. All are required.`,

`-- "JTRN_GL_MTD ->User runs QCFSEXPORT -> JTRN_GL_MTD_SUM -> SSTAG_CORE_INTFC -> STRAN_CORE_INTFC -> User runs QCFSIMPCYC -> Open items gets unlocked in AR173 (CUSTOMEROPENITEM table) : "

SELECT * FROM JTRN_GL_MTD
 --TRANS_AMT = 
WHERE ORIG_BUS_UNIT_CD = ''  
AND OWNR_BA_NO = ''
AND PROP_NO = ''
--AND GL_MTD_NO in ('','')
AND ACCTG_MTH = ''
--Inputs will be ORIG_BUS_UNIT_CD, OWNER_BA_NO, PROP_NO, ACCTG_MTH (in YYYY-MM-DD format).`,

`--Query the JBTRN_OWNER_ALLOC table to retrieve OI details:
SELECT ORIG_OA_ID,
OA_ID,
PROCESS_PERIOD,
AFE_NO,
BILLING_OWNER_AMOUNT,
IS_REVERSAL,
SVC_DT,
BILLING_PERIOD,
ORIG_BILLING_DECK,
UPDT_DT
FROM JBTRN_OWNER_ALLOC
WHERE PROP_NO = ''
AND PROCESS_PERIOD IN ('')
AND BA_NO = ''
--AND DESCR = ''
--AND BILLING_DECK = ''
--Inputs will be PROCESS_PERIOD (in YYYY-MM-DD format), BA_NO, and PROP_NO`,

`--Query Open Items table to view current Open Items for a specific customer: 
 SELECT ID, LASTUPDATE, DELETED, ORIGAMT, CURAMT,*
 FROM CUSTOMEROPENITEM
 WHERE IDBEOWNER =  
 AND IDCUSTOMER in ('')
 --Input is IDBEOWNER and IDCUSTOMER- Both are required`,

`--AFTER POSTWKFL IS COMPLETE
--VERIFY AR173 TOTALS / DEPENDING ON CONFIGURATION THESE MAY BE BROKEN OUT BY CC AND NOT TIE TO THE TOTAL INVOICE DETAIL COUNT
SELECT CREATED, SUM(ORIGAMT), COUNT(*)
FROM	CUSTOMEROPENITEM
WHERE IDINVOICE IS NOT NULL
GROUP BY CREATED
ORDER BY CREATED
--There is no input requied. This will autopopulate.`
  ];

  document.getElementById("output13").value = queries.join("\n\n");
}



//Scenario 14
function showAllQueries14() {
  let sqlOutput = "";

  sqlOutput += "--Review Business Entities in BA005/BA Web:\n";
  sqlOutput += "SELECT * FROM SCTRL_BA_ENTITY WHERE BA_NO IN ('');\n\n";

  sqlOutput += "--Review Business Associate Address Tab in BA005/BA Web:\n";
  sqlOutput += "SELECT * FROM SCTRL_BA_ADDRESS WHERE BA_NO IN ('');\n\n";

  sqlOutput += "--Review Business Associate Contacts Tab in BA005/BA Web:\n";
  sqlOutput += "SELECT * FROM SCTRL_CONTACT WHERE PRIMARY_BP_NO IN ('');\n\n";

  const showQueries = [
    { label: "Contacts Address Tab", table: "SCTRL_BA_CONTACT_ADDRESS" },
    { label: "Addresses Tab>Usages", table: "SCTRL_BA_USAGE" },
    { label: "Addresses Tab>Attributes", table: "SCTRL_BA_ADDRESS_ATTR" },
    { label: "Addresses Tab>Revenue", table: "SCTRL_BA_ADDRESS_RVNU" },
    { label: "QCFS/Core Financials tab", table: "SCTRL_BA_QCFS_EXT" },
    { label: "Tax IDs tab", table: "SCTRL_BA_TAX_ID" },
    { label: "Overrides > Vendor Payee", table: "SCTRL_BA_ADDRESS_VENDOR" },
    { label: "Overrides > Revenue Payee", table: "SCTRL_BA_ADDRESS_RVNU" },
    { label: "Overrides > 1099", table: "SCTRL_BA_ADDRESS_1099" },
    { label: "Bank Info Tab 1", table: "SCTRL_DEPOSITORY_OWNR_ACCT" },
    { label: "Bank Info Tab 2", table: "SXREF_DEPOSITORY" }
  ];

  for (const q of showQueries) {
    sqlOutput += `--Review Business Associate ${q.label} in BA005/BA Web:\n`;
    sqlOutput += `SELECT * FROM ${q.table} WHERE BA_NO IN ('');\n\n`;
  }

  sqlOutput += "--Open query for all Business Units:\n";
  sqlOutput += "SELECT * FROM SCTRL_BUS_UNIT;\n\n";

  sqlOutput += "--Query to check for any Vendor BAs that have become unsynced from their Global BUs:\n";
  sqlOutput += `SELECT DISTINCT B.USERKEY FROM VENDOR A 
JOIN VENDOR B
ON A.IDGLOBAL = B.ID
AND A.USERKEY!=B.USERKEY;\n\n`;

  sqlOutput += "--View Vendor Account coding\n--Vendor Account Coded\n";
  sqlOutput += `SELECT DISTINCT F.BUS_UNIT_CD, D.BA_NO, D.BA_NM1, D.BA_NM2, D.BA_NM3, E.KEYFULL, B.VOUNUM
FROM dbo.BATCHVOUCHERGLDISTRIBUTION A
LEFT JOIN dbo.BATCHVOUCHERDETAIL B ON A.IDBATVOUDETAIL = B.ID
LEFT JOIN VENDOR C ON B.IDVENDOR = C.ID
LEFT JOIN SCTRL_BA_ENTITY D ON C.USERKEY = D.BA_NO
LEFT JOIN ACCOUNT E ON A.IDACCOUNT = E.ID
LEFT JOIN BUSINESSENTITY F ON A.IDBEOWNER = F.ID;\n\n`;

  sqlOutput += "--Query the BA History (SHIST):\n";
  sqlOutput += "SELECT ENTY_TYPE_CD, USER_ID, UPDT_DT, CHANGE_TYPE_CD, * FROM SHIST_BA_ADDRESS WHERE BA_NO = '';\n\n";

  sqlOutput += "--Query the BA History (QHIST):\n";
  sqlOutput += "SELECT * FROM QHIST_BA_ADDRESS WHERE BA_NO = '';\n\n";

  document.getElementById("output14").value = sqlOutput;
}


//Scenario 15
function showAllQueries15() {
  const sql = `--Query details for ADP Import using an update date:
select * from QARCH_TRAN_IMPEXP_STATUS 
where IMPEXP_ID = 'ADPQSTAGCOREIMP' 
and UPDT_DT BETWEEN '' AND ''
--Input will be UPDT_DT - Provide both a starting and ending update date (in YYYY-MM-DD format). Both are required.`;

  document.getElementById("output15").value = sql;
}


//Scenario 16
function showAllQueries16() {
  const sql = `--Query existing account details on GL095:
SELECT TOP 100 * 
FROM GENERALJOURNAL GJ 
JOIN BUSINESSENTITY BE ON GJ.IDBEOWNER = BE.ID
JOIN GENERALJOURNALLINE GJL ON GJ.ID = GJL.IDGENERALJOURNAL
JOIN ACCOUNT ACC ON ACC.ID = GJL.IDACCOUNT
WHERE GJ.IDBEOWNER IN ('') AND ACC.KEYFULL=''

--Query additional account details from Account table:
SELECT B.* FROM ACCOUNT A
JOIN UPS_ACCOUNT B ON A.ID = B.ID
WHERE KEYFULL = ''

--Query Chart of Accounts by Business Unit:
select A.* from ACCOUNT A (NOLOCK) 
JOIN UPS_ACCOUNT UA ON UA.IDACCOUNT = A.ID 
WHERE A.IDBEOWNER = 

--Query changes to a Business Unit(BA_NO):
SELECT * from SHIST_BA_ENTITY WHERE BA_NO = ' '

--Query changes to an Account setup:
SELECT * FROM ACCOUNTHISTORY WHERE KEYFULL = ' '

--Query Details on GL095 by Account Number:
SELECT ... 
-- (omitted for brevity, full long SQL query from your input goes here exactly as is, ending in:)
WHERE KEYFULL = ''`;

  document.getElementById("output16").value = sql;
}

//Scenario 17
function showAllQueries17() {
  let sqlOutput = "";

  sqlOutput += "--QSTAGXLSIMP - JOURNAL_ID & TRANS_ID will determine what type of file is being uploaded (AR, AP, GL)\n";
  sqlOutput += "--This query will retrieve the current MT100 Configuration:\n";
  sqlOutput += "SELECT * FROM JOURNAL_ID_IMPORT;\n\n";

  const mtTables = [
    { label: "QCFS TAB", table: "SXREF_CORE_INTFC_QCFS_EXT" },
    { label: "AFE Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_AFE" },
    { label: "DDA Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_DDA" },
    { label: "JIB Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_JIB" },
    { label: "LOS Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_LOS" },
    { label: "LOS DD Tab", table: "QCTRL_CORE_INTEFACE_IMPORT_CONFIG_LOSDD" }
  ];

  for (const { label, table } of mtTables) {
    sqlOutput += `--MT100 > ${label}\n`;
    sqlOutput += `SELECT * FROM ${table} WHERE TRANS_TYPE = ' ' AND JOURNAL_ID = ' ';\n\n`;
  }

  sqlOutput += "--SM021: Journal Definitions Maintenance\n";
  sqlOutput += "SELECT * FROM JOURNALDEFINITION\nWHERE IDBEOWNER = \nAND USERKEY = '';\n\n";

  sqlOutput += "--SM093: Workflow Definition Maintenance\n";
  sqlOutput += "SELECT * FROM WORKFLOWDEFINITION\nWHERE IDBEOWNER = \nAND USERKEY = '';\n\n";

  sqlOutput += "--AP100: Voucher Document Type\n";
  sqlOutput += "SELECT * FROM VOUCHERDOCUMENTTYPE\nWHERE IDBEOWNER = \nAND USERKEY = '';\n\n";

  sqlOutput += "--AP047: Voucher Payment Term Definition Maintenance\n";
  sqlOutput += "SELECT * FROM VENDORPAYMENTTERMSDEFINITION\nWHERE IDBEOWNER = \nAND USERKEY = '';\n\n";

  sqlOutput += "--Imports that have been stamped with the XREF Config\n";
  sqlOutput += "SELECT * FROM COREINTERFACECONFIGIMPORT;\n";

  document.getElementById("output17").value = sqlOutput;
}



//Scenario 18
function showAllQueries18() {
  const buKey = document.getElementById('input18_bu_userkey').value.trim() || ' ';
  const baKey = document.getElementById('input18_ba_userkey').value.trim() || ' ';

  const sql1 = `-- Match the BU to the Userkey in the DB to retrieve IDCUSTOMER used in other screens
SELECT USERKEY, ID AS CUSTOMER_ID, NAME, *
FROM BUSINESSENTITY
WHERE USERKEY = '${buKey}';`;

  const sql2 = `\n\n-- Match the BA to the Userkey in the DB and use BU (as IDBEOWNER) to retrieve CUSTOMER.ID
SELECT ID
FROM CUSTOMER
WHERE USERKEY = '${baKey}'
  AND IDBEOWNER = (
    SELECT ID
    FROM BUSINESSENTITY
    WHERE USERKEY = '${buKey}'
  );`;

  document.getElementById('output18').value = sql1 + sql2;
}


//Scenario 19
function showAllQueries19() {
  const sql = `--Audit of batches posted during a POSTWKFLOW Run. Enter in Start and End time of POSKWKFL.
--Export into excel, and calculate the time difference between batch A and B for each batch. Note the time it took between batches to post.
select * from AUDITWORKFLOWLOG A
where A.CREATED between '' and '' and ORIGWORKFLOWSTATUS = 90
order by A.CREATED

--To investigate further into the JE batch which stands out in terms of the time:
SELECT * FROM BATCHJOURNALENTRYMASTER A
JOIN BATCHJOURNALENTRYDETAIL B
ON A.ID = B.IDBATJE
JOIN BATCHJOURNALENTRYLINE C
ON B.ID = C.IDBATJEDETAIL
WHERE A.USERKEY = ''
ORDER BY A.LASTUPDATE DESC

--To investigate further into the AP batch which stands out in terms of the time:
SELECT * FROM BATCHVOUCHERMASTER BM 
JOIN BATCHVOUCHERDETAIL BD 
ON BM.ID = BD.IDBATVOUMASTER
JOIN BATCHVOUCHERGLDISTRIBUTION BL
ON BD.ID = BL.IDBATVOUDETAIL
WHERE BM.USERKEY = ''
ORDER BY A.LASTUPDATE DESC

--Total Number of Batches in Post Pending Status
SELECT * FROM UVW_WORKFLOWINBOX WHERE STATUSWORKFLOW = 90

--Total Number of Lines in each JE Batch Waiting to Post.
select A.USERKEY, A.NAME, count(*) as Total_Lines_In_Batch
FROM BATCHJOURNALENTRYMASTER A
join BATCHJOURNALENTRYDETAIL B
on A.ID = B.IDBATJE
join BATCHJOURNALENTRYLINE C
on B.ID = C.IDBATJEDETAIL
join BATCHJECUSTOMCODEBLOCKUPSTREAM D
on C.ID = D.IDBATJELINE
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.USERKEY in (SELECT USERKEY from UVW_WORKFLOWINBOX where STATUSWORKFLOW = 90)
group by A.USERKEY, A.NAME

--Total Number of Lines in each Invoice Batch Waiting to Post.
select A.USERKEY, A.NAME, count(*) as Total_Lines_In_Batch
FROM BATCHINVOICEMASTER A
join BATCHINVOICEDETAIL B
on A.ID = B.IDBATINVMASTER
join BATCHINVOICELINEITEM C
on B.ID = C.IDBATINVDETAIL
join BATCHINVOICECUSTOMCODEBLOCKUPSTREAM D
on C.ID = D.IDBATINVLINEITEM
join BUSINESSENTITY E
on A.IDBEOWNER = E.ID
where A.USERKEY in (SELECT USERKEY from UVW_WORKFLOWINBOX where STATUSWORKFLOW = 90)
group by A.USERKEY, A.NAME

--Batches that are in Post Pending Status with a Post Date of on or before the DatetoPost value.
SELECT IBX.IDBATCHMASTER, IBX.ID, IBX.BATCHTYPE, IBX.CODEBLOCKGROUP
FROM UVW_WORKFLOWINBOX IBX
WHERE IBX.DATETOPOST <= ''
AND IBX.STATUSWORKFLOW IN (90);

--POSTWFL Vouchers currently in Post Pending Status
SELECT * FROM BATCHVOUCHERMASTER
WHERE STATUSWORKFLOW = '90'
ORDER BY LASTUPDATE DESC

--POSTWFL JEs currently in Post Pending Status
SELECT * FROM BATCHJOURNALENTRYMASTER
WHERE STATUSWORKFLOW = '90'
ORDER BY LASTUPDATE DESC

--Last JEs that are POSTED Status (GL025):
SELECT USERKEY, NAME, * FROM BATCHJOURNALENTRYMASTER
WHERE STATUSWORKFLOW = '100'
--AND USERKEY in ('')
ORDER BY LASTUPDATE DESC

--Last AP Vouchers that are in POSTED Status(AP055):
SELECT USERKEY, NAME, * FROM BATCHVOUCHERMASTER
WHERE STATUSWORKFLOW = '100'
--AND USERKEY in ('')
ORDER BY LASTUPDATE DESC

--POSTWKFL-INVESTIGATION
SELECT START_DT,PROCESS_QUEUE_ID,PROCESS_ID,STATUS_CD,USER_ID, PARENT_PROCESS_QUEUE_ID, MASTER_PROCESS_QUEUE_ID,* 
FROM QARCH_QUEU_PROCESS 
WHERE PROCESS_QUEUE_ID IN ('') AND PROCESS_ID = 'POSTWKFL' 
ORDER BY QUEUE_DT DESC

--POSTWKFL-INVESTIGATION- MESSAGE LOG
SELECT LOG_MSG, LOG_DATE, PROCESS_QUEUE_ID, PROCESS_STEP_QUEUE_ID, LOG_MSG_TYPE_CD, * 
FROM QARCH_PROCESS_MSG_LOG 
WHERE PROCESS_QUEUE_ID IN ('') 

--POSTWKFL- Audit Workflow log
select * from AUDITWORKFLOWLOG A
where A.CREATED between '' and '' and ORIGWORKFLOWSTATUS = 90
order by A.CREATED

--WF History Queries
SELECT * FROM QARCH_HIST_WF_ROUTE_BASE 
WHERE UPDT_DT BETWEEN '' AND '' 
order  by UPDT_DT DESC

--WF History Queries
SELECT * FROM QARCH_HIST_WF_ROUTE_SMPL
WHERE UPDT_DT BETWEEN '' AND '' 
order  by UPDT_DT DESC

--WF History Queries
SELECT * FROM QARCH_HIST_WF_ROUTE_SMPL_STEP
WHERE UPDT_DT BETWEEN '' AND '' 
order  by UPDT_DT DESC

--WF History Queries
SELECT * FROM QARCH_HIST_WF_USER_LIMIT_AMT
WHERE UPDT_DT BETWEEN '' AND '' 
order  by UPDT_DT DESC`;

  document.getElementById("output19").value = sql;
}


//Scenario 20
function showAllQueries20() {
  const queries = [
`--Query the Process Tables to identify any jobs that are running an Archive step: 
select * from QARCH_QUEU_PROCESS A
join QARCH_QUEU_PROCESS_STEP B
on A.PROCESS_QUEUE_ID = B.PROCESS_QUEUE_ID
join QARCH_CTRL_PROCESS_STEP  C
on B.PROCESS_STEP_ID = C.PROCESS_STEP_ID
and B.METADATA_LAYER_CD = C.APP_LAYER_CD
where UPPER(C.CPP_DLL_CLASS_NM) like '%ARCHIVE%'
order by A.PROCESS_QUEUE_ID desc

--No input will be required. This query will auto generate.`,

`--Archive/purge is based on the min/max seq number (UPDT_DT older than 30 days): 
SELECT MIN(SEQ_NO), MAX(SEQ_NO) FROM JBSTG_OWNER_ALLOC
WHERE UPDT_DT < ''
Input is Update Date in 'YYYY-MM-DD' format. Specifiy that this Update Date must be older than 30 days.`
  ];

  document.getElementById('output20').value = queries.join("\n\n");
}

//Scenario 21
// Scenario 21
function showAllQueries21() {
  const sql = `--QUERIES FOR QCFSIMPCYC ELAPSED: 
SELECT DATEACCT, MAX(BATCH_CREATED) QCFSIMPCYC_END_DT
FROM (
  SELECT DATEACCT, MAX(CREATED) BATCH_CREATED
  FROM BATCHJOURNALENTRYMASTER
  WHERE NAME LIKE 'JIB%'
  AND DATEACCT BETWEEN '' AND ''
  GROUP BY DATEACCT
  UNION ALL
  SELECT DATEACCT, MAX(CREATED) BATCH_CREATED
  FROM BATCHINVOICEMASTER
  WHERE NAME LIKE 'JIB%'
  AND DATEACCT BETWEEN '' AND ''
  GROUP BY DATEACCT
) A
GROUP BY A.DATEACCT
ORDER BY A.DATEACCT;

--QUERIES FOR QCFSIMPCYC ELAPSED: 
SELECT A.PROCESS_PERIOD, B.PROCESS_QUEUE_ID, B.PROCESS_ID, B.START_DT, B.END_DT QCFSIMPCYC_START_DT, 
DATEDIFF(minute, B.START_DT, B.END_DT) DATEDIFFMINS 
FROM CEN_DEV16UPS_QCA..JBTRN_PROCESS_ACTIVITY A
JOIN QARCH_QUEU_PROCESS B
ON A.PROCESS_QUEUE_ID = B.PROCESS_QUEUE_ID
WHERE A.PROCESS_PERIOD BETWEEN '' AND ''
AND A.PROCESS_ID IN ('JBLDJE2CAS')
AND A.ACTIVE = 1
ORDER BY A.PROCESS_PERIOD;

--QUERIES FOR QCFSIMPCYC ELAPSED: 
SELECT PROCESS_ID, PROCESS_QUEUE_ID, END_DT, DATEDIFF(minute, START_DT, END_DT) DATEDIFFMINS
FROM QARCH_QUEU_PROCESS
WHERE PROCESS_ID = 'QCFSIMPCYC'
AND START_DT >= '' --QCFSIMPCYC_START_DT
AND START_DT <= '' --QCFSIMPCYC_END_DT
AND STATUS_CD <> 'SXI'
ORDER BY START_DT;

--QUERIES FOR POSTWKFL ELAPSED
SELECT DATEACCT, MAX(BATCH_POSTED) POSTWKFL_END_DT
FROM (
  SELECT DATEACCT, MAX(LASTUPDATE) BATCH_POSTED
  FROM BATCHJOURNALENTRYMASTER
  WHERE NAME LIKE 'JIB%'
  AND DATEACCT BETWEEN '' AND ''
  GROUP BY DATEACCT
  UNION ALL
  SELECT DATEACCT, MAX(LASTUPDATE) BATCH_POSTED
  FROM BATCHINVOICEMASTER
  WHERE NAME LIKE 'JIB%'
  AND DATEACCT BETWEEN '' AND ''
  GROUP BY DATEACCT
) A
GROUP BY A.DATEACCT
ORDER BY A.DATEACCT;

--QUERIES FOR POSTWKFL ELAPSED
SELECT PROCESS_ID, PROCESS_QUEUE_ID, END_DT, DATEDIFF(minute, START_DT, END_DT) DATEDIFFMINS
FROM QARCH_QUEU_PROCESS
WHERE PROCESS_ID = 'POSTWKFL'
AND START_DT >= '' --QCFSIMPCYC_END_DT
AND START_DT <= '' --POSTWKFL_END_DT
AND STATUS_CD NOT IN ('SXI', 'SXL')
ORDER BY START_DT;`;

  document.getElementById("output21").value = sql;
}



//Scenario 22
function showAllQueries22() {
  const queries = [
`--JB500 Updates: 
--BILLING: 
SELECT DISTINCT 'PRM' BUSINESS_SEGMENT, '27' EVENT, '191' KEYWORD, 'C' ENTRY_TYPE, '*' COMPANY,
UA.JIBGROUP JIB_GROUP_CODE, A.KEYFULL ACCOUNT, '' PICKLIST, '*' AFFILIATE_COMPANY, CONCAT(LEFT(A.KEYFULL, 1), '1', RIGHT(A.KEYFULL, 7)) OFFSET_ACCOUNT,
'' PICKLIST, '' RESOURCE_CATEGORY, A.NAME DESCRIPTION
FROM ACCOUNT A
JOIN UPS_ACCOUNT UA
ON A.ID = UA.IDACCOUNT
LEFT JOIN JBONL_ACCOUNT_DEFAULT J
ON A.KEYFULL = J.ACCOUNT
AND J.KEYWORD_ID = '191'
WHERE UA.JIBGROUP IS NOT NULL
AND J.ACCOUNT IS NULL
AND A.HEADERACCOUNT = 0
AND UA.JIBGROUP <> 'PREPAY'
ORDER BY A.KEYFULL
--No Input is required. This query will auto generate.`,

`--OWNER: 
SELECT DISTINCT 'PRM' BUSINESS_SEGMENT, '31' EVENT, '200' KEYWORD, 'D' ENTRY_TYPE, '*' COMPANY,
UA.JIBGROUP JIB_GROUP_CODE, A.KEYFULL ACCOUNT, '' PICKLIST, '*' AFFILIATE_COMPANY, CONCAT(LEFT(A.KEYFULL, 1), '2', RIGHT(A.KEYFULL, 7)) OFFSET_ACCOUNT,
'' PICKLIST, '' RESOURCE_CATEGORY, A.NAME DESCRIPTION
FROM ACCOUNT A
JOIN UPS_ACCOUNT UA
ON A.ID = UA.IDACCOUNT
LEFT JOIN JBONL_ACCOUNT_DEFAULT J
ON A.KEYFULL = J.ACCOUNT
AND J.KEYWORD_ID = '200'
WHERE UA.JIBGROUP IS NOT NULL
AND J.ACCOUNT IS NULL
AND A.HEADERACCOUNT = 0
AND UA.JIBGROUP <> 'PREPAY'
ORDER BY A.KEYFULL
No Input is required. This query will auto generate.`,

`--Query JB500 JIB GROUP CODES TO MATCH GL013: 
--UPDATE J
--SET J.JIB_GRP_CD = UA.JIBGROUP
SELECT * 
FROM ACCOUNT A
JOIN UPS_ACCOUNT UA
ON A.ID = UA.IDACCOUNT
JOIN JBONL_ACCOUNT_DEFAULT J
ON A.KEYFULL = J.ACCOUNT
WHERE A.IDBEOWNER = 11
AND UA.JIBGROUP <> J.JIB_GRP_CD
No Input is required. This query will auto generate.`,

`--Unique Internal Companies by JIB: 
SELECT  D.BA_NO, BU.BUS_UNIT_CD, COUNT(*)
FROM DONL_DO_HDR H
JOIN GONL_PROP P
ON H.PROP_NO = P.PROP_NO
JOIN DONL_DO_DETAIL D
ON H.PROP_NO = D.PROP_NO
AND H.DO_TYPE_CD = D.DO_TYPE_CD
AND H.TIER = D.TIER
JOIN SCTRL_BA_ENTITY BA
ON D.BA_NO = BA.BA_NO
LEFT JOIN SCTRL_BUS_UNIT_BA BU
ON D.BA_NO = BU.BA_NO
WHERE H.DO_TYPE_CD = 'JIB' AND BU.BA_NO IS NOT NULL AND H.JIB_ACTIVE_CD = 'Y' AND P.PROP_STAT_CD = 'A'
--AND BA.BA_NM1 LIKE '%%' --AND BU.BA_NO IS NULL
GROUP BY D.BA_NO, BU.BUS_UNIT_CD
No Input is required. This query will auto generate.`,

`--THIS QUERY CHECKS FOR DISCREPANCIES BETWEEN CONVERTED GL BEGINNING BALANCES (GL095 - LOADED VIA QSTAGXLSIM) AND GL HISTORY (GL110 - GENERALJOURNALDETAIL_CONV)
--DISCREPANCIES ARE COMPARED AT THE BUSINESS UNIT/ACCOUNTING DATE/ACCOUNT LEVEL

SELECT *
FROM 
(
SELECT BUS_UNIT_CD, EOMONTH(DATEACCT) DATEACCT, ACCOUNT_KEYFULL, SUM(AMOUNT) AMOUNT1
FROM GENERALJOURNALDETAIL_CONV
--WHERE ACCOUNT_KEYFULL LIKE '%1150-100%' AND EOMONTH(DATEACCT) = '6/30/2019'
GROUP BY BUS_UNIT_CD, EOMONTH(DATEACCT), ACCOUNT_KEYFULL
) GL110
FULL OUTER JOIN 
(
SELECT BU_USERKEY, EOMONTH(DATEACCT) DATEACCT, KEYFULL, SUM(AMOUNT)  AMOUNT2
FROM UVW_UPS_JETRANSACTIONINQUIRY
WHERE JOURNALDEF = 'GLCONV'
--WHERE KEYFULL LIKE '%1150-100%' AND EOMONTH(DATEACCT) = '6/30/2019'
GROUP BY BU_USERKEY, EOMONTH(DATEACCT), KEYFULL
) GL095
ON GL110.BUS_UNIT_CD = GL095.BU_USERKEY
AND GL110.DATEACCT = GL095.DATEACCT
AND GL110.ACCOUNT_KEYFULL = GL095.KEYFULL
WHERE AMOUNT1 <> AMOUNT2 OR (GL095.AMOUNT2 IS NULL AND GL110.AMOUNT1 <> 0) OR (GL110.AMOUNT1 IS NULL AND GL095.AMOUNT2 <> 0)
ORDER BY GL110.DATEACCT, ACCOUNT_KEYFULL
No Input is required. This query will auto generate.`,

`--THIS VERSION OF THE QUERY JUST LOOKS FOR DISCREPANCIES AT THE BUSINESS UNIT/ACCOUNT LEVEL: 
SELECT *
FROM 
(
SELECT BUS_UNIT_CD, ACCOUNT_KEYFULL, SUM(AMOUNT) AMOUNT1
FROM GENERALJOURNALDETAIL_CONV
WHERE ACCOUNT_KEYFULL LIKE '% %' 
--AND EOMONTH(DATEACCT) = ''
GROUP BY BUS_UNIT_CD, ACCOUNT_KEYFULL
) GL110
LEFT JOIN 
(
SELECT BU_USERKEY, KEYFULL, SUM(AMOUNT)  AMOUNT2
FROM UVW_UPS_JETRANSACTIONINQUIRY
WHERE JOURNALDEF = 'GLCONV'
WHERE KEYFULL LIKE '%1150-100%' AND EOMONTH(DATEACCT) = '6/30/2019'
GROUP BY BU_USERKEY, KEYFULL
) GL095
ON GL110.BUS_UNIT_CD = GL095.BU_USERKEY
AND GL110.DATEACCT = GL095.DATEACCT
AND GL110.ACCOUNT_KEYFULL = GL095.KEYFULL
WHERE AMOUNT1 <> AMOUNT2 OR (GL095.AMOUNT2 IS NULL AND GL110.AMOUNT1 <> 0)
ORDER BY ACCOUNT_KEYFULL
InpuT is ACCOUNT_KEYFULL (xxxx-xxxx format)`,

`--VERIFY ALL GL OFFSET ACCOUNTS AGREE TO OFFSETTING COMPANIES, I.E. 1200-0975 FOR OFFSETTING COMPANY 975: 
SELECT BE1.USERKEY, BE2.USERKEY, A.KEYFULL, IC.*
FROM INTERCOMPANYCONFIG IC
JOIN ACCOUNT A
ON IC.IDACCOUNTOFFSET = A.ID
JOIN BUSINESSENTITY BE1
ON IC.IDBEOWNER = BE1.ID
JOIN BUSINESSENTITY BE2
ON IC.IDBEOWNERPOSTTO = BE2.ID
WHERE RIGHT(A.KEYFULL, 3) <> BE2.USERKEY
No Input is required. This query will auto generate.`,

`--VALIDATES THE GL ACCOUNTS ARE UNIQUE BY BUSINESS UNITS
SELECT BU.USERKEY AS 'BUSINESS UNIT', A.KEYFULL AS 'ACCOUNT' FROM BANKACCOUNT B
INNER JOIN BUSINESSENTITY BU
ON BU.ID = B.IDBEOWNER
INNER JOIN ACCOUNT A
ON A.ID = B.IDACCOUNT
AND A.IDBEOWNER = B.IDBEOWNER
WHERE A.ID IS NULL
OR BU.ID IS NULL
No Input is required. This query will auto generate.`,

`--CHECKS FOR VALID BUSINESS UNITS
SELECT * FROM BANKACCOUNT B
INNER JOIN BUSINESSENTITY BU
ON BU.ID = B.IDBEOWNER
WHERE BU.ID IS NULL 
No Input is required. This query will auto generate.`,

`--AFE Account Configuration: 
--1.	 For all AFEs at an AFE level
--a.	Include AFE #, AFE Name,  Working Interest,  Total Budget Amount, Gross  ITD Actuals, Net ITD Actuals

SELECT H.AFE_NO, H.AFE_DESCR, A.AFE_DOI_DEC, (ISNULL(B.GRS_DRL_AMT, 0)+ISNULL(B.GRS_CMP_AMT, 0)+ ISNULL(B.GRS_SUP_AMT, 0)+ISNULL(B.GRS_EQUIP_TIE_AMT, 0)) TOTAL_BUDGET_AMT, SL.GRS_ITD_ACTUALS, SL.NET_ITD_ACTUALS
FROM QCTRL_AFE_HDR H
JOIN
(
SELECT H.AFE_NO, AVG(C.DOI_DEC) AFE_DOI_DEC
FROM QCTRL_AFE_HDR H
JOIN QCTRL_AFE_COST_CNTR C
ON H.AFE_NO = C.AFE_NO
AND H.BUS_UNIT_CD = C.BUS_UNIT_CD
GROUP BY H.AFE_NO
) A
ON H.AFE_NO = A.AFE_NO
JOIN 
(
SELECT AFE_NO, SUM(GRS_DRL_AMT) GRS_DRL_AMT, SUM(GRS_CMP_AMT) GRS_CMP_AMT, SUM(GRS_SUP_AMT) GRS_SUP_AMT, SUM(GRS_EQUIP_TIE_AMT) GRS_EQUIP_TIE_AMT
FROM QCTRL_AFE_DETAIL
GROUP BY AFE_NO
) B
ON H.AFE_NO = B.AFE_NO
JOIN
(
SELECT AFE_NO, SUM(GRS_AMT) GRS_ITD_ACTUALS, SUM(NET_AMT) NET_ITD_ACTUALS
FROM QTRAN_AFE_SL
GROUP BY AFE_NO
) SL
ON H.AFE_NO = SL.AFE_NO
ORDER BY H.AFE_NO, H.AFE_DESCR
No Input is required. This query will auto generate.`,

`--2.	For all AFEs summed to the Account level within the AFE
--a.	Include AFE #, AFE Name, Account, Total Gross booked to Account

SELECT H.AFE_NO, H.AFE_DESCR, SL.LINE_CTGY_CD, L.LINE_CTGY_DESCR, SL.ACCT_NO, A.NAME ACCT_NAME, SL.GRS_ITD_ACTUALS
FROM QCTRL_AFE_HDR H
JOIN
(
SELECT AFE_NO, ACCT_NO, LINE_CTGY_CD, SUM(GRS_AMT) GRS_ITD_ACTUALS
FROM QTRAN_AFE_SL
GROUP BY AFE_NO, ACCT_NO, LINE_CTGY_CD
) SL
ON H.AFE_NO = SL.AFE_NO
JOIN QCODE_AFE_LINE_CTGY L
ON SL.LINE_CTGY_CD=L.LINE_CTGY_CD
JOIN BUSINESSENTITY BE
ON H.BUS_UNIT_CD = BE.USERKEY
JOIN ACCOUNT A
ON BE.ID = A.IDBEOWNER 
AND SL.ACCT_NO = A.KEYFULL
ORDER BY H.AFE_NO, H.AFE_DESCR, SL.LINE_CTGY_CD, L.LINE_CTGY_DESCR, SL.ACCT_NO, A.NAME
No Input is required. This query will auto generate.`,

`--EXECUTE THIS QUERY TO IDENTIFY THE DISTINCT RELATIONSHIP OF OPERATING COMPANIES AND AFFILIATE/INTERNAL COMPANIES, BASED OFF OF JIB DOI SET-UP
--THIS ONLY CHECKS FOR OPERATED PROPERTIES
--ALL DISTINCT COMPANY/AFFILIATE RELATIONSHIPS RETURNED BY THIS QUERY SHOULD BE CONFIGURED ON THE INTERCO EVENT IN JB500
SELECT DISTINCT P.BA_NO, BA.BUS_UNIT_CD
FROM GONL_PROP PR
JOIN GONL_PROP_EFF_DT P
ON PR.PROP_NO = P.PROP_NO
JOIN DONL_DO_HDR H
ON P.PROP_NO = H.PROP_NO
JOIN DONL_DO_DETAIL D
ON H.PROP_NO = D.PROP_NO
AND H.DO_TYPE_CD = D.DO_TYPE_CD
AND H.TIER = D.TIER
JOIN SCTRL_BUS_UNIT_BA BA
ON D.BA_NO = BA.BA_NO
WHERE H.DO_TYPE_CD = 'JIB'
AND PR.PROP_OPER_FL = 'Y'
AND PR.PROP_STAT_CD = 'A'
AND P.BA_NO <> D.BA_NO
No Input is required. This query will auto generate.`,

`--Unique Internal Companies by JIB DOI: 
SELECT  D.BA_NO, BU.BUS_UNIT_CD, COUNT(*)
FROM DONL_DO_HDR H
JOIN GONL_PROP P
ON H.PROP_NO = P.PROP_NO
JOIN DONL_DO_DETAIL D
ON H.PROP_NO = D.PROP_NO
AND H.DO_TYPE_CD = D.DO_TYPE_CD
AND H.TIER = D.TIER
JOIN SCTRL_BA_ENTITY BA
ON D.BA_NO = BA.BA_NO
LEFT JOIN SCTRL_BUS_UNIT_BA BU
ON D.BA_NO = BU.BA_NO
WHERE H.DO_TYPE_CD = 'JIB' AND BU.BA_NO IS NOT NULL AND H.JIB_ACTIVE_CD = 'Y' AND P.PROP_STAT_CD = 'A'
--AND BA.BA_NM1 LIKE '%PRIME%' --AND BU.BA_NO IS NULL
GROUP BY D.BA_NO, BU.BUS_UNIT_CD
No Input is required. This query will auto generate.`
  ];

  document.getElementById('output22').value = queries.join("\n\n");
}


function showAllQueries23() {
  var sql = "";

  sql += "--Query the Lock Type Code Setup (Each process requies a lock type that it needs to acquire. If there are concurrent or overlapping processes, both of them cannot acquire the lock simultaneously):\n";
  sql += "select * from QARCH_LOCK_MASTER_PROCESS where LOCK_TYPE_CD = '';\n\n";

  sql += "--Query the LOCK table to query for any active locks:\n";
  sql += "SELECT * FROM QARCH_LOCK;\n\n";

  sql += "--Query the LOCK audit table for Lock History:\n";
  sql += "select * from QARCH_HIST_LOCK;\n";

  document.getElementById("output23").value = sql;
}


function showAllQueries201() {
  let output = `--Query to find the max sequence number in all related DONL tables: 
SELECT Max(TRANS_GRP_SEQ_NO)
FROM (
	SELECT Max(TRANS_GRP_SEQ_NO) AS TRANS_GRP_SEQ_NO FROM DONL_INT_FUNDS_XFER_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_INT_FUNDS_XFER_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_OWNR_EXCPT_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_OWNR_EXCPT_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_PAY_CD_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_PAY_CD_MAINT_HDR
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DVD_DO_HIST
	UNION ALL
	SELECT Max(TRANS_GRP_SEQ_NO) FROM DONL_DO_HIST
) A;

--Query to find TRANS_GRP_SEQ_NO setup:
SELECT * 
FROM QARCH_TRAN_SEQ 
WHERE SEQ_NM = 'TRANS_GRP_SEQ_NO';`;

  document.getElementById("output201").value = output;
}

function showAllQueries202() {
  let output = `--Query to find Funds transfer information based on a Group Number: 
SELECT H.*, DTL.*
FROM DONL_INT_FUNDS_XFER_HDR H
JOIN DONL_INT_FUNDS_XFER_DTL DTL ON H.TRANS_SEQ_NO = DTL.TRANS_SEQ_NO
WHERE H.GRP_NO = '';`;

  document.getElementById("output202").value = output;
}

function showAllQueries203() {
  let output = `--Query to confirm Status Code description:
SELECT * 
FROM GCDE_GRP_STAT;

--Query to review Maintenance Group information:
SELECT GRP_STAT_CD, * 
FROM DONL_DVD_GRP 
ORDER BY UPDT_DT DESC;`;

  document.getElementById("output203").value = output;
}


</script>
</div>
<script>
// --- Reset helpers (robust, id-based) ---
function resetFields(...fields) {
  fields.forEach(fid => {
    const el = document.getElementById(fid);
    if (!el) return;
    const tag = (el.tagName || '').toUpperCase();

    if (tag === 'INPUT' || tag === 'TEXTAREA') {
      if (el.type === 'checkbox' || el.type === 'radio') {
        el.checked = false;
      } else {
        el.value = '';
      }
    } else {
      if ('value' in el && typeof el.value === 'string') el.value = '';
      if (typeof el.textContent === 'string') el.textContent = '';
      if (el.classList && el.classList.contains('output')) {
        el.textContent = '';
      }
    }
  });

  document.querySelectorAll('.copy-success, .copy-toast, .copied-badge').forEach(msg => {
    if (msg && msg.style) msg.style.display = 'none';
  });
}

function resetAllFields() {
  const ids = [];
  document.querySelectorAll('input, textarea, .output, pre[id^="output"], textarea[id^="output"], textarea[id^="sqlOutput"]').forEach(el => {
    if (el.id) ids.push(el.id);
  });

  // Use spread so scenario reset patterns continue to work
  resetFields(...ids);
}
</script>
</div><script>
document.addEventListener("keydown", function (e) {
  if (!e.ctrlKey) return;

  const activeTab = document.querySelector(".tab-content.active");
  if (!activeTab) return;

  const scenarioId = activeTab.id.replace("scenario", "");
  const generateFn = window[`generateSQL${scenarioId}`] || window[`generateScenario${scenarioId}`];
  const outputId = `output${scenarioId}`;

  if (e.key.toLowerCase() === "g" && generateFn) {
    e.preventDefault();
    generateFn();
  }
  if (e.key.toLowerCase() === "r") {
    e.preventDefault();
    const inputs = Array.from(activeTab.querySelectorAll("input")).map(el => el.id);
    inputs.push(outputId);
    resetFields(...inputs);
  }
  if (e.key.toLowerCase() === "c") {
    e.preventDefault();
    copySQL(outputId);
  }
});
</script>
<script>
function toggleEditable(id) {
  const el = document.getElementById(id);
  if (!el) return;
  const isReadonly = el.hasAttribute("readonly");
  if (isReadonly) {
    el.removeAttribute("readonly");
    el.style.background = "#fffbe6"; // Light yellow for editable
  } else {
    el.setAttribute("readonly", true);
    el.style.background = "#f0f0f0";
  }
}


</script>
<button id="scrollTopBtn" onclick="scrollToTop()" title="Back to Top">‚Üë</button>
<style>
#scrollTopBtn {
  display: none;
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 99;
  border: none;
  outline: none;
  background-color: #007BFF;
  color: white;
  cursor: pointer;
  padding: 12px 16px;
  border-radius: 50%;
  font-size: 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
#scrollTopBtn:hover {
  background-color: #0056b3;
}
</style>
<script>
window.onscroll = () => {
  const btn = document.getElementById("scrollTopBtn");
  btn.style.display = (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) ? "block" : "none";
};
function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
<script>
function searchScenarios() {
  const query = document.getElementById("searchInput").value.toLowerCase();
  const accordionButtons = document.querySelectorAll(".accordion-btn:not(.group-btn)");
  const scenarioContents = document.querySelectorAll(".tab-content");

  accordionButtons.forEach((btn, idx) => {
    const content = scenarioContents[idx];
    const labelText = Array.from(content.querySelectorAll("label")).map(l => l.innerText.toLowerCase()).join(" ");
    const liveTextareaText = Array.from(content.querySelectorAll("textarea.output")).map(t => t.value.toLowerCase()).join(" ");
    const staticText = content.innerText.toLowerCase();

    const combinedText = btn.innerText.toLowerCase() + " " + labelText + " " + liveTextareaText + " " + staticText;

    if (combinedText.includes(query)) {
      btn.style.display = "block";
      content.style.display = "block";
    } else {
      btn.style.display = "none";
      content.style.display = "none";
    }
  });

  document.querySelectorAll(".scenario-group").forEach(group => {
    const visibleScenarios = group.querySelectorAll(".accordion-btn:not([style*='display: none'])");
    group.style.display = visibleScenarios.length > 0 ? "block" : "none";
  });
}
</script>
<script>
function toggleSidebar() {
  const sidebar = document.querySelector('.sidebar-nav');
  sidebar.classList.toggle('collapsed');
}
</script>
<!-- Smart Search v3 (self-healing): robust mapping + auto hidden-SQL indexing -->
<style>
  .highlight { background: yellow; }
</style>
<script>
(function(){
  // --- helper: extract strings from function source (backticks, "double", 'single') ---
  function extractLiterals(fn) {
    if (typeof fn !== "function") return "";
    const src = Function.prototype.toString.call(fn);
    const parts = [];

    // backtick templates
    const tplRe = /`([\s\S]*?)`/g;
    let m;
    while ((m = tplRe.exec(src))) parts.push(m[1]);

    // double quotes
    const dqRe = /"([^"\\]*(?:\\.[^"\\]*)*)"/g;
    while ((m = dqRe.exec(src))) parts.push(m[1]);

    // single quotes
    const sqRe = /'([^'\\]*(?:\\.[^'\\]*)*)'/g;
    while ((m = sqRe.exec(src))) parts.push(m[1]);

    const text = parts.filter(s => s && s.trim()).join("\n");
    return text.replace(/<\/template>/gi, "</ temp late>"); // safety
  }

  // --- build or ensure <template class="sql-index"> inside each scenario ---
  function ensureSqlTemplates() {
    const btns = document.querySelectorAll(".accordion-btn:not(.group-btn)");
    btns.forEach(btn => {
      const oc = btn.getAttribute("onclick") || "";
      const m = oc.match(/'([^']+)'/);
      if (!m) return;
      const targetId = m[1];
      const panel = document.getElementById(targetId);
      if (!panel) return;

      // already has template?
      if (panel.querySelector("template.sql-index")) return;

      // try to find showAllQueriesX
      const scenNumMatch = targetId.match(/scenario(\d+)/i);
      let sqlIndex = "";
      if (scenNumMatch) {
        const n = scenNumMatch[1];
        const fn = window["showAllQueries" + n];
        sqlIndex = extractLiterals(fn);
      }

      // if nothing found, at least index labels & headings so search still works
      if (!sqlIndex) {
        const labels = Array.from(panel.querySelectorAll("label")).map(l => l.innerText).join("\n");
        sqlIndex = labels || "";
      }

      const tpl = document.createElement("template");
      tpl.className = "sql-index";
      tpl.innerHTML = sqlIndex;
      panel.insertBefore(tpl, panel.firstChild);
    });
  }

  // --- Smart search core ---
  const ScenarioSearch = {
    index: new Map(),
    normalize(s){ return (s||"").toLowerCase().replace(/\s+/g," ").trim(); },
    build(){
      ensureSqlTemplates(); // make sure hidden SQL exists before indexing

      const btns = document.querySelectorAll(".accordion-btn:not(.group-btn)");
      btns.forEach(btn => {
        const oc = btn.getAttribute("onclick") || "";
        const m = oc.match(/'([^']+)'/);
        if (!m) return;
        const targetId = m[1];
        const panel = document.getElementById(targetId);
        if (!panel) return;

        const title = btn.innerText || "";
        const labels = Array.from(panel.querySelectorAll("label")).map(l => l.innerText).join(" ");
        const staticText = panel.innerText || "";
        const tpl = panel.querySelector("template.sql-index");
        const hiddenSql = tpl ? tpl.content.textContent : "";
        const extra = btn.dataset.keywords || "";

        const all = this.normalize([title, labels, staticText, hiddenSql, extra].join(" "));
        this.index.set(targetId, { text: all, button: btn, content: panel });
      });
    },
    matches(haystack, query){
      const tokens = [];
      (query.toLowerCase().match(/"[^"]+"|\S+/g)||[]).forEach(tok=>{
        if (tok.startsWith('"') && tok.endsWith('"')) tokens.push(tok.slice(1,-1));
        else tokens.push(tok);
      });
      return tokens.every(t => haystack.includes(t));
    },
    search(q){
      const query = this.normalize(q);
      let anyVisible = false;
      this.index.forEach(({text,button,content})=>{
        const hit = query ? this.matches(text, query) : true;
        // Respect your CSS: '' restores original; only hide when false.
        button.style.display = hit ? "" : "none";
        content.style.display = hit ? "" : "none";
        anyVisible = anyVisible || hit;

        // label highlights (safe)
        Array.from(content.querySelectorAll("label")).forEach(label=>{
          const raw = label.getAttribute("data-raw") || label.innerText;
          label.setAttribute("data-raw", raw);
          if(!query){ label.innerHTML = raw; return; }
          const esc = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
          try {
            label.innerHTML = raw.replace(new RegExp('(' + esc + ')','ig'), "<span class='highlight'>$1</span>");
          } catch { label.innerHTML = raw; }
        });
      });

      // Hide empty groups only
      document.querySelectorAll(".scenario-group").forEach(group=>{
        const hasVisible = group.querySelectorAll(".accordion-btn:not(.group-btn):not([style*='display: none'])").length > 0;
        group.style.display = hasVisible ? "" : "none";
      });

      return anyVisible;
    }
  };

  // Expose (and override any older versions)
  window._ScenarioSearch = ScenarioSearch;
  window.searchScenarios = function(){
    const input = document.getElementById("searchInput");
    ScenarioSearch.search(input ? input.value : "");
  };
  window.filterScenarios = window.searchScenarios; // shim
  window.clearSearch = function(){
    const input = document.getElementById("searchInput");
    if (input) input.value = "";
    ScenarioSearch.search("");
  };

  // Build after DOM is ready
  document.addEventListener("DOMContentLoaded", ()=> {
    try { ScenarioSearch.build(); } catch(e) { console.error("Search build failed:", e); }
  });
})();
</script>
<script>
(function(){
  // =========================
  // 1) Hidden corpus for ALL scenarios (edit/extend freely)
  // =========================
  const CORPUS = {
    scenario1: `
Scenario 1: Triage Failing Process (QARCH)
QARCH_TRAN_IMPEXP_STATUS, QARCH_TRAN_PROCESS, QARCH_TRAN, QCTRL_PROCESS
PROCESS_ID, IMPEXP_ID, STATUS, START_DT, END_DT, ERROR, STACKTRACE, LOGFILE
"QPEC SYSTEM ERROR", RETRY, FAILED, COMPLETED, IN PROGRESS
`,

    scenario2: `
Scenario 2: AFE Workflow Breakdown
AFE_NO, ID_WF_INBOX, WF_ROUTE_NM, ID_WF_ROUTE_SMPL_STEP, DESK_NM
QWORKFLOWINBOX, QCTRL_WF_ROUTE, QCTRL_WF_STEP, WFROUTENM, WFSTATUSCD
Inbox assignments, route samples, desk routing, approvals, escalations
`,

    scenario3: `
Scenario 3: User Management
USERACCOUNT, USERROLE, SECURITYROLE, PERMISSION, ASSIGNED_USER_ID
USERKEY, IDBEOWNER, ACTIVE, LOCKED, LAST_LOGIN, ROLE MEMBERSHIP
`,

    scenario4: `
Scenario 4: GL025 Batch Triage
GL025, GENERALJOURNALLINE, ACCTG_MTH, DATEACCT, TRANS_TYPE
Batch name LIKE, USERKEY, IDBEOWNER, CREATED_DT, STATUS != POSTED
Accounting date range, journal batch validation and troubleshooting
`,

    scenario5: `
Scenario 5: AP055 Batch Triage
AP055, AP batch triage, TRANS_TYPE, ACCTG_MTH, USERKEY, IDBEOWNER
Batch NAME LIKE, Created Date range, status != POSTED
Duplicate batch detection (name + created date combination)
`,

    scenario6: `
Scenario 6: Receipts / Deposits
AUDITTRANSACTIONLOG, DEPOSITJOURNAL, BUSINESSENTITY
BATCHDEPOSITWITHMATCHMASTER, BATCHDWMCUSTOMERS, BATCHDWMRECEIPTS
IDBATCHMASTER, RECEIPTNUM, DEPOSITNUMBER, REFNUM
`,

    scenario7: `
Scenario 7: Check Run - AP061
BATCHCHECKRUNMASTER / IDBATCHECKRUNMASTER, CHECKNUM (LIKE), PAYAMT, USERKEY
Remittance, payment validation, postings, exceptions
`,

    scenario8: `
Scenario 8: Trace QCFS Imports
JOURNAL_ID, TRANS_TYPE, ACCTG_MTH (YYYY-MM-DD)
QSTAGXLSIMP, JOURNAL_ID_IMPORT, CORE INTERFACE IMPORT CONFIG
Trace imports by month and type across QCFS pipelines
`,

    scenario9: `
Scenario 9: Maintenance Application
PROCESS_ID, IMPEXP_ID, FTP_ID, FTP_HOST_ID, EVENT_TYPE_CD, METADATA_PROFILE
QARCH_TRAN_IMPEXP_STATUS, QARCH_TRAN_IMPEXP
FTP_HOST, SCHEDULES, CRON-like timers, success/failure audit
`,

    scenario10: `
Scenario 10: Batch Vouchers
BATCHVOUCHERMASTER (BM), BATCHVOUCHERDETAIL (BD), BATCHVOUCHERGLDISTRIBUTION (BL)
VOUNUM, IDBATINVMASTER, USERKEY, ASSIGNED_USER_ID,
WFSTATUSCD, IDWFINSTANCE, WFROUTENMSELECTED, APRVSTATUS, POSTED
Documents: DOCMASTER, DOCPROPS, DOC_CONTENT_TYPE_CD, DOC_NM, REFNUMDOC, DOC_PROP_VAL, DOC_ID
`,

    scenario11: `
Scenario 11: Journal / Posting Exceptions
POSTING ERRORS, UNBALANCED, MISSING ACCOUNT, INVALID SEGMENT
WF approvals, posting queue, exception handling, requeue, rollback
`,

    scenario12: `
Scenario 12: Customer Open Item Triaging
CUSTOMEROPENITEM, CUSTOMER, BUSINESSENTITY
LOCKEDTOBATCH (LIKE), USERKEY, IDBEOWNER, IDCUSTOMER
Open item drilldown, batch locks, reconciliation
`,

    scenario13: `
Scenario 13: General Batch, QCFS Export, QCFS Import, and Open Item Queries
QARCH_TRAN_IMPEXP_STATUS (exports/imports)
OPEN ITEM tables (CUSTOMEROPENITEM, OPENITEM_PROP_NO),
IDBEOWNER, BA_NO, SET_ID, BUS_UNIT_CD, OWNER_BA_NO
UPDT_DT, ACCTG_MTH (YYYY-MM-DD), PROCESS_PERIOD
`,

    scenario14: `
Scenario 14: Business Associate (BA005 or BA Web)
--Review Business Entities in BA005/BA Web:
SELECT * FROM SCTRL_BA_ENTITY WHERE BA_NO IN ('')
--Review Business Associate Address Tab in BA005/BA Web:
SELECT * FROM SCTRL_BA_ADDRESS WHERE BA_NO IN ('')
--Review Business Associate Contacts Tab in BA005/BA Web:
SELECT * FROM SCTRL_CONTACT WHERE PRIMARY_BP_NO IN ('')
--Review Business Associate Contacts Address Tab in BA005/BA Web:
SELECT * FROM SCTRL_CONTACT_ADDRESS WHERE PRIMARY_BP_NO IN ('')
--BA History / History of Changes:
BA_HISTORY, HISTORY, HISTORICAL, HIST
`,

    scenario15: `
Scenario 15: ADP Import (example via update date)
QARCH_TRAN_IMPEXP_STATUS
UPDT_DT BETWEEN 'YYYY-MM-DD' AND 'YYYY-MM-DD'
ADP Import runs, status windows, processed vs failed lines
`,

    scenario16: `
Scenario 16: Account Set Up - GL095 & Chart of Accounts - GL013
KEYFULL, IDBEOWNER, BA_NO
GL095, GL013, ACCOUNT, CHARTOFACCOUNTS, GLACCOUNTSEGMENT, SEGMENT RULES
`,

    scenario17: `
Scenario 17: Cross Reference (MT100) / Journal Definitions (SM021) / Workflow Definitions (SM093) / Voucher Payment Term Definition (AP047)
"--QSTAGXLSIMP - JOURNAL_ID & TRANS_ID determine file type (AR/AP/GL)"
JOURNAL_ID_IMPORT
SXREF_CORE_INTFC_QCFS_EXT
QCTRL_CORE_INTEFACE_IMPORT_CONFIG_AFE / _DDA / _JIB  (TRANS_TYPE, JOURNAL_ID)
Workflow definitions (SM093), Voucher payment term definitions (AP047)
Two USERKEY inputs supported
`,

    scenario18: `
Scenario 18: Resolve BU Information
Match BU (USERKEY) to IDCUSTOMER in BUSINESSENTITY
SELECT USERKEY, ID AS CUSTOMER_ID, NAME, * FROM BUSINESSENTITY WHERE USERKEY = ' '
Related/audit trail terms: AUDIT, AUDIT LOG, AUDIT TRAIL, AUDITTRANSACTIONLOG, WORKFLOW INBOX
`,

    scenario19: `
Scenario 19: POSTWKFL
Posting workflow routing and statuses
QWORKFLOWINBOX, BATCHMASTER, POSTING QUEUE, approvals, escalations
`,

    scenario20: `
Scenario 20: Workflow Inbox & Approvals
UVW_WORKFLOWINBOX, IDBATCHMASTER joins, step transitions
ASSIGNED DESK, ROUTE, STATUS, AGE, SLA
`,

    scenario21: `
Scenario 21: Import/Export Windows & Doc Links
QARCH_TRAN_IMPEXP_STATUS by windows (UPDT_DT)
Doc associations (DOCMASTER/DOCPROPS), REFNUMDOC, DOC_ID linking
`,

    scenario22: `
Scenario 22: Voucher Lines & GL Distribution
BATCHVOUCHERDETAIL, BATCHVOUCHERGLDISTRIBUTION
Voucher detail line lookups, distribution validation, totals vs control
`,

  };

  // =========================
  // 2) Install corpus templates into each scenario once
  // =========================
  function installSearchCorpus(){
    Object.entries(CORPUS).forEach(([id, text])=>{
      const sc = document.getElementById(id);
      if(!sc) return;
      // Don't duplicate if already present
      if (sc.querySelector("template.search-corpus")) return;

      const t = document.createElement("template");
      t.className = "search-corpus";
      // Use text node to avoid HTML parsing in corpus
      t.content.appendChild(document.createTextNode(text));
      sc.appendChild(t);
    });
  }

  // =========================
  // 3) Smart search engine + ‚Äúwhy matched‚Äù
  // =========================
  const norm = s => (s || "")
    .toLowerCase()
    .normalize("NFD").replace(/\p{Diacritic}/gu, "")
    .replace(/\s+/g, " ")
    .trim();

  // Expand common fragments ‚Üí synonyms/stems you care about
  const STEM_SYNONYMS = {
    "hist": ["history","historical","hist.","ba_history","change history","history of changes"],
    "audit": ["audit","audit trail","audittransactionlog","audit log","auditing"],
    "inv": ["invoice","invoices"],
    "vou": ["voucher","vouchers"],
    "wf": ["workflow","wfstatuscd","wfroutenm","workflow inbox","wfinstance"],
    "gl": ["general journal","generaljournalline","chart of accounts","gl013","gl095"],
    "ap": ["ap055","voucher","payable"],
    "afe": ["afe","wf route","route sample","desk","wfinbox"],
    "qcfs": ["qstagxlsimp","journal_id_import","core interface","export","import"],
    "post": ["postwkfl","posting","posted","post workflow"]
  };

  function expandQuery(q){
    const nq = norm(q);
    const parts = [nq];
    Object.keys(STEM_SYNONYMS).forEach(key=>{
      if(nq.includes(key)) parts.push(...STEM_SYNONYMS[key]);
    });
    return [...new Set(parts)];
  }

  const SCENARIO_SELECTOR = ".tab-content[id^='scenario']";
  const index = new Map(); // id -> { raw, norm, lines[] }

  function buildIndex(){
    index.clear();
    document.querySelectorAll(SCENARIO_SELECTOR).forEach(sc=>{
      const id = sc.id; // e.g., scenario14
      const visibleBits = [];
      visibleBits.push(sc.querySelector("h2")?.innerText || "");
      sc.querySelectorAll("label").forEach(l=>visibleBits.push(l.innerText));
      sc.querySelectorAll("input,textarea").forEach(el=>{
        if(el.placeholder) visibleBits.push(el.placeholder);
        if(el.defaultValue) visibleBits.push(el.defaultValue);
      });
      const corpusBits = [];
      sc.querySelectorAll("template.search-corpus").forEach(t=>{
        corpusBits.push(t.content.textContent || "");
      });

      const raw = (visibleBits.join("\n") + "\n" + corpusBits.join("\n"));
      const n = norm(raw);
      const lines = raw.split(/\r?\n/).map(l=>({ raw: l, norm: norm(l) }));

      index.set(id, { raw, norm: n, lines });
    });
  }

  function searchScenariosSmart(query){
    const needles = expandQuery(query).filter(Boolean);
    if(!needles.length) return [];

    const results = [];
    for (const [id, doc] of index.entries()){
      let score = 0;
      const snippets = new Set();

      needles.forEach(n=>{
        if (doc.norm.includes(n)) score += 5;
        for (const ln of doc.lines){
          if (ln.norm.includes(n)) {
            let snippet = ln.raw.trim();
            if (snippet.length > 160) snippet = snippet.slice(0,160) + "‚Ä¶";
            snippets.add(snippet);
            score += 1;
            if (snippets.size >= 3) break;
          }
        }
      });

      if (score > 0) results.push({ id, score, hits: Array.from(snippets) });
    }

    results.sort((a,b)=>b.score - a.score);
    return results;
  }

  function clearCorrelations(){
    document.querySelectorAll(".search-correlation").forEach(n=>n.remove());
  }

  function renderSearchCorrelations(results){
    clearCorrelations();
    results.forEach(r=>{
      const sc = document.getElementById(r.id);
      if(!sc) return;
      const anchor = sc.querySelector("h2") || sc;

      const box = document.createElement("div");
      box.className = "search-correlation";
      box.style.cssText = "margin:8px 0 0 0; padding:8px; border:1px dashed #bbb; font-size:.9rem; opacity:.9;";

      const title = document.createElement("div");
      title.style.fontWeight = "600";
      title.textContent = "Why this matched:";
      box.appendChild(title);

      const ul = document.createElement("ul");
      ul.style.margin = "6px 0 0";
      r.hits.forEach(h=>{
        const li = document.createElement("li");
        li.textContent = h;
        ul.appendChild(li);
      });
      box.appendChild(ul);

      anchor.insertAdjacentElement("afterend", box);
    });
  }

  function highlightSearchNeedles(query){
    const needles = expandQuery(query).filter(Boolean);
    if(!needles.length) return;

    const rx = new RegExp("(" + needles.map(n=>n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|") + ")", "ig");
    document.querySelectorAll(`${SCENARIO_SELECTOR} .search-correlation`).forEach(box=>{
      box.innerHTML = box.innerHTML.replace(rx, "<mark>$1</mark>");
    });
  }

  function setScenarioVisibility(sc, show){
    const btn = sc.previousElementSibling && sc.previousElementSibling.classList?.contains("accordion-btn")
      ? sc.previousElementSibling
      : null;

    sc.style.display = show ? "" : "none";
    if (btn) btn.style.display = show ? "" : "none";
  }

  function revealOnly(matchesSet){
    document.querySelectorAll(SCENARIO_SELECTOR).forEach(sc=>{
      const show = matchesSet.has(sc.id);
      setScenarioVisibility(sc, show);
    });
  }

  function showAll(){
    document.querySelectorAll(SCENARIO_SELECTOR).forEach(sc=>setScenarioVisibility(sc, true));
  }

  // Public: bind to a search input (defaults to #searchInput)
  window.bindSmartSearchTo = function(inputSelector="#searchInput"){
    const inp = document.querySelector(inputSelector);
    if (!inp) return;

    const handler = ()=>{
      const q = inp.value.trim();
      if (!q){
        clearCorrelations();
        showAll();
        return;
      }
      const results = searchScenariosSmart(q);
      const ids = new Set(results.map(r=>r.id));
      revealOnly(ids);
      renderSearchCorrelations(results);
      highlightSearchNeedles(q);
    };

    inp.addEventListener("input", handler);
    handler();
  };

  // =========================
  // 4) Initialization order: install corpus ‚Üí build index ‚Üí bind search
  // =========================
  function initSmartSearch(){
    installSearchCorpus();
    buildIndex();
    window.bindSmartSearchTo("#searchInput");
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initSmartSearch);
  } else {
    initSmartSearch();
  }
})();
</script>
<style>
  /* Optional: small visual touch for why-match box */
  .search-correlation mark { padding: 0 .15em; border-radius: .2em; }
</style>
<script>
function showAllGroups() {
  document.querySelectorAll(".scenario-group").forEach(g => g.style.display = "block");
}

// Expand all scenarios (and show all groups)
);
  contents.forEach(content => content.classList.add("active"));
}

// Collapse all scenarios (and re-hide groups for a clean reset)
);
  contents.forEach(content => content.classList.remove("active"));
}
</script>
<script>
function showAllGroups() {
  document.querySelectorAll(".scenario-group").forEach(g => g.style.display = "block");
}

// Expand all scenarios (and show all groups)
function expandAll() {
  showAllGroups();
  const buttons = document.querySelectorAll(".accordion-btn:not(.group-btn)");
  const contents = document.querySelectorAll(".tab-content");
  buttons.forEach(btn => {
    btn.classList.add("active");
    btn.innerHTML = btn.innerHTML.replace(/^‚ûï|‚ûñ/, '‚ûñ');
  });
  contents.forEach(content => content.classList.add("active"));
}

// Collapse all scenarios (re-hide groups, reset icons, and clear search box)
function collapseAll() {
  // Clear search input if present
  const search = document.getElementById("searchInput");
  if (search) search.value = "";

  // Hide groups
  document.querySelectorAll(".scenario-group").forEach(g => g.style.display = "none");

  const buttons = document.querySelectorAll(".accordion-btn:not(.group-btn)");
  const contents = document.querySelectorAll(".tab-content");
  buttons.forEach(btn => {
    btn.classList.remove("active");
    btn.innerHTML = btn.innerHTML.replace(/^‚ûï|‚ûñ/, '‚ûï');
  });
  contents.forEach(content => content.classList.remove("active"));
}
</script>
</body>
</html>
<script>

function toggleGroup(groupId) {
  const group = document.getElementById(groupId);
  const button = document.querySelector(`[onclick="toggleGroup('${groupId}')"]`);
  if (!group || !button) return;

  const isVisible = group.style.display === 'block';
  group.style.display = isVisible ? 'none' : 'block';

  // Update button text
  const baseLabel = button.textContent.replace(/\s*\(Expanded\)/, '');
  button.textContent = isVisible ? baseLabel : `${baseLabel} (Expanded)`;
}

</script>
